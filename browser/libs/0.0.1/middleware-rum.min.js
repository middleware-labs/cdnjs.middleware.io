!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,l=[],p=!1,d=-1;function _(){p&&u&&(p=!1,u.length?l=u.concat(l):d=-1,l.length&&m())}function m(){if(!p){var e=c(_);p=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,p=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||p||c(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,r){(function(t,n){(function(){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r.setImmediate="function"==typeof t?t:function(e){var t=c++,n=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o((function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))})),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,r){"use strict";t.exports=e("./packages/init")},{"./packages/init":249}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ContextAPI=void 0;const n=e("../context/NoopContextManager"),o=e("../internal/global-utils"),i=e("./diag"),a="context",s=new n.NoopContextManager;class c{constructor(){}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalContextManager(e){return(0,o.registerGlobal)(a,e,i.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,o.getGlobal)(a)||s}disable(){this._getContextManager().disable(),(0,o.unregisterGlobal)(a,i.DiagAPI.instance())}}r.ContextAPI=c},{"../context/NoopContextManager":14,"../internal/global-utils":22,"./diag":5}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiagAPI=void 0;const n=e("../diag/ComponentLogger"),o=e("../diag/internal/logLevelLogger"),i=e("../diag/types"),a=e("../internal/global-utils");class s{constructor(){function e(e){return function(...t){const r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:i.DiagLogLevel.INFO})=>{var n,s,c;if(e===t){const e=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});const u=(0,a.getGlobal)("diag"),l=(0,o.createLogLevelDiagLogger)(null!==(s=r.logLevel)&&void 0!==s?s:i.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){const e=null!==(c=(new Error).stack)&&void 0!==c?c:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",l,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}r.DiagAPI=s},{"../diag/ComponentLogger":17,"../diag/internal/logLevelLogger":19,"../diag/types":20,"../internal/global-utils":22}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MetricsAPI=void 0;const n=e("../metrics/NoopMeterProvider"),o=e("../internal/global-utils"),i=e("./diag"),a="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,o.registerGlobal)(a,e,i.DiagAPI.instance())}getMeterProvider(){return(0,o.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,o.unregisterGlobal)(a,i.DiagAPI.instance())}}r.MetricsAPI=s},{"../internal/global-utils":22,"../metrics/NoopMeterProvider":27,"./diag":5}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PropagationAPI=void 0;const n=e("../internal/global-utils"),o=e("../propagation/NoopTextMapPropagator"),i=e("../propagation/TextMapPropagator"),a=e("../baggage/context-helpers"),s=e("../baggage/utils"),c=e("./diag"),u="propagation",l=new o.NoopTextMapPropagator;class p{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=a.getBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new p),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,c.DiagAPI.instance())}inject(e,t,r=i.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=i.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}r.PropagationAPI=p},{"../baggage/context-helpers":9,"../baggage/utils":12,"../internal/global-utils":22,"../propagation/NoopTextMapPropagator":31,"../propagation/TextMapPropagator":32,"./diag":5}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceAPI=void 0;const n=e("../internal/global-utils"),o=e("../trace/ProxyTracerProvider"),i=e("../trace/spancontext-utils"),a=e("../trace/context-utils"),s=e("./diag"),c="trace";class u{constructor(){this._proxyTracerProvider=new o.ProxyTracerProvider,this.wrapSpanContext=i.wrapSpanContext,this.isSpanContextValid=i.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(c,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(c,s.DiagAPI.instance()),this._proxyTracerProvider=new o.ProxyTracerProvider}}r.TraceAPI=u},{"../internal/global-utils":22,"../trace/ProxyTracerProvider":38,"../trace/context-utils":40,"../trace/spancontext-utils":46,"./diag":5}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deleteBaggage=r.setBaggage=r.getBaggage=void 0;const n=(0,e("../context/context").createContextKey)("OpenTelemetry Baggage Key");r.getBaggage=function(e){return e.getValue(n)||void 0},r.setBaggage=function(e,t){return e.setValue(n,t)},r.deleteBaggage=function(e){return e.deleteValue(n)}},{"../context/context":15}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BaggageImpl=void 0;class n{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new n(this._entries);return r._entries.set(e,t),r}removeEntry(e){const t=new n(this._entries);return t._entries.delete(e),t}removeEntries(...e){const t=new n(this._entries);for(const r of e)t._entries.delete(r);return t}clear(){return new n}}r.BaggageImpl=n},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.baggageEntryMetadataSymbol=void 0,r.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.baggageEntryMetadataFromString=r.createBaggage=void 0;const n=e("../api/diag"),o=e("./internal/baggage-impl"),i=e("./internal/symbol"),a=n.DiagAPI.instance();r.createBaggage=function(e={}){return new o.BaggageImpl(new Map(Object.entries(e)))},r.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:i.baggageEntryMetadataSymbol,toString:()=>e}}},{"../api/diag":5,"./internal/baggage-impl":10,"./internal/symbol":11}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.context=void 0;const n=e("./api/context");r.context=n.ContextAPI.getInstance()},{"./api/context":4}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoopContextManager=void 0;const n=e("./context");r.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},{"./context":15}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ROOT_CONTEXT=r.createContextKey=void 0,r.createContextKey=function(e){return Symbol.for(e)};class n{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,r)=>{const o=new n(t._currentContext);return o._currentContext.set(e,r),o},t.deleteValue=e=>{const r=new n(t._currentContext);return r._currentContext.delete(e),r}}}r.ROOT_CONTEXT=new n},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.diag=void 0;const n=e("./api/diag");r.diag=n.DiagAPI.instance()},{"./api/diag":5}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiagComponentLogger=void 0;const n=e("../internal/global-utils");function o(e,t,r){const o=(0,n.getGlobal)("diag");if(o)return r.unshift(t),o[e](...r)}r.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return o("debug",this._namespace,e)}error(...e){return o("error",this._namespace,e)}info(...e){return o("info",this._namespace,e)}warn(...e){return o("warn",this._namespace,e)}verbose(...e){return o("verbose",this._namespace,e)}}},{"../internal/global-utils":22}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiagConsoleLogger=void 0;const n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];r.DiagConsoleLogger=class{constructor(){function e(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(let t=0;t<n.length;t++)this[n[t].n]=e(n[t].c)}}},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createLogLevelDiagLogger=void 0;const n=e("../types");r.createLogLevelDiagLogger=function(e,t){function r(r,n){const o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},{"../types":20}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r.DiagLogLevel||(r.DiagLogLevel={}))},{}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.trace=r.propagation=r.metrics=r.diag=r.context=r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=r.isValidSpanId=r.isValidTraceId=r.isSpanContextValid=r.createTraceState=r.TraceFlags=r.SpanStatusCode=r.SpanKind=r.SamplingDecision=r.ProxyTracerProvider=r.ProxyTracer=r.defaultTextMapSetter=r.defaultTextMapGetter=r.ValueType=r.createNoopMeter=r.DiagLogLevel=r.DiagConsoleLogger=r.ROOT_CONTEXT=r.createContextKey=r.baggageEntryMetadataFromString=void 0;var n=e("./baggage/utils");Object.defineProperty(r,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}});var o=e("./context/context");Object.defineProperty(r,"createContextKey",{enumerable:!0,get:function(){return o.createContextKey}}),Object.defineProperty(r,"ROOT_CONTEXT",{enumerable:!0,get:function(){return o.ROOT_CONTEXT}});var i=e("./diag/consoleLogger");Object.defineProperty(r,"DiagConsoleLogger",{enumerable:!0,get:function(){return i.DiagConsoleLogger}});var a=e("./diag/types");Object.defineProperty(r,"DiagLogLevel",{enumerable:!0,get:function(){return a.DiagLogLevel}});var s=e("./metrics/NoopMeter");Object.defineProperty(r,"createNoopMeter",{enumerable:!0,get:function(){return s.createNoopMeter}});var c=e("./metrics/Metric");Object.defineProperty(r,"ValueType",{enumerable:!0,get:function(){return c.ValueType}});var u=e("./propagation/TextMapPropagator");Object.defineProperty(r,"defaultTextMapGetter",{enumerable:!0,get:function(){return u.defaultTextMapGetter}}),Object.defineProperty(r,"defaultTextMapSetter",{enumerable:!0,get:function(){return u.defaultTextMapSetter}});var l=e("./trace/ProxyTracer");Object.defineProperty(r,"ProxyTracer",{enumerable:!0,get:function(){return l.ProxyTracer}});var p=e("./trace/ProxyTracerProvider");Object.defineProperty(r,"ProxyTracerProvider",{enumerable:!0,get:function(){return p.ProxyTracerProvider}});var d=e("./trace/SamplingResult");Object.defineProperty(r,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var _=e("./trace/span_kind");Object.defineProperty(r,"SpanKind",{enumerable:!0,get:function(){return _.SpanKind}});var m=e("./trace/status");Object.defineProperty(r,"SpanStatusCode",{enumerable:!0,get:function(){return m.SpanStatusCode}});var h=e("./trace/trace_flags");Object.defineProperty(r,"TraceFlags",{enumerable:!0,get:function(){return h.TraceFlags}});var g=e("./trace/internal/utils");Object.defineProperty(r,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var f=e("./trace/spancontext-utils");Object.defineProperty(r,"isSpanContextValid",{enumerable:!0,get:function(){return f.isSpanContextValid}}),Object.defineProperty(r,"isValidTraceId",{enumerable:!0,get:function(){return f.isValidTraceId}}),Object.defineProperty(r,"isValidSpanId",{enumerable:!0,get:function(){return f.isValidSpanId}});var E=e("./trace/invalid-span-constants");Object.defineProperty(r,"INVALID_SPANID",{enumerable:!0,get:function(){return E.INVALID_SPANID}}),Object.defineProperty(r,"INVALID_TRACEID",{enumerable:!0,get:function(){return E.INVALID_TRACEID}}),Object.defineProperty(r,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return E.INVALID_SPAN_CONTEXT}});const T=e("./context-api");Object.defineProperty(r,"context",{enumerable:!0,get:function(){return T.context}});const v=e("./diag-api");Object.defineProperty(r,"diag",{enumerable:!0,get:function(){return v.diag}});const S=e("./metrics-api");Object.defineProperty(r,"metrics",{enumerable:!0,get:function(){return S.metrics}});const y=e("./propagation-api");Object.defineProperty(r,"propagation",{enumerable:!0,get:function(){return y.propagation}});const b=e("./trace-api");Object.defineProperty(r,"trace",{enumerable:!0,get:function(){return b.trace}}),r.default={context:T.context,diag:v.diag,metrics:S.metrics,propagation:y.propagation,trace:b.trace}},{"./baggage/utils":12,"./context-api":13,"./context/context":15,"./diag-api":16,"./diag/consoleLogger":18,"./diag/types":20,"./metrics-api":24,"./metrics/Metric":25,"./metrics/NoopMeter":26,"./propagation-api":30,"./propagation/TextMapPropagator":32,"./trace-api":33,"./trace/ProxyTracer":37,"./trace/ProxyTracerProvider":38,"./trace/SamplingResult":39,"./trace/internal/utils":43,"./trace/invalid-span-constants":44,"./trace/span_kind":45,"./trace/spancontext-utils":46,"./trace/status":47,"./trace/trace_flags":48}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unregisterGlobal=r.getGlobal=r.registerGlobal=void 0;const n=e("../platform"),o=e("../version"),i=e("./semver"),a=o.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${a}`),c=n._globalThis;r.registerGlobal=function(e,t,r,n=!1){var i;const a=c[s]=null!==(i=c[s])&&void 0!==i?i:{version:o.VERSION};if(!n&&a[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==o.VERSION){const e=new Error("@opentelemetry/api: All API registration versions must match");return r.error(e.stack||e.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${o.VERSION}.`),!0},r.getGlobal=function(e){var t,r;const n=null===(t=c[s])||void 0===t?void 0:t.version;if(n&&(0,i.isCompatible)(n))return null===(r=c[s])||void 0===r?void 0:r[e]},r.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${o.VERSION}.`);const r=c[s];r&&delete r[e]}},{"../platform":29,"../version":49,"./semver":23}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isCompatible=r._makeCompatibilityCheck=void 0;const n=e("../version"),o=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function i(e){const t=new Set([e]),r=new Set,n=e.match(o);if(!n)return()=>!1;const i=+n[1],a=+n[2],s=+n[3];if(null!=n[4])return function(t){return t===e};function c(e){return r.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;const n=e.match(o);if(!n)return c(e);const l=+n[1],p=+n[2],d=+n[3];return null!=n[4]||i!==l?c(e):0===i?a===p&&s<=d?u(e):c(e):a<=p?u(e):c(e)}}r._makeCompatibilityCheck=i,r.isCompatible=i(n.VERSION)},{"../version":49}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.metrics=void 0;const n=e("./api/metrics");r.metrics=n.MetricsAPI.getInstance()},{"./api/metrics":6}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(r.ValueType||(r.ValueType={}))},{}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createNoopMeter=r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=r.NOOP_OBSERVABLE_GAUGE_METRIC=r.NOOP_OBSERVABLE_COUNTER_METRIC=r.NOOP_UP_DOWN_COUNTER_METRIC=r.NOOP_HISTOGRAM_METRIC=r.NOOP_COUNTER_METRIC=r.NOOP_METER=r.NoopObservableUpDownCounterMetric=r.NoopObservableGaugeMetric=r.NoopObservableCounterMetric=r.NoopObservableMetric=r.NoopHistogramMetric=r.NoopUpDownCounterMetric=r.NoopCounterMetric=r.NoopMetric=r.NoopMeter=void 0;class n{constructor(){}createHistogram(e,t){return r.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return r.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return r.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return r.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return r.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}r.NoopMeter=n;class o{}r.NoopMetric=o;class i extends o{add(e,t){}}r.NoopCounterMetric=i;class a extends o{add(e,t){}}r.NoopUpDownCounterMetric=a;class s extends o{record(e,t){}}r.NoopHistogramMetric=s;class c{addCallback(e){}removeCallback(e){}}r.NoopObservableMetric=c;class u extends c{}r.NoopObservableCounterMetric=u;class l extends c{}r.NoopObservableGaugeMetric=l;class p extends c{}r.NoopObservableUpDownCounterMetric=p,r.NOOP_METER=new n,r.NOOP_COUNTER_METRIC=new i,r.NOOP_HISTOGRAM_METRIC=new s,r.NOOP_UP_DOWN_COUNTER_METRIC=new a,r.NOOP_OBSERVABLE_COUNTER_METRIC=new u,r.NOOP_OBSERVABLE_GAUGE_METRIC=new l,r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new p,r.createNoopMeter=function(){return r.NOOP_METER}},{}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NOOP_METER_PROVIDER=r.NoopMeterProvider=void 0;const n=e("./NoopMeter");class o{getMeter(e,t,r){return n.NOOP_METER}}r.NoopMeterProvider=o,r.NOOP_METER_PROVIDER=new o},{"./NoopMeter":26}],28:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof e?e:{}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./globalThis"),r)},{"./globalThis":28}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.propagation=void 0;const n=e("./api/propagation");r.propagation=n.PropagationAPI.getInstance()},{"./api/propagation":7}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTextMapPropagator=void 0;r.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},{}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultTextMapSetter=r.defaultTextMapGetter=void 0,r.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},r.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},{}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.trace=void 0;const n=e("./api/trace");r.trace=n.TraceAPI.getInstance()},{"./api/trace":8}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NonRecordingSpan=void 0;const n=e("./invalid-span-constants");r.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},{"./invalid-span-constants":44}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTracer=void 0;const n=e("../api/context"),o=e("../trace/context-utils"),i=e("./NonRecordingSpan"),a=e("./spancontext-utils"),s=n.ContextAPI.getInstance();r.NoopTracer=class{startSpan(e,t,r){if(Boolean(null==t?void 0:t.root))return new i.NonRecordingSpan;const n=r&&(0,o.getSpanContext)(r);return"object"==typeof(s=n)&&"string"==typeof s.spanId&&"string"==typeof s.traceId&&"number"==typeof s.traceFlags&&(0,a.isSpanContextValid)(n)?new i.NonRecordingSpan(n):new i.NonRecordingSpan;var s}startActiveSpan(e,t,r,n){let i,a,c;if(arguments.length<2)return;2===arguments.length?c=t:3===arguments.length?(i=t,c=r):(i=t,a=r,c=n);const u=null!=a?a:s.active(),l=this.startSpan(e,i,u),p=(0,o.setSpan)(u,l);return s.with(p,c,void 0,l)}}},{"../api/context":4,"../trace/context-utils":40,"./NonRecordingSpan":34,"./spancontext-utils":46}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTracerProvider=void 0;const n=e("./NoopTracer");r.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},{"./NoopTracer":35}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProxyTracer=void 0;const n=new(e("./NoopTracer").NoopTracer);r.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)}_getTracer(){if(this._delegate)return this._delegate;const e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},{"./NoopTracer":35}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProxyTracerProvider=void 0;const n=e("./ProxyTracer"),o=new(e("./NoopTracerProvider").NoopTracerProvider);r.ProxyTracerProvider=class{getTracer(e,t,r){var o;return null!==(o=this.getDelegateTracer(e,t,r))&&void 0!==o?o:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}},{"./NoopTracerProvider":36,"./ProxyTracer":37}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r.SamplingDecision||(r.SamplingDecision={}))},{}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSpanContext=r.setSpanContext=r.deleteSpan=r.setSpan=r.getActiveSpan=r.getSpan=void 0;const n=e("../context/context"),o=e("./NonRecordingSpan"),i=e("../api/context"),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(a)||void 0}function c(e,t){return e.setValue(a,t)}r.getSpan=s,r.getActiveSpan=function(){return s(i.ContextAPI.getInstance().active())},r.setSpan=c,r.deleteSpan=function(e){return e.deleteValue(a)},r.setSpanContext=function(e,t){return c(e,new o.NonRecordingSpan(t))},r.getSpanContext=function(e){var t;return null===(t=s(e))||void 0===t?void 0:t.spanContext()}},{"../api/context":4,"../context/context":15,"./NonRecordingSpan":34}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceStateImpl=void 0;const n=e("./tracestate-validators");class o{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),o=r.indexOf("=");if(-1!==o){const i=r.slice(0,o),a=r.slice(o+1,t.length);(0,n.validateKey)(i)&&(0,n.validateValue)(a)&&e.set(i,a)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new o;return e._internalState=new Map(this._internalState),e}}r.TraceStateImpl=o},{"./tracestate-validators":42}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateValue=r.validateKey=void 0;const n="[_0-9a-z-*/]",o=new RegExp(`^(?:${`[a-z]${n}{0,255}`}|${`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`})$`),i=/^[ -~]{0,255}[!-~]$/,a=/,|=/;r.validateKey=function(e){return o.test(e)},r.validateValue=function(e){return i.test(e)&&!a.test(e)}},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createTraceState=void 0;const n=e("./tracestate-impl");r.createTraceState=function(e){return new n.TraceStateImpl(e)}},{"./tracestate-impl":41}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=void 0;const n=e("./trace_flags");r.INVALID_SPANID="0000000000000000",r.INVALID_TRACEID="00000000000000000000000000000000",r.INVALID_SPAN_CONTEXT={traceId:r.INVALID_TRACEID,spanId:r.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},{"./trace_flags":48}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r.SpanKind||(r.SpanKind={}))},{}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wrapSpanContext=r.isSpanContextValid=r.isValidSpanId=r.isValidTraceId=void 0;const n=e("./invalid-span-constants"),o=e("./NonRecordingSpan"),i=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function s(e){return i.test(e)&&e!==n.INVALID_TRACEID}function c(e){return a.test(e)&&e!==n.INVALID_SPANID}r.isValidTraceId=s,r.isValidSpanId=c,r.isSpanContextValid=function(e){return s(e.traceId)&&c(e.spanId)},r.wrapSpanContext=function(e){return new o.NonRecordingSpan(e)}},{"./NonRecordingSpan":34,"./invalid-span-constants":44}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r.SpanStatusCode||(r.SpanStatusCode={}))},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r.TraceFlags||(r.TraceFlags={}))},{}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="1.3.0"},{}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getWebAutoInstrumentations=void 0;var n=e("./utils");Object.defineProperty(r,"getWebAutoInstrumentations",{enumerable:!0,get:function(){return n.getWebAutoInstrumentations}})},{"./utils":51}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getWebAutoInstrumentations=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/instrumentation-document-load"),i=e("@opentelemetry/instrumentation-fetch"),a=e("@opentelemetry/instrumentation-user-interaction"),s=e("@opentelemetry/instrumentation-xml-http-request"),c={"@opentelemetry/instrumentation-document-load":o.DocumentLoadInstrumentation,"@opentelemetry/instrumentation-fetch":i.FetchInstrumentation,"@opentelemetry/instrumentation-user-interaction":a.UserInteractionInstrumentation,"@opentelemetry/instrumentation-xml-http-request":s.XMLHttpRequestInstrumentation};r.getWebAutoInstrumentations=function(e={}){var t;for(const t of Object.keys(e))Object.prototype.hasOwnProperty.call(c,t)||n.diag.error(`Provided instrumentation name "${t}" not found`);const r=[];for(const o of Object.keys(c)){const i=c[o],a=null!==(t=e[o])&&void 0!==t?t:{};if(!1!==a.enabled)try{n.diag.debug(`Loading instrumentation for ${o}`),r.push(new i(a))}catch(e){n.diag.error(e)}else n.diag.debug(`Disabling instrumentation for ${o}`)}return r}},{"@opentelemetry/api":21,"@opentelemetry/instrumentation-document-load":102,"@opentelemetry/instrumentation-fetch":108,"@opentelemetry/instrumentation-user-interaction":111,"@opentelemetry/instrumentation-xml-http-request":117}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ZoneContextManager=void 0;const n=e("@opentelemetry/api"),o=e("./util"),i="OT_ZONE_CONTEXT";r.ZoneContextManager=class{constructor(){this._enabled=!1,this._zoneCounter=0}_activeContextFromZone(e){return e&&e.get(i)||n.ROOT_CONTEXT}_bindFunction(e,t){const r=this,n=function(...n){return r.with(e,(()=>t.apply(this,n)))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n}_bindListener(e,t){const r=t;return void 0!==r.__ot_listeners||(r.__ot_listeners={},"function"==typeof r.addEventListener&&(r.addEventListener=this._patchAddEventListener(r,r.addEventListener,e)),"function"==typeof r.removeEventListener&&(r.removeEventListener=this._patchRemoveEventListener(r,r.removeEventListener))),t}_createZoneName(){this._zoneCounter++;const e=Math.random();return`${this._zoneCounter}-${e}`}_createZone(e,t){return Zone.current.fork({name:e,properties:{[i]:t}})}_getActiveZone(){return Zone.current}_patchAddEventListener(e,t,r){const n=this;return function(o,i,a){void 0===e.__ot_listeners&&(e.__ot_listeners={});let s=e.__ot_listeners[o];void 0===s&&(s=new WeakMap,e.__ot_listeners[o]=s);const c=n.bind(r,i);return s.set(i,c),t.call(this,o,c,a)}}_patchRemoveEventListener(e,t){return function(r,n){if(void 0===e.__ot_listeners||void 0===e.__ot_listeners[r])return t.call(this,r,n);const o=e.__ot_listeners[r],i=o.get(n);return o.delete(n),t.call(this,r,i||n)}}active(){if(!this._enabled)return n.ROOT_CONTEXT;const e=this._getActiveZone(),t=this._activeContextFromZone(e);return t||n.ROOT_CONTEXT}bind(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):((0,o.isListenerObject)(t)&&this._bindListener(e,t),t)}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}with(e,t,r,...n){const o=this._createZoneName();return this._createZone(o,e).run(t,r,n)}}},{"./util":55,"@opentelemetry/api":21}],53:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./ZoneContextManager"),r),o(e("./types"),r)},{"./ZoneContextManager":52,"./types":54}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isListenerObject=void 0,r.isListenerObject=function(e={}){return"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}},{}],56:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("@opentelemetry/context-zone-peer-dep"),r),e("zone.js")},{"@opentelemetry/context-zone-peer-dep":53,"zone.js":246}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExportResultCode=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(r.ExportResultCode||(r.ExportResultCode={}))},{}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BAGGAGE_MAX_TOTAL_LENGTH=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=r.BAGGAGE_MAX_NAME_VALUE_PAIRS=r.BAGGAGE_HEADER=r.BAGGAGE_ITEMS_SEPARATOR=r.BAGGAGE_PROPERTIES_SEPARATOR=r.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,r.BAGGAGE_KEY_PAIR_SEPARATOR="=",r.BAGGAGE_PROPERTIES_SEPARATOR=";",r.BAGGAGE_ITEMS_SEPARATOR=",",r.BAGGAGE_HEADER="baggage",r.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,r.BAGGAGE_MAX_TOTAL_LENGTH=8192},{}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.W3CBaggagePropagator=void 0;const n=e("@opentelemetry/api"),o=e("../../trace/suppress-tracing"),i=e("../constants"),a=e("../utils");r.W3CBaggagePropagator=class{inject(e,t,r){const s=n.propagation.getBaggage(e);if(!s||(0,o.isTracingSuppressed)(e))return;const c=(0,a.getKeyPairs)(s).filter((e=>e.length<=i.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,i.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=(0,a.serializeKeyPairs)(c);u.length>0&&r.set(t,i.BAGGAGE_HEADER,u)}extract(e,t,r){const o=r.get(t,i.BAGGAGE_HEADER),s=Array.isArray(o)?o.join(i.BAGGAGE_ITEMS_SEPARATOR):o;if(!s)return e;const c={};if(0===s.length)return e;return s.split(i.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{const t=(0,a.parsePairKeyValue)(e);if(t){const e={value:t.value};t.metadata&&(e.metadata=t.metadata),c[t.key]=e}})),0===Object.entries(c).length?e:n.propagation.setBaggage(e,n.propagation.createBaggage(c))}fields(){return[i.BAGGAGE_HEADER]}}},{"../../trace/suppress-tracing":87,"../constants":58,"../utils":60,"@opentelemetry/api":21}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseKeyPairsIntoRecord=r.parsePairKeyValue=r.getKeyPairs=r.serializeKeyPairs=void 0;const n=e("@opentelemetry/api"),o=e("./constants");function i(e){const t=e.split(o.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const i=r.split(o.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==i.length)return;const a=decodeURIComponent(i[0].trim()),s=decodeURIComponent(i[1].trim());let c;return t.length>0&&(c=(0,n.baggageEntryMetadataFromString)(t.join(o.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:s,metadata:c}}r.serializeKeyPairs=function(e){return e.reduce(((e,t)=>{const r=`${e}${""!==e?o.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>o.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")},r.getKeyPairs=function(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=o.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),r}))},r.parsePairKeyValue=i,r.parseKeyPairsIntoRecord=function(e){return"string"!=typeof e||0===e.length?{}:e.split(o.BAGGAGE_ITEMS_SEPARATOR).map((e=>i(e))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}},{"./constants":58,"@opentelemetry/api":21}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AnchoredClock=void 0;r.AnchoredClock=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}},{}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isAttributeValue=r.isAttributeKey=r.sanitizeAttributes=void 0;const n=e("@opentelemetry/api");function o(e){return"string"==typeof e&&e.length>0}function i(e){return null==e||(Array.isArray(e)?function(e){let t;for(const r of e)if(null!=r){if(!t){if(a(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):a(e))}function a(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}r.sanitizeAttributes=function(e){const t={};if("object"!=typeof e||null==e)return t;for(const[r,a]of Object.entries(e))o(r)?i(a)?Array.isArray(a)?t[r]=a.slice():t[r]=a:n.diag.warn(`Invalid attribute value set for key: ${r}`):n.diag.warn(`Invalid attribute key: ${r}`);return t},r.isAttributeKey=o,r.isAttributeValue=i},{"@opentelemetry/api":21}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.globalErrorHandler=r.setGlobalErrorHandler=void 0;let n=(0,e("./logging-error-handler").loggingErrorHandler)();r.setGlobalErrorHandler=function(e){n=e},r.globalErrorHandler=function(e){try{n(e)}catch(e){}}},{"./logging-error-handler":64}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loggingErrorHandler=void 0;const n=e("@opentelemetry/api");r.loggingErrorHandler=function(){return e=>{n.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){const t={};let r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}},{"@opentelemetry/api":21}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isTimeInput=r.isTimeInputHrTime=r.hrTimeToMicroseconds=r.hrTimeToMilliseconds=r.hrTimeToNanoseconds=r.hrTimeToTimeStamp=r.hrTimeDuration=r.timeInputToHrTime=r.hrTime=void 0;const n=e("../platform"),o=Math.pow(10,9);function i(e){const t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*o]}function a(){let e=n.otperformance.timeOrigin;if("number"!=typeof e){const t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function s(e){const t=i(a()),r=i("number"==typeof e?e:n.otperformance.now());let s=t[0]+r[0],c=t[1]+r[1];return c>o&&(c-=o,s+=1),[s,c]}function c(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}r.hrTime=s,r.timeInputToHrTime=function(e){if(c(e))return e;if("number"==typeof e)return e<a()?s(e):i(e);if(e instanceof Date)return i(e.getTime());throw TypeError("Invalid input type")},r.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=o),[r,n]},r.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},r.hrTimeToNanoseconds=function(e){return e[0]*o+e[1]},r.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},r.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},r.isTimeInputHrTime=c,r.isTimeInput=function(e){return c(e)||"number"==typeof e||e instanceof Date}},{"../platform":74}],66:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],67:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.internal=r.baggageUtils=void 0,o(e("./baggage/propagation/W3CBaggagePropagator"),r),o(e("./common/anchored-clock"),r),o(e("./common/attributes"),r),o(e("./common/global-error-handler"),r),o(e("./common/logging-error-handler"),r),o(e("./common/time"),r),o(e("./common/types"),r),o(e("./ExportResult"),r),o(e("./version"),r),r.baggageUtils=e("./baggage/utils"),o(e("./platform"),r),o(e("./propagation/composite"),r),o(e("./trace/W3CTraceContextPropagator"),r),o(e("./trace/IdGenerator"),r),o(e("./trace/rpc-metadata"),r),o(e("./trace/sampler/AlwaysOffSampler"),r),o(e("./trace/sampler/AlwaysOnSampler"),r),o(e("./trace/sampler/ParentBasedSampler"),r),o(e("./trace/sampler/TraceIdRatioBasedSampler"),r),o(e("./trace/suppress-tracing"),r),o(e("./trace/TraceState"),r),o(e("./utils/environment"),r),o(e("./utils/merge"),r),o(e("./utils/sampling"),r),o(e("./utils/url"),r),o(e("./utils/wrap"),r),o(e("./utils/callback"),r),o(e("./version"),r);const i=e("./internal/exporter");r.internal={_export:i._export}},{"./ExportResult":57,"./baggage/propagation/W3CBaggagePropagator":59,"./baggage/utils":60,"./common/anchored-clock":61,"./common/attributes":62,"./common/global-error-handler":63,"./common/logging-error-handler":64,"./common/time":65,"./common/types":66,"./internal/exporter":68,"./platform":74,"./propagation/composite":78,"./trace/IdGenerator":79,"./trace/TraceState":80,"./trace/W3CTraceContextPropagator":81,"./trace/rpc-metadata":82,"./trace/sampler/AlwaysOffSampler":83,"./trace/sampler/AlwaysOnSampler":84,"./trace/sampler/ParentBasedSampler":85,"./trace/sampler/TraceIdRatioBasedSampler":86,"./trace/suppress-tracing":87,"./utils/callback":88,"./utils/environment":89,"./utils/merge":91,"./utils/sampling":93,"./utils/url":94,"./utils/wrap":95,"./version":96}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._export=void 0;const n=e("@opentelemetry/api"),o=e("../trace/suppress-tracing");r._export=function(e,t){return new Promise((r=>{n.context.with((0,o.suppressTracing)(n.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))}},{"../trace/suppress-tracing":87,"@opentelemetry/api":21}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateValue=r.validateKey=void 0;const n="[_0-9a-z-*/]",o=new RegExp(`^(?:${`[a-z]${n}{0,255}`}|${`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`})$`),i=/^[ -~]{0,255}[!-~]$/,a=/,|=/;r.validateKey=function(e){return o.test(e)},r.validateValue=function(e){return i.test(e)&&!a.test(e)}},{}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RandomIdGenerator=void 0;r.RandomIdGenerator=class{constructor(){this.generateTraceId=o(16),this.generateSpanId=o(8)}};const n=Array(32);function o(e){return function(){for(let t=0;t<2*e;t++)n[t]=Math.floor(16*Math.random())+48,n[t]>=58&&(n[t]+=39);return String.fromCharCode.apply(null,n.slice(0,2*e))}}},{}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getEnv=void 0;const n=e("../../utils/environment"),o=e("./globalThis");r.getEnv=function(){const e=(0,n.parseEnvironment)(o._globalThis);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}},{"../../utils/environment":89,"./globalThis":72}],72:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof e?e:{}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBase64=void 0,r.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)}},{}],74:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./environment"),r),o(e("./globalThis"),r),o(e("./hex-to-base64"),r),o(e("./RandomIdGenerator"),r),o(e("./performance"),r),o(e("./sdk-info"),r),o(e("./timer-util"),r)},{"./RandomIdGenerator":70,"./environment":71,"./globalThis":72,"./hex-to-base64":73,"./performance":75,"./sdk-info":76,"./timer-util":77}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.otperformance=void 0,r.otperformance=performance},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SDK_INFO=void 0;const n=e("../../version"),o=e("@opentelemetry/semantic-conventions");r.SDK_INFO={[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:o.TelemetrySdkLanguageValues.WEBJS,[o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:n.VERSION}},{"../../version":96,"@opentelemetry/semantic-conventions":240}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unrefTimer=void 0,r.unrefTimer=function(e){}},{}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompositePropagator=void 0;const n=e("@opentelemetry/api");r.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const o of this._propagators)try{o.inject(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,o)=>{try{return o.extract(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}},{"@opentelemetry/api":21}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceState=void 0;const n=e("../internal/validators");class o{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),o=r.indexOf("=");if(-1!==o){const i=r.slice(0,o),a=r.slice(o+1,t.length);(0,n.validateKey)(i)&&(0,n.validateValue)(a)&&e.set(i,a)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new o;return e._internalState=new Map(this._internalState),e}}r.TraceState=o},{"../internal/validators":69}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.W3CTraceContextPropagator=r.parseTraceParent=r.TRACE_STATE_HEADER=r.TRACE_PARENT_HEADER=void 0;const n=e("@opentelemetry/api"),o=e("./suppress-tracing"),i=e("./TraceState");r.TRACE_PARENT_HEADER="traceparent",r.TRACE_STATE_HEADER="tracestate";const a=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function s(e){const t=a.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}r.parseTraceParent=s;r.W3CTraceContextPropagator=class{inject(e,t,i){const a=n.trace.getSpanContext(e);if(!a||(0,o.isTracingSuppressed)(e)||!(0,n.isSpanContextValid)(a))return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||n.TraceFlags.NONE).toString(16)}`;i.set(t,r.TRACE_PARENT_HEADER,s),a.traceState&&i.set(t,r.TRACE_STATE_HEADER,a.traceState.serialize())}extract(e,t,o){const a=o.get(t,r.TRACE_PARENT_HEADER);if(!a)return e;const c=Array.isArray(a)?a[0]:a;if("string"!=typeof c)return e;const u=s(c);if(!u)return e;u.isRemote=!0;const l=o.get(t,r.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;u.traceState=new i.TraceState("string"==typeof e?e:void 0)}return n.trace.setSpanContext(e,u)}fields(){return[r.TRACE_PARENT_HEADER,r.TRACE_STATE_HEADER]}}},{"./TraceState":80,"./suppress-tracing":87,"@opentelemetry/api":21}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRPCMetadata=r.deleteRPCMetadata=r.setRPCMetadata=r.RPCType=void 0;const n=(0,e("@opentelemetry/api").createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");!function(e){e.HTTP="http"}(r.RPCType||(r.RPCType={})),r.setRPCMetadata=function(e,t){return e.setValue(n,t)},r.deleteRPCMetadata=function(e){return e.deleteValue(n)},r.getRPCMetadata=function(e){return e.getValue(n)}},{"@opentelemetry/api":21}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AlwaysOffSampler=void 0;const n=e("@opentelemetry/api");r.AlwaysOffSampler=class{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}},{"@opentelemetry/api":21}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AlwaysOnSampler=void 0;const n=e("@opentelemetry/api");r.AlwaysOnSampler=class{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}},{"@opentelemetry/api":21}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParentBasedSampler=void 0;const n=e("@opentelemetry/api"),o=e("../../common/global-error-handler"),i=e("./AlwaysOffSampler"),a=e("./AlwaysOnSampler");r.ParentBasedSampler=class{constructor(e){var t,r,n,s;this._root=e.root,this._root||((0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new a.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new a.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new i.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new a.AlwaysOnSampler,this._localParentNotSampled=null!==(s=e.localParentNotSampled)&&void 0!==s?s:new i.AlwaysOffSampler}shouldSample(e,t,r,o,i,a){const s=n.trace.getSpanContext(e);return s&&(0,n.isSpanContextValid)(s)?s.isRemote?s.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,o,i,a):this._remoteParentNotSampled.shouldSample(e,t,r,o,i,a):s.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,o,i,a):this._localParentNotSampled.shouldSample(e,t,r,o,i,a):this._root.shouldSample(e,t,r,o,i,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}},{"../../common/global-error-handler":63,"./AlwaysOffSampler":83,"./AlwaysOnSampler":84,"@opentelemetry/api":21}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceIdRatioBasedSampler=void 0;const n=e("@opentelemetry/api");r.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}},{"@opentelemetry/api":21}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isTracingSuppressed=r.unsuppressTracing=r.suppressTracing=void 0;const n=(0,e("@opentelemetry/api").createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");r.suppressTracing=function(e){return e.setValue(n,!0)},r.unsuppressTracing=function(e){return e.deleteValue(n)},r.isTracingSuppressed=function(e){return!0===e.getValue(n)}},{"@opentelemetry/api":21}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BindOnceFuture=void 0;const n=e("./promise");r.BindOnceFuture=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}},{"./promise":92}],89:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getEnvWithoutDefaults=r.parseEnvironment=r.DEFAULT_ENVIRONMENT=r.DEFAULT_ATTRIBUTE_COUNT_LIMIT=r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const n=e("@opentelemetry/api"),o=e("./sampling"),i=e("../platform/browser/globalThis"),a=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function s(e){return a.indexOf(e)>-1}const c=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function u(e){return c.indexOf(e)>-1}function l(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function p(e,t,r,n=","){const o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((e=>e.trim())))}r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,r.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,r.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:r.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:r.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:o.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};const d={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function _(e,t,r){const n=r[e];if("string"==typeof n){const r=d[n.toUpperCase()];null!=r&&(t[e]=r)}}function m(e){const t={};for(const n in r.DEFAULT_ENVIRONMENT){const r=n;if("OTEL_LOG_LEVEL"===r)_(r,t,e);else if(s(r))l(r,t,e);else if(u(r))p(r,t,e);else{const n=e[r];null!=n&&(t[r]=String(n))}}return t}r.parseEnvironment=m,r.getEnvWithoutDefaults=function(){return m(void 0!==t?t.env:i._globalThis)}}).call(this)}).call(this,e("_process"))},{"../platform/browser/globalThis":72,"./sampling":93,"@opentelemetry/api":21,_process:1}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPlainObject=void 0;const n="[object Null]",o="[object Undefined]",i=Function.prototype.toString,a=i.call(Object),s=(c=Object.getPrototypeOf,u=Object,function(e){return c(u(e))});var c,u;const l=Object.prototype,p=l.hasOwnProperty,d=Symbol?Symbol.toStringTag:void 0,_=l.toString;r.isPlainObject=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?o:n;return d&&d in Object(e)?function(e){const t=p.call(e,d),r=e[d];let n=!1;try{e[d]=void 0,n=!0}catch(e){}const o=_.call(e);n&&(t?e[d]=r:delete e[d]);return o}(e):function(e){return _.call(e)}(e)}(e))return!1;const t=s(e);if(null===t)return!0;const r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)===a}},{}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;const n=e("./lodash.merge");function o(e){return s(e)?e.slice():e}function i(e,t,r=0,p){let d;if(!(r>20)){if(r++,l(e)||l(t)||c(t))d=o(t);else if(s(e)){if(d=e.slice(),s(t))for(let e=0,r=t.length;e<r;e++)d.push(o(t[e]));else if(u(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];d[n]=o(t[n])}}}else if(u(e))if(u(t)){if(!function(e,t){if(!(0,n.isPlainObject)(e)||!(0,n.isPlainObject)(t))return!1;return!0}(e,t))return t;d=Object.assign({},e);const o=Object.keys(t);for(let n=0,s=o.length;n<s;n++){const s=o[n],c=t[s];if(l(c))void 0===c?delete d[s]:d[s]=c;else{const n=d[s],o=c;if(a(e,s,p)||a(t,s,p))delete d[s];else{if(u(n)&&u(o)){const r=p.get(n)||[],i=p.get(o)||[];r.push({obj:e,key:s}),i.push({obj:t,key:s}),p.set(n,r),p.set(o,i)}d[s]=i(d[s],c,r,p)}}}}else d=t;return d}}function a(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function s(e){return Array.isArray(e)}function c(e){return"function"==typeof e}function u(e){return!l(e)&&!s(e)&&!c(e)&&"object"==typeof e}function l(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}r.merge=function(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=i(t,e.shift(),0,r);return t}},{"./lodash.merge":90}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Deferred=void 0;r.Deferred=class{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}},{}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TracesSamplerValues=void 0,function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(r.TracesSamplerValues||(r.TracesSamplerValues={}))},{}],94:[function(e,t,r){"use strict";function n(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.isUrlIgnored=r.urlMatches=void 0,r.urlMatches=n,r.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(n(e,r))return!0;return!1}},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isWrapped=void 0,r.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},{}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="1.8.0"},{}],97:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./platform"),r)},{"./platform":99}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OTLPTraceExporter=void 0;const n=e("@opentelemetry/core"),o=e("@opentelemetry/otlp-exporter-base"),i=e("@opentelemetry/otlp-transformer"),a="v1/traces",s=`http://localhost:4318/${a}`;class c extends o.OTLPExporterBrowserBase{constructor(e={}){super(e),this._headers=Object.assign(this._headers,n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,i.createExportTraceServiceRequest)(e,!0)}getDefaultUrl(e){return"string"==typeof e.url?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,o.appendRootPathToUrlIfNeeded)((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,o.appendResourcePathToUrl)((0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,a):s}}r.OTLPTraceExporter=c},{"@opentelemetry/core":67,"@opentelemetry/otlp-exporter-base":130,"@opentelemetry/otlp-transformer":138}],99:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./OTLPTraceExporter"),r)},{"./OTLPTraceExporter":98}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AttributeNames=void 0,function(e){e.COMPONENT="component",e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"}(r.AttributeNames||(r.AttributeNames={}))},{}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventNames=void 0,function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"}(r.EventNames||(r.EventNames={}))},{}],102:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./instrumentation"),r),o(e("./enums/AttributeNames"),r)},{"./enums/AttributeNames":100,"./instrumentation":103}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DocumentLoadInstrumentation=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("@opentelemetry/sdk-trace-web"),a=e("@opentelemetry/instrumentation"),s=e("./enums/AttributeNames"),c=e("./version"),u=e("@opentelemetry/semantic-conventions"),l=e("./utils");class p extends a.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-document-load",c.VERSION,e),this.component="document-load",this.version="1",this.moduleName=this.component}init(){}_onDocumentLoaded(){window.setTimeout((()=>{this._collectPerformance()}))}_addResourcesSpans(e){var t,r;const n=null===(r=(t=o.otperformance).getEntriesByType)||void 0===r?void 0:r.call(t,"resource");n&&n.forEach((t=>{this._initResourceSpan(t,e)}))}_collectPerformance(){const e=Array.from(document.getElementsByTagName("meta")).find((e=>e.getAttribute("name")===o.TRACE_PARENT_HEADER)),t=l.getPerformanceNavigationEntries(),r=e&&e.content||"";n.context.with(n.propagation.extract(n.ROOT_CONTEXT,{traceparent:r}),(()=>{const e=this._startSpan(s.AttributeNames.DOCUMENT_LOAD,i.PerformanceTimingNames.FETCH_START,t);e&&(n.context.with(n.trace.setSpan(n.context.active(),e),(()=>{const e=this._startSpan(s.AttributeNames.DOCUMENT_FETCH,i.PerformanceTimingNames.FETCH_START,t);e&&(e.setAttribute(u.SemanticAttributes.HTTP_URL,location.href),n.context.with(n.trace.setSpan(n.context.active(),e),(()=>{i.addSpanNetworkEvents(e,t),this._endSpan(e,i.PerformanceTimingNames.RESPONSE_END,t)})))})),e.setAttribute(u.SemanticAttributes.HTTP_URL,location.href),e.setAttribute(u.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent),this._addResourcesSpans(e),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.FETCH_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.UNLOAD_EVENT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.UNLOAD_EVENT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_INTERACTIVE,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_COMPLETE,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.LOAD_EVENT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.LOAD_EVENT_END,t),l.addSpanPerformancePaintEvents(e),this._endSpan(e,i.PerformanceTimingNames.LOAD_EVENT_END,t))}))}_endSpan(e,t,r){e&&(i.hasKey(r,t)?e.end(r[t]):e.end())}_initResourceSpan(e,t){const r=this._startSpan(s.AttributeNames.RESOURCE_FETCH,i.PerformanceTimingNames.FETCH_START,e,t);r&&(r.setAttribute(u.SemanticAttributes.HTTP_URL,e.name),i.addSpanNetworkEvents(r,e),this._endSpan(r,i.PerformanceTimingNames.RESPONSE_END,e))}_startSpan(e,t,r,o){if(i.hasKey(r,t)&&"number"==typeof r[t]){const i=this.tracer.startSpan(e,{startTime:r[t]},o?n.trace.setSpan(n.context.active(),o):void 0);return i.setAttribute(s.AttributeNames.COMPONENT,this.component),i}}_waitForPageLoad(){"complete"===window.document.readyState?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}enable(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}}r.DocumentLoadInstrumentation=p},{"./enums/AttributeNames":100,"./utils":104,"./version":105,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/instrumentation":122,"@opentelemetry/sdk-trace-web":237,"@opentelemetry/semantic-conventions":240}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addSpanPerformancePaintEvents=r.getPerformanceNavigationEntries=void 0;const n=e("@opentelemetry/core"),o=e("@opentelemetry/sdk-trace-web"),i=e("./enums/EventNames");r.getPerformanceNavigationEntries=()=>{var e,t;const r={},i=null===(t=(e=n.otperformance).getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(i){Object.values(o.PerformanceTimingNames).forEach((e=>{if(o.hasKey(i,e)){const t=i[e];"number"==typeof t&&(r[e]=t)}}))}else{const e=n.otperformance.timing;if(e){Object.values(o.PerformanceTimingNames).forEach((t=>{if(o.hasKey(e,t)){const n=e[t];"number"==typeof n&&(r[t]=n)}}))}}return r};const a={"first-paint":i.EventNames.FIRST_PAINT,"first-contentful-paint":i.EventNames.FIRST_CONTENTFUL_PAINT};r.addSpanPerformancePaintEvents=e=>{var t,r;const i=null===(r=(t=n.otperformance).getEntriesByType)||void 0===r?void 0:r.call(t,"paint");i&&i.forEach((({name:t,startTime:r})=>{o.hasKey(a,t)&&e.addEvent(a[t],r)}))}},{"./enums/EventNames":101,"@opentelemetry/core":67,"@opentelemetry/sdk-trace-web":237}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="0.31.0"},{}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AttributeNames=void 0,function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(r.AttributeNames||(r.AttributeNames={}))},{}],107:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FetchInstrumentation=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/instrumentation"),i=e("@opentelemetry/core"),a=e("@opentelemetry/sdk-trace-web"),s=e("./enums/AttributeNames"),c=e("@opentelemetry/semantic-conventions"),u=e("./version"),l=e("@opentelemetry/core");class p extends o.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-fetch",u.VERSION,e),this.component="fetch",this.version=u.VERSION,this.moduleName=this.component,this._usedResources=new WeakSet,this._tasksCount=0}init(){}_getConfig(){return this._config}_addChildSpan(e,t){const r=this.tracer.startSpan("CORS Preflight",{startTime:t[a.PerformanceTimingNames.FETCH_START]},n.trace.setSpan(n.context.active(),e));this._getConfig().ignoreNetworkEvents||a.addSpanNetworkEvents(r,t),r.end(t[a.PerformanceTimingNames.RESPONSE_END])}_addFinalSpanAttributes(e,t){const r=a.parseUrl(t.url);e.setAttribute(c.SemanticAttributes.HTTP_STATUS_CODE,t.status),null!=t.statusText&&e.setAttribute(s.AttributeNames.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(c.SemanticAttributes.HTTP_HOST,r.host),e.setAttribute(c.SemanticAttributes.HTTP_SCHEME,r.protocol.replace(":","")),e.setAttribute(c.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}_addHeaders(e,t){if(!a.shouldPropagateTraceHeaders(t,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};return n.propagation.inject(n.context.active(),e),void(Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(e instanceof Request)n.propagation.inject(n.context.active(),e.headers,{set:(e,t,r)=>e.set(t,"string"==typeof r?r:String(r))});else if(e.headers instanceof Headers)n.propagation.inject(n.context.active(),e.headers,{set:(e,t,r)=>e.set(t,"string"==typeof r?r:String(r))});else{const t={};n.propagation.inject(n.context.active(),t),e.headers=Object.assign({},t,e.headers||{})}}_clearResources(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(i.isUrlIgnored(e,this._getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");const r=(t.method||"GET").toUpperCase(),o=`HTTP ${r}`;return this.tracer.startSpan(o,{kind:n.SpanKind.CLIENT,attributes:{[s.AttributeNames.COMPONENT]:this.moduleName,[c.SemanticAttributes.HTTP_METHOD]:r,[c.SemanticAttributes.HTTP_URL]:e}})}_findResourceAndAddNetworkEvents(e,t,r){let n=t.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}const o=a.getResource(t.spanUrl,t.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){const t=o.mainRequest;this._markResourceAsUsed(t);const r=o.corsPreFlightRequest;r&&(this._addChildSpan(e,r),this._markResourceAsUsed(r)),this._getConfig().ignoreNetworkEvents||a.addSpanNetworkEvents(e,t)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,r){const n=i.hrTime();this._addFinalSpanAttributes(e,r),setTimeout((()=>{var r;null===(r=t.observer)||void 0===r||r.disconnect(),this._findResourceAndAddNetworkEvents(e,t,n),this._tasksCount--,this._clearResources(),e.end(n)}),300)}_patchConstructor(){return e=>{const t=this;return function(...r){const o=this,i=a.parseUrl(r[0]instanceof Request?r[0].url:r[0]).href,s=r[0]instanceof Request?r[0]:r[1]||{},c=t._createSpan(i,s);if(!c)return e.apply(this,r);const u=t._prepareSpanData(i);function l(e,r){t._applyAttributesAfterFetch(e,s,r),t._endSpan(e,u,{status:r.status||0,statusText:r.message,url:i})}function p(e,r){t._applyAttributesAfterFetch(e,s,r),r.status>=200&&r.status<400?t._endSpan(e,u,r):t._endSpan(e,u,{status:r.status,statusText:r.statusText,url:i})}function d(e,t,r){try{const n=r.clone(),o=r.clone(),i=n.body;if(i){const t=i.getReader(),r=()=>{t.read().then((({done:t})=>{t?p(e,o):r()}),(t=>{l(e,t)}))};r()}else p(e,r)}finally{t(r)}}function _(e,t,r){try{l(e,r)}finally{t(r)}}return new Promise(((r,a)=>n.context.with(n.trace.setSpan(n.context.active(),c),(()=>(t._addHeaders(s,i),t._tasksCount++,e.apply(o,s instanceof Request?[s]:[i,s]).then(d.bind(o,c,r),_.bind(o,c,a)))))))}}}_applyAttributesAfterFetch(e,t,r){const n=this._getConfig().applyCustomAttributesOnSpan;n&&(0,o.safeExecuteInTheMiddle)((()=>n(e,t,r)),(e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)}),!0)}_prepareSpanData(e){const t=i.hrTime(),r=[];if("function"!=typeof PerformanceObserver)return{entries:r,startTime:t,spanUrl:e};const n=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{"fetch"===t.initiatorType&&t.name===e&&r.push(t)}))}));return n.observe({entryTypes:["resource"]}),{entries:r,observer:n,startTime:t,spanUrl:e}}enable(){(0,o.isWrapped)(fetch)&&(this._unwrap(l._globalThis,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(l._globalThis,"fetch",this._patchConstructor())}disable(){this._unwrap(l._globalThis,"fetch"),this._usedResources=new WeakSet}}r.FetchInstrumentation=p},{"./enums/AttributeNames":106,"./version":109,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/instrumentation":122,"@opentelemetry/sdk-trace-web":237,"@opentelemetry/semantic-conventions":240}],108:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./fetch"),r)},{"./fetch":107}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="0.34.0"},{}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AttributeNames=void 0,function(e){e.COMPONENT="component",e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url",e.HTTP_USER_AGENT="http.user_agent"}(r.AttributeNames||(r.AttributeNames={}))},{}],111:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./instrumentation"),r),o(e("./types"),r),o(e("./enums/AttributeNames"),r)},{"./enums/AttributeNames":110,"./instrumentation":112,"./types":113}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UserInteractionInstrumentation=void 0;const n=e("@opentelemetry/instrumentation"),o=e("@opentelemetry/api"),i=e("@opentelemetry/core"),a=e("@opentelemetry/sdk-trace-web"),s=e("./enums/AttributeNames"),c=e("./version"),u=["click"];function l(){return!1}class p extends n.InstrumentationBase{constructor(e){var t;super("@opentelemetry/instrumentation-user-interaction",c.VERSION,e),this.component="user-interaction",this.version=c.VERSION,this.moduleName=this.component,this._spansData=new WeakMap,this._wrappedListeners=new WeakMap,this._eventsSpanMap=new WeakMap,this._eventNames=new Set(null!==(t=null==e?void 0:e.eventNames)&&void 0!==t?t:u),this._shouldPreventSpanCreation="function"==typeof(null==e?void 0:e.shouldPreventSpanCreation)?e.shouldPreventSpanCreation:l}init(){}_checkForTimeout(e,t){const r=this._spansData.get(t);r&&("setTimeout"===e.source?r.hrTimeLastTimeout=i.hrTime():"Promise.then"!==e.source&&"setTimeout"!==e.source&&(r.hrTimeLastTimeout=void 0))}_allowEventName(e){return this._eventNames.has(e)}_createSpan(e,t,r){if(!(e instanceof HTMLElement))return;if(!e.getAttribute)return;if(e.hasAttribute("disabled"))return;if(!this._allowEventName(t))return;const n=a.getElementXPath(e,!0);try{const i=this.tracer.startSpan(t,{attributes:{[s.AttributeNames.COMPONENT]:this.component,[s.AttributeNames.EVENT_TYPE]:t,[s.AttributeNames.TARGET_ELEMENT]:e.tagName,[s.AttributeNames.TARGET_XPATH]:n,[s.AttributeNames.HTTP_URL]:window.location.href,[s.AttributeNames.HTTP_USER_AGENT]:navigator.userAgent}},r?o.trace.setSpan(o.context.active(),r):void 0);if(!0===this._shouldPreventSpanCreation(t,e,i))return;return this._spansData.set(i,{taskCount:0}),i}catch(e){o.diag.error(this.component,e)}}_decrementTask(e){const t=this._spansData.get(e);t&&(t.taskCount--,0===t.taskCount&&this._tryToEndSpan(e,t.hrTimeLastTimeout))}_getCurrentSpan(e){const t=e.get("OT_ZONE_CONTEXT");return t?o.trace.getSpan(t):t}_incrementTask(e){const t=this._spansData.get(e);t&&t.taskCount++}addPatchedListener(e,t,r,n){let o=this._wrappedListeners.get(r);o||(o=new Map,this._wrappedListeners.set(r,o));let i=o.get(t);return i||(i=new Map,o.set(t,i)),!i.has(e)&&(i.set(e,n),!0)}removePatchedListener(e,t,r){const n=this._wrappedListeners.get(r);if(!n)return;const o=n.get(t);if(!o)return;const i=o.get(e);return i&&(o.delete(e),0===o.size&&(n.delete(t),0===n.size&&this._wrappedListeners.delete(r))),i}_invokeListener(e,t,r){return"function"==typeof e?e.apply(t,r):e.handleEvent(r[0])}_patchAddEventListener(){const e=this;return t=>function(r,n,i){if(!n)return t.call(this,r,n,i);const a=i&&"object"==typeof i&&i.once,s=function(...t){let i;const s=t[0],c=null==s?void 0:s.target;s&&(i=e._eventsSpanMap.get(s)),a&&e.removePatchedListener(this,r,n);const u=e._createSpan(c,r,i);return u?(s&&e._eventsSpanMap.set(s,u),o.context.with(o.trace.setSpan(o.context.active(),u),(()=>{const r=e._invokeListener(n,this,t);return u.end(),r}))):e._invokeListener(n,this,t)};return e.addPatchedListener(this,r,n,s)?t.call(this,r,s,i):void 0}}_patchRemoveEventListener(){const e=this;return t=>function(r,n,o){const i=e.removePatchedListener(this,r,n);return i?t.call(this,r,i,o):t.call(this,r,n,o)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const e=this;return t=>function(...r){const n=`${location.pathname}${location.hash}${location.search}`,o=t.apply(this,r),i=`${location.pathname}${location.hash}${location.search}`;return n!==i&&e._updateInteractionName(i),o}}_unpatchHistoryApi(){n.isWrapped(history.replaceState)&&this._unwrap(history,"replaceState"),n.isWrapped(history.pushState)&&this._unwrap(history,"pushState"),n.isWrapped(history.back)&&this._unwrap(history,"back"),n.isWrapped(history.forward)&&this._unwrap(history,"forward"),n.isWrapped(history.go)&&this._unwrap(history,"go")}_updateInteractionName(e){const t=o.trace.getSpan(o.context.active());t&&"function"==typeof t.updateName&&t.updateName(`Navigation: ${e}`)}_patchZoneCancelTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&e._decrementTask(o),t.call(this,r)}}_patchZoneScheduleTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&(e._incrementTask(o),e._checkForTimeout(r,o)),t.call(this,r)}}_patchZoneRunTask(){const e=this;return t=>function(r,n,i){const a=Array.isArray(i)&&i[0]instanceof Event?i[0]:void 0,s=null==a?void 0:a.target;let c;const u=this;if(s){if(c=e._createSpan(s,r.eventName),c)return e._incrementTask(c),u.run((()=>{try{return o.context.with(o.trace.setSpan(o.context.active(),c),(()=>{const e=Zone.current;return r._zone=e,t.call(e,r,n,i)}))}finally{e._decrementTask(c)}}))}else c=e._getCurrentSpan(u);try{return t.call(u,r,n,i)}finally{c&&e._shouldCountTask(r,u)&&e._decrementTask(c)}}}_shouldCountTask(e,t){if(e._zone&&(t=e._zone),!t||!e.data||e.data.isPeriodic)return!1;const r=this._getCurrentSpan(t);return!!r&&(!!this._spansData.get(r)&&("macroTask"===e.type||"microTask"===e.type))}_tryToEndSpan(e,t){if(e){this._spansData.get(e)&&(e.end(t),this._spansData.delete(e))}}enable(){const e=this.getZoneWithPrototype();if(o.diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!e),e)n.isWrapped(e.prototype.runTask)&&(this._unwrap(e.prototype,"runTask"),o.diag.debug("removing previous patch from method runTask")),n.isWrapped(e.prototype.scheduleTask)&&(this._unwrap(e.prototype,"scheduleTask"),o.diag.debug("removing previous patch from method scheduleTask")),n.isWrapped(e.prototype.cancelTask)&&(this._unwrap(e.prototype,"cancelTask"),o.diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(e.prototype,"runTask",this._patchZoneRunTask()),this._wrap(e.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(e.prototype,"cancelTask",this._patchZoneCancelTask());else{this._zonePatched=!1;this._getPatchableEventTargets().forEach((e=>{n.isWrapped(e.addEventListener)&&(this._unwrap(e,"addEventListener"),o.diag.debug("removing previous patch from method addEventListener")),n.isWrapped(e.removeEventListener)&&(this._unwrap(e,"removeEventListener"),o.diag.debug("removing previous patch from method removeEventListener")),this._wrap(e,"addEventListener",this._patchAddEventListener()),this._wrap(e,"removeEventListener",this._patchRemoveEventListener())}))}this._patchHistoryApi()}disable(){const e=this.getZoneWithPrototype();if(o.diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!e),e&&this._zonePatched)n.isWrapped(e.prototype.runTask)&&this._unwrap(e.prototype,"runTask"),n.isWrapped(e.prototype.scheduleTask)&&this._unwrap(e.prototype,"scheduleTask"),n.isWrapped(e.prototype.cancelTask)&&this._unwrap(e.prototype,"cancelTask");else{this._getPatchableEventTargets().forEach((e=>{n.isWrapped(e.addEventListener)&&this._unwrap(e,"addEventListener"),n.isWrapped(e.removeEventListener)&&this._unwrap(e,"removeEventListener")}))}this._unpatchHistoryApi()}getZoneWithPrototype(){return window.Zone}}r.UserInteractionInstrumentation=p},{"./enums/AttributeNames":110,"./version":114,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/instrumentation":122,"@opentelemetry/sdk-trace-web":237}],113:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="0.32.0"},{}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AttributeNames=void 0,function(e){e.HTTP_STATUS_TEXT="http.status_text"}(r.AttributeNames||(r.AttributeNames={}))},{}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventNames=void 0,function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(r.EventNames||(r.EventNames={}))},{}],117:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./xhr"),r)},{"./xhr":119}],118:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{dup:109}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.XMLHttpRequestInstrumentation=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/instrumentation"),i=e("@opentelemetry/core"),a=e("@opentelemetry/semantic-conventions"),s=e("@opentelemetry/sdk-trace-web"),c=e("./enums/EventNames"),u=e("./version"),l=e("./enums/AttributeNames");class p extends o.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-xml-http-request",u.VERSION,e),this.component="xml-http-request",this.version=u.VERSION,this.moduleName=this.component,this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}init(){}_getConfig(){return this._config}_addHeaders(e,t){const r=(0,s.parseUrl)(t).href;if(!(0,s.shouldPropagateTraceHeaders)(r,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};return n.propagation.inject(n.context.active(),e),void(Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}const o={};n.propagation.inject(n.context.active(),o),Object.keys(o).forEach((t=>{e.setRequestHeader(t,String(o[t]))}))}_addChildSpan(e,t){n.context.with(n.trace.setSpan(n.context.active(),e),(()=>{const e=this.tracer.startSpan("CORS Preflight",{startTime:t[s.PerformanceTimingNames.FETCH_START]});(0,s.addSpanNetworkEvents)(e,t),e.end(t[s.PerformanceTimingNames.RESPONSE_END])}))}_addFinalSpanAttributes(e,t,r){if("string"==typeof r){const n=(0,s.parseUrl)(r);void 0!==t.status&&e.setAttribute(a.SemanticAttributes.HTTP_STATUS_CODE,t.status),void 0!==t.statusText&&e.setAttribute(l.AttributeNames.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(a.SemanticAttributes.HTTP_HOST,n.host),e.setAttribute(a.SemanticAttributes.HTTP_SCHEME,n.protocol.replace(":","")),e.setAttribute(a.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}}_applyAttributesAfterXHR(e,t){const r=this._getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&(0,o.safeExecuteInTheMiddle)((()=>r(e,t)),(e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)}),!0)}_addResourceObserver(e,t){const r=this._xhrMem.get(e);r&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(r.createdResources={observer:new PerformanceObserver((e=>{const n=e.getEntries(),o=(0,s.parseUrl)(t);n.forEach((e=>{"xmlhttprequest"===e.initiatorType&&e.name===o.href&&r.createdResources&&r.createdResources.entries.push(e)}))})),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(i.otperformance.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,r,n,o){if(!(r&&n&&o&&e.createdResources))return;let a=e.createdResources.entries;a&&a.length||(a=i.otperformance.getEntriesByType("resource"));const c=(0,s.getResource)((0,s.parseUrl)(r).href,n,o,a,this._usedResources);if(c.mainRequest){const e=c.mainRequest;this._markResourceAsUsed(e);const r=c.corsPreFlightRequest;r&&(this._addChildSpan(t,r),this._markResourceAsUsed(r)),(0,s.addSpanNetworkEvents)(t,e)}}_cleanPreviousSpanInformation(e){const t=this._xhrMem.get(e);if(t){const r=t.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(e)}}_createSpan(e,t,r){if((0,i.isUrlIgnored)(t,this._getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");const o=`HTTP ${r.toUpperCase()}`,s=this.tracer.startSpan(o,{kind:n.SpanKind.CLIENT,attributes:{[a.SemanticAttributes.HTTP_METHOD]:r,[a.SemanticAttributes.HTTP_URL]:t}});return s.addEvent(c.EventNames.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:s,spanUrl:t}),s}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{const t=this;return function(...r){const n=r[0],o=r[1];return t._createSpan(this,o,n),e.apply(this,r)}}}_patchSend(){const e=this;function t(t,r){const n=e._xhrMem.get(r);if(!n)return;n.status=r.status,n.statusText=r.statusText,e._xhrMem.delete(r),n.span&&e._applyAttributesAfterXHR(n.span,r);const o=(0,i.hrTime)();setTimeout((()=>{!function(t,r,n){const o=r.callbackToRemoveEvents;"function"==typeof o&&o();const{span:i,spanUrl:a,sendStartTime:s}=r;i&&(e._findResourceAndAddNetworkEvents(r,i,a,s,n),i.addEvent(t,n),e._addFinalSpanAttributes(i,r,a),i.end(n),e._tasksCount--),e._clearResources()}(t,n,o)}),300)}function r(){t(c.EventNames.EVENT_ERROR,this)}function o(){t(c.EventNames.EVENT_ABORT,this)}function a(){t(c.EventNames.EVENT_TIMEOUT,this)}function s(){this.status<299?t(c.EventNames.EVENT_LOAD,this):t(c.EventNames.EVENT_ERROR,this)}return t=>function(...u){const l=e._xhrMem.get(this);if(!l)return t.apply(this,u);const p=l.span,d=l.spanUrl;return p&&d&&n.context.with(n.trace.setSpan(n.context.active(),p),(()=>{e._tasksCount++,l.sendStartTime=(0,i.hrTime)(),p.addEvent(c.EventNames.METHOD_SEND),this.addEventListener("abort",o),this.addEventListener("error",r),this.addEventListener("load",s),this.addEventListener("timeout",a),l.callbackToRemoveEvents=()=>{!function(t){t.removeEventListener("abort",o),t.removeEventListener("error",r),t.removeEventListener("load",s),t.removeEventListener("timeout",a);const n=e._xhrMem.get(t);n&&(n.callbackToRemoveEvents=void 0)}(this),l.createdResources&&l.createdResources.observer.disconnect()},e._addHeaders(this,d),e._addResourceObserver(this,d)})),t.apply(this,u)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),(0,o.isWrapped)(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),(0,o.isWrapped)(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}r.XMLHttpRequestInstrumentation=p},{"./enums/AttributeNames":115,"./enums/EventNames":116,"./version":118,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/instrumentation":122,"@opentelemetry/sdk-trace-web":237,"@opentelemetry/semantic-conventions":240}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.registerInstrumentations=void 0;const n=e("@opentelemetry/api"),o=e("./autoLoaderUtils");r.registerInstrumentations=function(e){const{instrumentations:t}=(0,o.parseInstrumentationOptions)(e.instrumentations),r=e.tracerProvider||n.trace.getTracerProvider(),i=e.meterProvider||n.metrics.getMeterProvider();return(0,o.enableInstrumentations)(t,r,i),()=>{(0,o.disableInstrumentations)(t)}}},{"./autoLoaderUtils":121,"@opentelemetry/api":21}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.disableInstrumentations=r.enableInstrumentations=r.parseInstrumentationOptions=void 0,r.parseInstrumentationOptions=function e(t=[]){let r=[];for(let n=0,o=t.length;n<o;n++){const o=t[n];if(Array.isArray(o)){const t=e(o);r=r.concat(t.instrumentations)}else"function"==typeof o?r.push(new o):o.instrumentationName&&r.push(o)}return{instrumentations:r}},r.enableInstrumentations=function(e,t,r){for(let n=0,o=e.length;n<o;n++){const o=e[n];t&&o.setTracerProvider(t),r&&o.setMeterProvider(r),o.getConfig().enabled||o.enable()}},r.disableInstrumentations=function(e){e.forEach((e=>e.disable()))}},{}],122:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./autoLoader"),r),o(e("./platform/index"),r),o(e("./types"),r),o(e("./types_internal"),r),o(e("./utils"),r)},{"./autoLoader":120,"./platform/index":124,"./types":126,"./types_internal":127,"./utils":128}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InstrumentationAbstract=void 0;const n=e("@opentelemetry/api"),o=e("shimmer");r.InstrumentationAbstract=class{constructor(e,t,r={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=o.wrap,this._unwrap=o.unwrap,this._massWrap=o.massWrap,this._massUnwrap=o.massUnwrap,this._config=Object.assign({enabled:!0},r),this._diag=n.diag.createComponentLogger({namespace:e}),this._tracer=n.trace.getTracer(e,t),this._meter=n.metrics.getMeter(e,t)}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion)}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}}},{"@opentelemetry/api":21,shimmer:245}],124:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./instrumentation"),r)},{"./instrumentation":125}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InstrumentationBase=void 0;const n=e("../../instrumentation");class o extends n.InstrumentationAbstract{constructor(e,t,r={}){super(e,t,r),this._config.enabled&&this.enable()}}r.InstrumentationBase=o},{"../../instrumentation":123}],126:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],128:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isWrapped=r.safeExecuteInTheMiddleAsync=r.safeExecuteInTheMiddle=void 0,r.safeExecuteInTheMiddle=function(e,t,r){let n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},r.safeExecuteInTheMiddleAsync=async function(e,t,r){let n,o;try{o=await e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},r.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},{}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OTLPExporterBase=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./util");r.OTLPExporterBase=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),"string"==typeof e.hostname&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this),this._concurrencyLimit="number"==typeof e.concurrencyLimit?e.concurrencyLimit:1/0,this.timeoutMillis=(0,i.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,t){this._shutdownOnce.isCalled?t({code:o.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?t({code:o.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")}):this._export(e).then((()=>{t({code:o.ExportResultCode.SUCCESS})})).catch((e=>{t({code:o.ExportResultCode.FAILED,error:e})}))}_export(e){return new Promise(((t,r)=>{try{n.diag.debug("items to be sent",e),this.send(e,t,r)}catch(e){r(e)}}))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return n.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then((()=>{}))}}},{"./util":135,"@opentelemetry/api":21,"@opentelemetry/core":67}],130:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./OTLPExporterBase"),r),o(e("./platform"),r),o(e("./types"),r),o(e("./util"),r)},{"./OTLPExporterBase":129,"./platform":132,"./types":134,"./util":135}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OTLPExporterBrowserBase=void 0;const n=e("../../OTLPExporterBase"),o=e("../../util"),i=e("./util"),a=e("@opentelemetry/api"),s=e("@opentelemetry/core");class c extends n.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||"function"!=typeof navigator.sendBeacon,this._useXHR?this._headers=Object.assign({},(0,o.parseHeaders)(e.headers),s.baggageUtils.parseKeyPairsIntoRecord((0,s.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(e,t,r){if(this._shutdownOnce.isCalled)return void a.diag.debug("Shutdown already started. Cannot send objects");const n=this.convert(e),o=JSON.stringify(n),s=new Promise(((e,t)=>{this._useXHR?(0,i.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,e,t):(0,i.sendWithBeacon)(o,this.url,{type:"application/json"},e,t)})).then(t,r);this._sendingPromises.push(s);const c=()=>{const e=this._sendingPromises.indexOf(s);this._sendingPromises.splice(e,1)};s.then(c,c)}}r.OTLPExporterBrowserBase=c},{"../../OTLPExporterBase":129,"../../util":135,"./util":133,"@opentelemetry/api":21,"@opentelemetry/core":67}],132:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./OTLPExporterBrowserBase"),r)},{"./OTLPExporterBrowserBase":131}],133:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sendWithXhr=r.sendWithBeacon=void 0;const n=e("@opentelemetry/api"),o=e("../../types");r.sendWithBeacon=function(e,t,r,i,a){if(navigator.sendBeacon(t,new Blob([e],r)))n.diag.debug("sendBeacon - can send",e),i();else{a(new o.OTLPExporterError(`sendBeacon - cannot send ${e}`))}},r.sendWithXhr=function(e,t,r,i,a,s){let c;const u=setTimeout((()=>{c=!0,l.abort()}),i),l=new XMLHttpRequest;l.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach((([e,t])=>{l.setRequestHeader(e,t)})),l.send(e),l.onreadystatechange=()=>{if(l.readyState===XMLHttpRequest.DONE)if(l.status>=200&&l.status<=299)clearTimeout(u),n.diag.debug("xhr success",e),a();else if(c){const e=new o.OTLPExporterError("Request Timeout",l.status);s(e)}else{const e=new o.OTLPExporterError(`Failed to export with XHR (status: ${l.status})`,l.status);clearTimeout(u),s(e)}}}},{"../../types":134,"@opentelemetry/api":21}],134:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OTLPExporterError=void 0;class n extends Error{constructor(e,t,r){super(e),this.name="OTLPExporterError",this.data=r,this.code=t}}r.OTLPExporterError=n},{}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invalidTimeout=r.configureExporterTimeout=r.appendRootPathToUrlIfNeeded=r.appendResourcePathToUrl=r.parseHeaders=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=1e4;function a(e,t){return n.diag.warn("Timeout must be greater than 0",e),t}r.parseHeaders=function(e={}){const t={};return Object.entries(e).forEach((([e,r])=>{void 0!==r?t[e]=String(r):n.diag.warn(`Header "${e}" has wrong value and will be ignored`)})),t},r.appendResourcePathToUrl=function(e,t){return e.endsWith("/")||(e+="/"),e+t},r.appendRootPathToUrlIfNeeded=function(e){try{const t=new URL(e);return""===t.pathname&&(t.pathname=t.pathname+"/"),t.toString()}catch(t){return n.diag.warn(`Could not parse export URL: '${e}'`),e}},r.configureExporterTimeout=function(e){return"number"==typeof e?e<=0?a(e,1e4):e:function(){var e;const t=Number(null!==(e=(0,o.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==e?e:(0,o.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?a(t,i):t}()},r.invalidTimeout=a},{"@opentelemetry/api":21,"@opentelemetry/core":67}],136:[function(e,t,r){"use strict";function n(e,t){return{key:e,value:o(t)}}function o(e){const t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(o)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map((([e,t])=>n(e,t)))}}:{}}function i(e){return("0"+e.toString(16)).slice(-2)}Object.defineProperty(r,"__esModule",{value:!0}),r.bufToHex=r.hexToBuf=r.toAnyValue=r.toKeyValue=r.toAttributes=void 0,r.toAttributes=function(e){return Object.keys(e).map((t=>n(t,e[t])))},r.toKeyValue=n,r.toAnyValue=o,r.hexToBuf=function(e){var t;const r=null===(t=e.match(/[\da-f]{2}/gi))||void 0===t?void 0:t.map((e=>parseInt(e,16)));return r&&new Uint8Array(r)},r.bufToHex=function(e){if(null!=e&&0!==e.length)return Array.from(e).map(i).join("")}},{}],137:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],138:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.createExportMetricsServiceRequest=r.createExportTraceServiceRequest=void 0,o(e("./common/types"),r),o(e("./metrics/types"),r),o(e("./resource/types"),r),o(e("./trace/types"),r);var i=e("./trace");Object.defineProperty(r,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return i.createExportTraceServiceRequest}});var a=e("./metrics");Object.defineProperty(r,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return a.createExportMetricsServiceRequest}})},{"./common/types":137,"./metrics":139,"./metrics/types":141,"./resource/types":142,"./trace":143,"./trace/types":145}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createExportMetricsServiceRequest=void 0;const n=e("./internal");r.createExportMetricsServiceRequest=function(e){return{resourceMetrics:e.map((e=>(0,n.toResourceMetrics)(e)))}}},{"./internal":140}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toMetric=r.toScopeMetrics=r.toResourceMetrics=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("@opentelemetry/sdk-metrics"),a=e("../common/internal");function s(e){return Array.from(e.map((e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map((e=>c(e))),schemaUrl:e.scope.schemaUrl}))))}function c(e){const t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=function(e){if(e===i.AggregationTemporality.DELTA)return 1;if(e===i.AggregationTemporality.CUMULATIVE)return 2;return 0}(e.aggregationTemporality);return e.dataPointType===i.DataPointType.SUM?t.sum={aggregationTemporality:r,isMonotonic:e.isMonotonic,dataPoints:u(e)}:e.dataPointType===i.DataPointType.GAUGE?t.gauge={dataPoints:u(e)}:e.dataPointType===i.DataPointType.HISTOGRAM&&(t.histogram={aggregationTemporality:r,dataPoints:l(e)}),t}function u(e){return e.dataPoints.map((t=>function(e,t){const r={attributes:(0,a.toAttributes)(e.attributes),startTimeUnixNano:(0,o.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,o.hrTimeToNanoseconds)(e.endTime)};return t===n.ValueType.INT?r.asInt=e.value:t===n.ValueType.DOUBLE&&(r.asDouble=e.value),r}(t,e.descriptor.valueType)))}function l(e){return e.dataPoints.map((e=>{const t=e.value;return{attributes:(0,a.toAttributes)(e.attributes),bucketCounts:t.buckets.counts,explicitBounds:t.buckets.boundaries,count:t.count,sum:t.sum,min:t.min,max:t.max,startTimeUnixNano:(0,o.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,o.hrTimeToNanoseconds)(e.endTime)}}))}r.toResourceMetrics=function(e){return{resource:{attributes:(0,a.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:s(e.scopeMetrics)}},r.toScopeMetrics=s,r.toMetric=c},{"../common/internal":136,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/sdk-metrics":185}],141:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],142:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],143:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createExportTraceServiceRequest=void 0;const n=e("../common/internal"),o=e("./internal");function i(e,t){const r=function(e){const t=new Map;for(const r of e){let e=t.get(r.resource);e||(e=new Map,t.set(r.resource,e));const n=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`;let o=e.get(n);o||(o=[],e.set(n,o)),o.push(r)}return t}(e),i=[],a=r.entries();let s=a.next();for(;!s.done;){const[e,r]=s.value,c=[],u=r.values();let l=u.next();for(;!l.done;){const e=l.value;if(e.length>0){const{name:r,version:n,schemaUrl:i}=e[0].instrumentationLibrary,a=e.map((e=>(0,o.sdkSpanToOtlpSpan)(e,t)));c.push({scope:{name:r,version:n},spans:a,schemaUrl:i})}l=u.next()}const p={resource:{attributes:(0,n.toAttributes)(e.attributes),droppedAttributesCount:0},scopeSpans:c,schemaUrl:void 0};i.push(p),s=a.next()}return i}r.createExportTraceServiceRequest=function(e,t){return{resourceSpans:i(e,t)}}},{"../common/internal":136,"./internal":144}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toOtlpSpanEvent=r.toOtlpLink=r.sdkSpanToOtlpSpan=void 0;const n=e("@opentelemetry/core"),o=e("../common/internal"),i=e("@opentelemetry/core");function a(e,t){return{attributes:e.attributes?(0,o.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:i.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:i.hexToBase64(e.context.traceId),droppedAttributesCount:0}}function s(e){return{attributes:e.attributes?(0,o.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,n.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}r.sdkSpanToOtlpSpan=function(e,t){const r=e.spanContext(),c=e.status,u=t?e.parentSpanId:null!=e.parentSpanId?i.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:i.hexToBase64(r.traceId),spanId:t?r.spanId:i.hexToBase64(r.spanId),parentSpanId:u,name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:(0,n.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,n.hrTimeToNanoseconds)(e.endTime),attributes:(0,o.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(s),droppedEventsCount:0,status:{code:c.code,message:c.message},links:e.links.map((e=>a(e,t))),droppedLinksCount:0}},r.toOtlpLink=a,r.toOtlpSpanEvent=s},{"../common/internal":136,"@opentelemetry/core":67}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ESpanKind=void 0,function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(r.ESpanKind||(r.ESpanKind={}))},{}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.B3MultiPropagator=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./common"),a=e("./constants"),s=new Set([!0,"true","True","1",1]),c=new Set([!1,"false","False","0",0]);function u(e,t,r){return function(e){return Array.isArray(e)?e[0]:e}(t.get(e,r))}function l(e,t){return"1"===u(e,t,a.X_B3_FLAGS)?"1":void 0}r.B3MultiPropagator=class{inject(e,t,r){const s=n.trace.getSpanContext(e);if(!s||!(0,n.isSpanContextValid)(s)||(0,o.isTracingSuppressed)(e))return;const c=e.getValue(i.B3_DEBUG_FLAG_KEY);r.set(t,a.X_B3_TRACE_ID,s.traceId),r.set(t,a.X_B3_SPAN_ID,s.spanId),"1"===c?r.set(t,a.X_B3_FLAGS,c):void 0!==s.traceFlags&&r.set(t,a.X_B3_SAMPLED,(n.TraceFlags.SAMPLED&s.traceFlags)===n.TraceFlags.SAMPLED?"1":"0")}extract(e,t,r){const o=function(e,t){const r=u(e,t,a.X_B3_TRACE_ID);return"string"==typeof r?r.padStart(32,"0"):""}(t,r),p=function(e,t){const r=u(e,t,a.X_B3_SPAN_ID);return"string"==typeof r?r:""}(t,r),d=function(e,t){const r=u(e,t,a.X_B3_SAMPLED);return"1"===l(e,t)||s.has(r)?n.TraceFlags.SAMPLED:void 0===r||c.has(r)?n.TraceFlags.NONE:void 0}(t,r),_=l(t,r);return(0,n.isValidTraceId)(o)&&(0,n.isValidSpanId)(p)&&((m=d)===n.TraceFlags.SAMPLED||m===n.TraceFlags.NONE)?(e=e.setValue(i.B3_DEBUG_FLAG_KEY,_),n.trace.setSpanContext(e,{traceId:o,spanId:p,isRemote:!0,traceFlags:d})):e;var m}fields(){return[a.X_B3_TRACE_ID,a.X_B3_SPAN_ID,a.X_B3_FLAGS,a.X_B3_SAMPLED,a.X_B3_PARENT_SPAN_ID]}}},{"./common":149,"./constants":150,"@opentelemetry/api":21,"@opentelemetry/core":67}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.B3Propagator=void 0;const n=e("@opentelemetry/core"),o=e("./B3MultiPropagator"),i=e("./B3SinglePropagator"),a=e("./constants"),s=e("./types");r.B3Propagator=class{constructor(e={}){this._b3MultiPropagator=new o.B3MultiPropagator,this._b3SinglePropagator=new i.B3SinglePropagator,e.injectEncoding===s.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,r){(0,n.isTracingSuppressed)(e)||this._inject(e,t,r)}extract(e,t,r){const n=r.get(t,a.B3_CONTEXT_HEADER);return(Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(e,t,r):this._b3MultiPropagator.extract(e,t,r)}fields(){return this._fields}}},{"./B3MultiPropagator":146,"./B3SinglePropagator":148,"./constants":150,"./types":152,"@opentelemetry/core":67}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.B3SinglePropagator=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./common"),a=e("./constants"),s=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,c="0".repeat(16),u=new Set(["d","1"]);r.B3SinglePropagator=class{inject(e,t,r){const s=n.trace.getSpanContext(e);if(!s||!(0,n.isSpanContextValid)(s)||(0,o.isTracingSuppressed)(e))return;const c=e.getValue(i.B3_DEBUG_FLAG_KEY)||1&s.traceFlags,u=`${s.traceId}-${s.spanId}-${c}`;r.set(t,a.B3_CONTEXT_HEADER,u)}extract(e,t,r){const o=r.get(t,a.B3_CONTEXT_HEADER),l=Array.isArray(o)?o[0]:o;if("string"!=typeof l)return e;const p=l.match(s);if(!p)return e;const[,d,_,m]=p,h=function(e){return 32===e.length?e:`${c}${e}`}(d);if(!(0,n.isValidTraceId)(h)||!(0,n.isValidSpanId)(_))return e;const g=function(e){return e&&u.has(e)?n.TraceFlags.SAMPLED:n.TraceFlags.NONE}(m);return"d"===m&&(e=e.setValue(i.B3_DEBUG_FLAG_KEY,m)),n.trace.setSpanContext(e,{traceId:h,spanId:_,isRemote:!0,traceFlags:g})}fields(){return[a.B3_CONTEXT_HEADER]}}},{"./common":149,"./constants":150,"@opentelemetry/api":21,"@opentelemetry/core":67}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.B3_DEBUG_FLAG_KEY=void 0;const n=e("@opentelemetry/api");r.B3_DEBUG_FLAG_KEY=(0,n.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")},{"@opentelemetry/api":21}],150:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.X_B3_FLAGS=r.X_B3_PARENT_SPAN_ID=r.X_B3_SAMPLED=r.X_B3_SPAN_ID=r.X_B3_TRACE_ID=r.B3_CONTEXT_HEADER=void 0,r.B3_CONTEXT_HEADER="b3",r.X_B3_TRACE_ID="x-b3-traceid",r.X_B3_SPAN_ID="x-b3-spanid",r.X_B3_SAMPLED="x-b3-sampled",r.X_B3_PARENT_SPAN_ID="x-b3-parentspanid",r.X_B3_FLAGS="x-b3-flags"},{}],151:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./B3Propagator"),r),o(e("./constants"),r),o(e("./types"),r)},{"./B3Propagator":147,"./constants":150,"./types":152}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.B3InjectEncoding=void 0,function(e){e[e.SINGLE_HEADER=0]="SINGLE_HEADER",e[e.MULTI_HEADER=1]="MULTI_HEADER"}(r.B3InjectEncoding||(r.B3InjectEncoding={}))},{}],153:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Resource=void 0;const n=e("@opentelemetry/semantic-conventions"),o=e("@opentelemetry/core"),i=e("./platform");class a{constructor(e){this.attributes=e}static empty(){return a.EMPTY}static default(){return new a({[n.SemanticResourceAttributes.SERVICE_NAME]:(0,i.defaultServiceName)(),[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:o.SDK_INFO[n.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;const t=Object.assign({},this.attributes,e.attributes);return new a(t)}}r.Resource=a,a.EMPTY=new a({})},{"./platform":165,"@opentelemetry/core":67,"@opentelemetry/semantic-conventions":240}],154:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],155:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.browserDetector=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/semantic-conventions"),i=e("..");r.browserDetector=new class{async detect(e){if(!("undefined"!=typeof navigator))return i.Resource.empty();const t={[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[o.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){return""===e[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(n.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),i.Resource.empty()):new i.Resource(Object.assign({},e))}}},{"..":160,"@opentelemetry/api":21,"@opentelemetry/semantic-conventions":240}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.envDetector=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("@opentelemetry/semantic-conventions"),a=e("../Resource");r.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){const t={},r=(0,o.getEnv)(),s=r.OTEL_RESOURCE_ATTRIBUTES,c=r.OTEL_SERVICE_NAME;if(s)try{const e=this._parseResourceAttributes(s);Object.assign(t,e)}catch(e){n.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(t[i.SemanticResourceAttributes.SERVICE_NAME]=c),new a.Resource(t)}_parseResourceAttributes(e){if(!e)return{};const t={},r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=decodeURIComponent(o)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}},{"../Resource":153,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/semantic-conventions":240}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noopDetector=r.NoopDetector=void 0;const n=e("../Resource");class o{async detect(){return new n.Resource({})}}r.NoopDetector=o,r.noopDetector=new o},{"../Resource":153}],158:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.processDetector=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/semantic-conventions"),i=e("../Resource");r.processDetector=new class{async detect(e){if("object"!=typeof t)return i.Resource.empty();const r={[o.SemanticResourceAttributes.PROCESS_PID]:t.pid,[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:t.title||"",[o.SemanticResourceAttributes.PROCESS_COMMAND]:t.argv[1]||"",[o.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:t.argv.join(" ")||"",[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:t.versions.node,[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[o.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,e)}_getResourceAttributes(e,t){return""===e[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[o.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[o.SemanticResourceAttributes.PROCESS_COMMAND]||""===e[o.SemanticResourceAttributes.PROCESS_COMMAND_LINE]||""===e[o.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(n.diag.debug("ProcessDetector failed: Unable to find required process resources. "),i.Resource.empty()):new i.Resource(Object.assign({},e))}}}).call(this)}).call(this,e("_process"))},{"../Resource":153,"@opentelemetry/api":21,"@opentelemetry/semantic-conventions":240,_process:1}],159:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./BrowserDetector"),r),o(e("./EnvDetector"),r),o(e("./ProcessDetector"),r)},{"./BrowserDetector":155,"./EnvDetector":156,"./ProcessDetector":158}],160:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./Resource"),r),o(e("./platform"),r),o(e("./types"),r),o(e("./config"),r),o(e("./detectors"),r)},{"./Resource":153,"./config":154,"./detectors":159,"./platform":165,"./types":166}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostDetector=void 0;const n=e("../../detectors/NoopDetector");r.hostDetector=n.noopDetector},{"../../detectors/NoopDetector":157}],162:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.osDetector=void 0;const n=e("../../detectors/NoopDetector");r.osDetector=n.noopDetector},{"../../detectors/NoopDetector":157}],163:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultServiceName=void 0,r.defaultServiceName=function(){return"unknown_service"}},{}],164:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.detectResources=void 0;const n=e("../../Resource"),o=e("@opentelemetry/api");r.detectResources=async(e={})=>{const t=Object.assign(e);return(await Promise.all((t.detectors||[]).map((async e=>{try{const r=await e.detect(t);return o.diag.debug(`${e.constructor.name} found resource.`,r),r}catch(t){return o.diag.debug(`${e.constructor.name} failed: ${t.message}`),n.Resource.empty()}})))).reduce(((e,t)=>e.merge(t)),n.Resource.empty())}},{"../../Resource":153,"@opentelemetry/api":21}],165:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./default-service-name"),r),o(e("./detect-resources"),r),o(e("./HostDetector"),r),o(e("./OSDetector"),r)},{"./HostDetector":161,"./OSDetector":162,"./default-service-name":163,"./detect-resources":164}],166:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],167:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDescriptorCompatibleWith=r.createInstrumentDescriptorWithView=r.createInstrumentDescriptor=r.InstrumentType=void 0;const n=e("@opentelemetry/api");!function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(r.InstrumentType||(r.InstrumentType={})),r.createInstrumentDescriptor=function(e,t,r){var o,i,a;return{name:e,type:t,description:null!==(o=null==r?void 0:r.description)&&void 0!==o?o:"",unit:null!==(i=null==r?void 0:r.unit)&&void 0!==i?i:"",valueType:null!==(a=null==r?void 0:r.valueType)&&void 0!==a?a:n.ValueType.DOUBLE}},r.createInstrumentDescriptorWithView=function(e,t){var r,n;return{name:null!==(r=e.name)&&void 0!==r?r:t.name,description:null!==(n=e.description)&&void 0!==n?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}},r.isDescriptorCompatibleWith=function(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}},{"@opentelemetry/api":21}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObservableInstrument=r.ObservableUpDownCounterInstrument=r.ObservableGaugeInstrument=r.ObservableCounterInstrument=r.ObservableInstrument=r.HistogramInstrument=r.CounterInstrument=r.UpDownCounterInstrument=r.SyncInstrument=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core");class i{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},r=n.context.active()){this._descriptor.valueType!==n.ValueType.INT||Number.isInteger(e)||(n.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._writableMetricStorage.record(e,t,r,(0,o.hrTime)())}}r.SyncInstrument=i;r.UpDownCounterInstrument=class extends i{add(e,t,r){this._record(e,t,r)}};r.CounterInstrument=class extends i{add(e,t,r){e<0?n.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`):this._record(e,t,r)}};r.HistogramInstrument=class extends i{record(e,t,r){e<0?n.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`):this._record(e,t,r)}};class a{constructor(e,t,r){this._observableRegistry=r,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}}r.ObservableInstrument=a;r.ObservableCounterInstrument=class extends a{};r.ObservableGaugeInstrument=class extends a{};r.ObservableUpDownCounterInstrument=class extends a{},r.isObservableInstrument=function(e){return e instanceof a}},{"@opentelemetry/api":21,"@opentelemetry/core":67}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Meter=void 0;const n=e("./InstrumentDescriptor"),o=e("./Instruments");r.Meter=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.HISTOGRAM,t),i=this._meterSharedState.registerMetricStorage(r);return new o.HistogramInstrument(i,r)}createCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.COUNTER,t),i=this._meterSharedState.registerMetricStorage(r);return new o.CounterInstrument(i,r)}createUpDownCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.UP_DOWN_COUNTER,t),i=this._meterSharedState.registerMetricStorage(r);return new o.UpDownCounterInstrument(i,r)}createObservableGauge(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_GAUGE,t),i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableGaugeInstrument(r,i,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableCounterInstrument(r,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableUpDownCounterInstrument(r,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}},{"./InstrumentDescriptor":167,"./Instruments":168}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MeterProvider=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/resources"),i=e("./state/MeterProviderSharedState"),a=e("./state/MetricCollector");r.MeterProvider=class{constructor(e){var t;if(this._shutdown=!1,this._sharedState=new i.MeterProviderSharedState(null!==(t=null==e?void 0:e.resource)&&void 0!==t?t:o.Resource.empty()),null!=(null==e?void 0:e.views)&&e.views.length>0)for(const t of e.views)this._sharedState.viewRegistry.addView(t)}getMeter(e,t="",r={}){return this._shutdown?(n.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,n.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:r.schemaUrl}).meter}addMetricReader(e){const t=new a.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){this._shutdown?n.diag.warn("shutdown may only be called once per MeterProvider"):(this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map((t=>t.shutdown(e)))))}async forceFlush(e){this._shutdown?n.diag.warn("invalid attempt to force flush after MeterProvider shutdown"):await Promise.all(this._sharedState.metricCollectors.map((t=>t.forceFlush(e))))}}},{"./state/MeterProviderSharedState":189,"./state/MetricCollector":191,"@opentelemetry/api":21,"@opentelemetry/resources":160}],171:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BatchObservableResultImpl=r.ObservableResultImpl=void 0;const n=e("@opentelemetry/api"),o=e("./state/HashMap"),i=e("./Instruments");r.ObservableResultImpl=class{constructor(e){this._descriptor=e,this._buffer=new o.AttributeHashMap}observe(e,t={}){this._descriptor.valueType!==n.ValueType.INT||Number.isInteger(e)||(n.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._buffer.set(t,e)}};r.BatchObservableResultImpl=class{constructor(){this._buffer=new Map}observe(e,t,r={}){if(!(0,i.isObservableInstrument)(e))return;let a=this._buffer.get(e);null==a&&(a=new o.AttributeHashMap,this._buffer.set(e,a)),e._descriptor.valueType!==n.ValueType.INT||Number.isInteger(t)||(n.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),a.set(r,t)}}},{"./Instruments":168,"./state/HashMap":188,"@opentelemetry/api":21}],172:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DropAggregator=void 0;const n=e("./types");r.DropAggregator=class{constructor(){this.kind=n.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,r,n){}}},{"./types":177}],173:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HistogramAggregator=r.HistogramAccumulation=void 0;const n=e("./types"),o=e("../export/MetricData"),i=e("../InstrumentDescriptor");class a{constructor(e,t,r=!0,n=function(e){const t=e.map((()=>0));return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=r,this._current=n}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);for(let t=0;t<this._boundaries.length;t++)if(e<this._boundaries[t])return void(this._current.buckets.counts[t]+=1);this._current.buckets.counts[this._boundaries.length]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.HistogramAccumulation=a;r.HistogramAggregator=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=n.AggregatorKind.HISTOGRAM}createAccumulation(e){return new a(e,this._boundaries,this._recordMinMax)}merge(e,t){const r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,s=new Array(o.length);for(let e=0;e<o.length;e++)s[e]=o[e]+i[e];let c=1/0,u=-1/0;return this._recordMinMax&&(r.hasMinMax&&n.hasMinMax?(c=Math.min(r.min,n.min),u=Math.max(r.max,n.max)):r.hasMinMax?(c=r.min,u=r.max):n.hasMinMax&&(c=n.min,u=n.max)),new a(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:r.count+n.count,sum:r.sum+n.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||n.hasMinMax),min:c,max:u})}diff(e,t){const r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,s=new Array(o.length);for(let e=0;e<o.length;e++)s[e]=i[e]-o[e];return new a(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:n.count-r.count,sum:n.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.HISTOGRAM,dataPoints:r.map((([t,r])=>{const o=r.toPointValue(),a=e.type===i.InstrumentType.UP_DOWN_COUNTER||e.type===i.InstrumentType.OBSERVABLE_GAUGE||e.type===i.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:void 0,max:o.hasMinMax?o.max:void 0,sum:a?void 0:o.sum,buckets:o.buckets,count:o.count}}}))}}}},{"../InstrumentDescriptor":167,"../export/MetricData":182,"./types":177}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LastValueAggregator=r.LastValueAccumulation=void 0;const n=e("./types"),o=e("@opentelemetry/core"),i=e("../export/MetricData");class a{constructor(e,t=0,r=[0,0]){this.startTime=e,this._current=t,this.sampleTime=r}record(e){this._current=e,this.sampleTime=(0,o.hrTime)()}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.LastValueAccumulation=a;r.LastValueAggregator=class{constructor(){this.kind=n.AggregatorKind.LAST_VALUE}createAccumulation(e){return new a(e)}merge(e,t){const r=(0,o.hrTimeToMicroseconds)(t.sampleTime)>=(0,o.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new a(e.startTime,r.toPointValue(),r.sampleTime)}diff(e,t){const r=(0,o.hrTimeToMicroseconds)(t.sampleTime)>=(0,o.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new a(t.startTime,r.toPointValue(),r.sampleTime)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:i.DataPointType.GAUGE,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()})))}}}},{"../export/MetricData":182,"./types":177,"@opentelemetry/core":67}],175:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SumAggregator=r.SumAccumulation=void 0;const n=e("./types"),o=e("../export/MetricData");class i{constructor(e,t,r=0,n=!1){this.startTime=e,this.monotonic=t,this._current=r,this.reset=n}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.SumAccumulation=i;r.SumAggregator=class{constructor(e){this.monotonic=e,this.kind=n.AggregatorKind.SUM}createAccumulation(e){return new i(e,this.monotonic)}merge(e,t){const r=e.toPointValue(),n=t.toPointValue();return t.reset?new i(t.startTime,this.monotonic,n,t.reset):new i(e.startTime,this.monotonic,r+n)}diff(e,t){const r=e.toPointValue(),n=t.toPointValue();return this.monotonic&&r>n?new i(t.startTime,this.monotonic,n,!0):new i(t.startTime,this.monotonic,n-r)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.SUM,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()}))),isMonotonic:this.monotonic}}}},{"../export/MetricData":182,"./types":177}],176:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./Drop"),r),o(e("./Histogram"),r),o(e("./LastValue"),r),o(e("./Sum"),r)},{"./Drop":172,"./Histogram":173,"./LastValue":174,"./Sum":175}],177:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AggregatorKind=void 0,function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"}(r.AggregatorKind||(r.AggregatorKind={}))},{}],178:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=r.DEFAULT_AGGREGATION_SELECTOR=void 0;const n=e("../view/Aggregation"),o=e("./AggregationTemporality");r.DEFAULT_AGGREGATION_SELECTOR=e=>n.Aggregation.Default();r.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=e=>o.AggregationTemporality.CUMULATIVE},{"../view/Aggregation":199,"./AggregationTemporality":179}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AggregationTemporality=void 0,function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(r.AggregationTemporality||(r.AggregationTemporality={}))},{}],180:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConsoleMetricExporter=void 0;const n=e("@opentelemetry/core"),o=e("./AggregationTemporality");class i{constructor(){this._shutdown=!1}export(e,r){if(!this._shutdown)return i._sendMetrics(e,r);t(r,{code:n.ExportResultCode.FAILED})}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return o.AggregationTemporality.CUMULATIVE}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(const t of e.scopeMetrics)for(const e of t.metrics)console.dir({descriptor:e.descriptor,dataPointType:e.dataPointType,dataPoints:e.dataPoints});t({code:n.ExportResultCode.SUCCESS})}}r.ConsoleMetricExporter=i}).call(this)}).call(this,e("timers").setImmediate)},{"./AggregationTemporality":179,"@opentelemetry/core":67,timers:2}],181:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryMetricExporter=void 0;const n=e("@opentelemetry/core");r.InMemoryMetricExporter=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){this._shutdown?setTimeout((()=>t({code:n.ExportResultCode.FAILED})),0):(this._metrics.push(e),setTimeout((()=>t({code:n.ExportResultCode.SUCCESS})),0))}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}},{"@opentelemetry/core":67}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DataPointType=void 0,function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"}(r.DataPointType||(r.DataPointType={}))},{}],183:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MetricReader=void 0;const n=e("@opentelemetry/api"),o=e("../utils"),i=e("./AggregationSelector");r.MetricReader=class{constructor(e){var t,r;this._shutdown=!1,this._aggregationSelector=null!==(t=null==e?void 0:e.aggregationSelector)&&void 0!==t?t:i.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=null!==(r=null==e?void 0:e.aggregationTemporalitySelector)&&void 0!==r?r:i.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}setMetricProducer(e){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(void 0===this._metricProducer)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:null==e?void 0:e.timeoutMillis})}async shutdown(e){this._shutdown?n.diag.error("Cannot call shutdown twice."):(null==(null==e?void 0:e.timeoutMillis)?await this.onShutdown():await(0,o.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0)}async forceFlush(e){this._shutdown?n.diag.warn("Cannot forceFlush on already shutdown MetricReader."):null!=(null==e?void 0:e.timeoutMillis)?await(0,o.callWithTimeout)(this.onForceFlush(),e.timeoutMillis):await this.onForceFlush()}}},{"../utils":198,"./AggregationSelector":178,"@opentelemetry/api":21}],184:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PeriodicExportingMetricReader=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./MetricReader"),a=e("../utils");class s extends i.MetricReader{constructor(e){var t,r,n,o;if(super({aggregationSelector:null===(t=e.exporter.selectAggregation)||void 0===t?void 0:t.bind(e.exporter),aggregationTemporalitySelector:null===(r=e.exporter.selectAggregationTemporality)||void 0===r?void 0:r.bind(e.exporter)}),void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=null!==(n=e.exportIntervalMillis)&&void 0!==n?n:6e4,this._exportTimeout=null!==(o=e.exportTimeoutMillis)&&void 0!==o?o:3e4,this._exporter=e.exporter}async _runOnce(){const{resourceMetrics:e,errors:t}=await this.collect({});t.length>0&&n.diag.error("PeriodicExportingMetricReader: metrics collection errors",...t);const r=await o.internal._export(this._exporter,e);if(r.code!==o.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${r.error})`)}onInitialized(){this._interval=setInterval((async()=>{try{await(0,a.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(e){if(e instanceof a.TimeoutError)return void n.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);(0,o.globalErrorHandler)(e)}}),this._exportInterval),(0,o.unrefTimer)(this._interval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}r.PeriodicExportingMetricReader=s},{"../utils":198,"./MetricReader":183,"@opentelemetry/api":21,"@opentelemetry/core":67}],185:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TimeoutError=r.View=r.Aggregation=r.SumAggregation=r.LastValueAggregation=r.HistogramAggregation=r.DropAggregation=r.ExplicitBucketHistogramAggregation=r.DefaultAggregation=r.MeterProvider=r.InstrumentType=r.ConsoleMetricExporter=r.InMemoryMetricExporter=r.PeriodicExportingMetricReader=r.MetricReader=r.DataPointType=r.AggregationTemporality=void 0;var n=e("./export/AggregationTemporality");Object.defineProperty(r,"AggregationTemporality",{enumerable:!0,get:function(){return n.AggregationTemporality}});var o=e("./export/MetricData");Object.defineProperty(r,"DataPointType",{enumerable:!0,get:function(){return o.DataPointType}});var i=e("./export/MetricReader");Object.defineProperty(r,"MetricReader",{enumerable:!0,get:function(){return i.MetricReader}});var a=e("./export/PeriodicExportingMetricReader");Object.defineProperty(r,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return a.PeriodicExportingMetricReader}});var s=e("./export/InMemoryMetricExporter");Object.defineProperty(r,"InMemoryMetricExporter",{enumerable:!0,get:function(){return s.InMemoryMetricExporter}});var c=e("./export/ConsoleMetricExporter");Object.defineProperty(r,"ConsoleMetricExporter",{enumerable:!0,get:function(){return c.ConsoleMetricExporter}});var u=e("./InstrumentDescriptor");Object.defineProperty(r,"InstrumentType",{enumerable:!0,get:function(){return u.InstrumentType}});var l=e("./MeterProvider");Object.defineProperty(r,"MeterProvider",{enumerable:!0,get:function(){return l.MeterProvider}});var p=e("./view/Aggregation");Object.defineProperty(r,"DefaultAggregation",{enumerable:!0,get:function(){return p.DefaultAggregation}}),Object.defineProperty(r,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return p.ExplicitBucketHistogramAggregation}}),Object.defineProperty(r,"DropAggregation",{enumerable:!0,get:function(){return p.DropAggregation}}),Object.defineProperty(r,"HistogramAggregation",{enumerable:!0,get:function(){return p.HistogramAggregation}}),Object.defineProperty(r,"LastValueAggregation",{enumerable:!0,get:function(){return p.LastValueAggregation}}),Object.defineProperty(r,"SumAggregation",{enumerable:!0,get:function(){return p.SumAggregation}}),Object.defineProperty(r,"Aggregation",{enumerable:!0,get:function(){return p.Aggregation}});var d=e("./view/View");Object.defineProperty(r,"View",{enumerable:!0,get:function(){return d.View}});var _=e("./utils");Object.defineProperty(r,"TimeoutError",{enumerable:!0,get:function(){return _.TimeoutError}})},{"./InstrumentDescriptor":167,"./MeterProvider":170,"./export/AggregationTemporality":179,"./export/ConsoleMetricExporter":180,"./export/InMemoryMetricExporter":181,"./export/MetricData":182,"./export/MetricReader":183,"./export/PeriodicExportingMetricReader":184,"./utils":198,"./view/Aggregation":199,"./view/View":205}],186:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncMetricStorage=void 0;const n=e("./MetricStorage"),o=e("./DeltaMetricProcessor"),i=e("./TemporalMetricProcessor"),a=e("./HashMap");class s extends n.MetricStorage{constructor(e,t,r){super(e),this._attributesProcessor=r,this._deltaMetricStorage=new o.DeltaMetricProcessor(t),this._temporalMetricStorage=new i.TemporalMetricProcessor(t)}record(e,t){const r=new a.AttributeHashMap;Array.from(e.entries()).forEach((([e,t])=>{r.set(this._attributesProcessor.process(e),t)})),this._deltaMetricStorage.batchCumulate(r,t)}collect(e,t,r){const n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,n,r)}}r.AsyncMetricStorage=s},{"./DeltaMetricProcessor":187,"./HashMap":188,"./MetricStorage":192,"./TemporalMetricProcessor":197}],187:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DeltaMetricProcessor=void 0;const n=e("./HashMap");r.DeltaMetricProcessor=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new n.AttributeHashMap,this._cumulativeMemoStorage=new n.AttributeHashMap}record(e,t,r,n){const o=this._activeCollectionStorage.getOrDefault(t,(()=>this._aggregator.createAccumulation(n)));null==o||o.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach((([e,r,n])=>{const o=this._aggregator.createAccumulation(t);null==o||o.record(r);let i=o;if(this._cumulativeMemoStorage.has(e,n)){const t=this._cumulativeMemoStorage.get(e,n);i=this._aggregator.diff(t,o)}this._cumulativeMemoStorage.set(e,o,n),this._activeCollectionStorage.set(e,i,n)}))}collect(){const e=this._activeCollectionStorage;return this._activeCollectionStorage=new n.AttributeHashMap,e}}},{"./HashMap":188}],188:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AttributeHashMap=r.HashMap=void 0;const n=e("../utils");class o{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return null!=t||(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){const r=this._hash(e);if(this._valueMap.has(r))return this._valueMap.get(r);const n=t();return this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,n),n}set(e,t,r){null!=r||(r=this._hash(e)),this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,t)}has(e,t){return null!=t||(t=this._hash(e)),this._valueMap.has(t)}*keys(){const e=this._keyMap.entries();let t=e.next();for(;!0!==t.done;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){const e=this._valueMap.entries();let t=e.next();for(;!0!==t.done;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}}r.HashMap=o;r.AttributeHashMap=class extends o{constructor(){super(n.hashAttributes)}}},{"../utils":198}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MeterProviderSharedState=void 0;const n=e("../utils"),o=e("../view/ViewRegistry"),i=e("./MeterSharedState");r.MeterProviderSharedState=class{constructor(e){this.resource=e,this.viewRegistry=new o.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){const t=(0,n.instrumentationScopeId)(e);let r=this.meterSharedStates.get(t);return null==r&&(r=new i.MeterSharedState(this,e),this.meterSharedStates.set(t,r)),r}selectAggregations(e){const t=[];for(const r of this.metricCollectors)t.push([r,r.selectAggregation(e)]);return t}}},{"../utils":198,"../view/ViewRegistry":206,"./MeterSharedState":190}],190:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MeterSharedState=void 0;const n=e("../InstrumentDescriptor"),o=e("../Meter"),i=e("../utils"),a=e("./AsyncMetricStorage"),s=e("./MetricStorageRegistry"),c=e("./MultiWritableMetricStorage"),u=e("./ObservableRegistry"),l=e("./SyncMetricStorage"),p=e("../view/AttributesProcessor");r.MeterSharedState=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new s.MetricStorageRegistry,this.observableRegistry=new u.ObservableRegistry,this.meter=new o.Meter(this)}registerMetricStorage(e){const t=this._registerMetricStorage(e,l.SyncMetricStorage);return 1===t.length?t[0]:new c.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,a.AsyncMetricStorage)}async collect(e,t,r){const n=await this.observableRegistry.observe(t,null==r?void 0:r.timeoutMillis),o=Array.from(this.metricStorageRegistry.getStorages(e)).map((r=>r.collect(e,this._meterProviderSharedState.metricCollectors,t))).filter(i.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:o.filter(i.isNotNullish)},errors:n}}_registerMetricStorage(e,t){let r=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map((r=>{const o=(0,n.createInstrumentDescriptorWithView)(r,e),i=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(null!=i)return i;const a=r.aggregation.createAggregator(o),s=new t(o,a,r.attributesProcessor);return this.metricStorageRegistry.register(s),s}));if(0===r.length){const n=this._meterProviderSharedState.selectAggregations(e.type).map((([r,n])=>{const o=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(r,e);if(null!=o)return o;const i=n.createAggregator(e),a=new t(e,i,p.AttributesProcessor.Noop());return this.metricStorageRegistry.registerForCollector(r,a),a}));r=r.concat(n)}return r}}},{"../InstrumentDescriptor":167,"../Meter":169,"../utils":198,"../view/AttributesProcessor":200,"./AsyncMetricStorage":186,"./MetricStorageRegistry":193,"./MultiWritableMetricStorage":194,"./ObservableRegistry":195,"./SyncMetricStorage":196}],191:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MetricCollector=void 0;const n=e("@opentelemetry/core"),o=e("../utils");r.MetricCollector=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){const t=(0,n.hrTime)(),r=Array.from(this._sharedState.meterSharedStates.values()).map((r=>r.collect(this,t,e))),i=await Promise.all(r);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map((e=>e.scopeMetrics))},errors:(0,o.FlatMap)(i,(e=>e.errors))}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}}},{"../utils":198,"@opentelemetry/core":67}],192:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MetricStorage=void 0;const n=e("../InstrumentDescriptor");r.MetricStorage=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,n.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}}},{"../InstrumentDescriptor":167}],193:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MetricStorageRegistry=void 0;const n=e("../InstrumentDescriptor"),o=e("@opentelemetry/api"),i=e("../view/RegistrationConflicts");class a{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new a}getStorages(e){let t=[];for(const e of this._sharedRegistry.values())t=t.concat(e);const r=this._perCollectorRegistry.get(e);if(null!=r)for(const e of r.values())t=t.concat(e);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let r=this._perCollectorRegistry.get(e);null==r&&(r=new Map,this._perCollectorRegistry.set(e,r)),this._registerStorage(t,r)}findOrUpdateCompatibleStorage(e){const t=this._sharedRegistry.get(e.name);return void 0===t?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){if(void 0===this._perCollectorRegistry.get(e))return null;const r=this._sharedRegistry.get(t.name);return void 0===r?null:this._findOrUpdateCompatibleStorage(t,r)}_registerStorage(e,t){const r=e.getInstrumentDescriptor(),n=t.get(r.name);void 0!==n?n.push(e):t.set(r.name,[e])}_findOrUpdateCompatibleStorage(e,t){let r=null;for(const a of t){const t=a.getInstrumentDescriptor();(0,n.isDescriptorCompatibleWith)(t,e)?(t.description!==e.description&&(e.description.length>t.description.length&&a.updateDescription(e.description),o.diag.warn("A view or instrument with the name ",e.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",(0,i.getIncompatibilityDetails)(t,e),"The longer description will be used.\nTo resolve the conflict:",(0,i.getConflictResolutionRecipe)(t,e))),r=a):o.diag.warn("A view or instrument with the name ",e.name," has already been registered and is incompatible with another registered view.\n","Details:\n",(0,i.getIncompatibilityDetails)(t,e),"To resolve the conflict:\n",(0,i.getConflictResolutionRecipe)(t,e))}return r}}r.MetricStorageRegistry=a},{"../InstrumentDescriptor":167,"../view/RegistrationConflicts":204,"@opentelemetry/api":21}],194:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultiMetricStorage=void 0;r.MultiMetricStorage=class{constructor(e){this._backingStorages=e}record(e,t,r,n){this._backingStorages.forEach((o=>{o.record(e,t,r,n)}))}}},{}],195:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ObservableRegistry=void 0;const n=e("@opentelemetry/api"),o=e("../Instruments"),i=e("../ObservableResult"),a=e("../utils");r.ObservableRegistry=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){const r=this._findCallback(e,t);r<0||this._callbacks.splice(r,1)}addBatchCallback(e,t){const r=new Set(t.filter(o.isObservableInstrument));if(0===r.size)return void n.diag.error("BatchObservableCallback is not associated with valid instruments",t);this._findBatchCallback(e,r)>=0||this._batchCallbacks.push({callback:e,instruments:r})}removeBatchCallback(e,t){const r=new Set(t.filter(o.isObservableInstrument)),n=this._findBatchCallback(e,r);n<0||this._batchCallbacks.splice(n,1)}async observe(e,t){const r=this._observeCallbacks(e,t),n=this._observeBatchCallbacks(e,t);return(await(0,a.PromiseAllSettled)([...r,...n])).filter(a.isPromiseAllSettledRejectionResult).map((e=>e.reason))}_observeCallbacks(e,t){return this._callbacks.map((async({callback:r,instrument:n})=>{const o=new i.ObservableResultImpl(n._descriptor);let s=Promise.resolve(r(o));null!=t&&(s=(0,a.callWithTimeout)(s,t)),await s,n._metricStorages.forEach((t=>{t.record(o._buffer,e)}))}))}_observeBatchCallbacks(e,t){return this._batchCallbacks.map((async({callback:r,instruments:n})=>{const o=new i.BatchObservableResultImpl;let s=Promise.resolve(r(o));null!=t&&(s=(0,a.callWithTimeout)(s,t)),await s,n.forEach((t=>{const r=o._buffer.get(t);null!=r&&t._metricStorages.forEach((t=>{t.record(r,e)}))}))}))}_findCallback(e,t){return this._callbacks.findIndex((r=>r.callback===e&&r.instrument===t))}_findBatchCallback(e,t){return this._batchCallbacks.findIndex((r=>r.callback===e&&(0,a.setEquals)(r.instruments,t)))}}},{"../Instruments":168,"../ObservableResult":171,"../utils":198,"@opentelemetry/api":21}],196:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SyncMetricStorage=void 0;const n=e("./MetricStorage"),o=e("./DeltaMetricProcessor"),i=e("./TemporalMetricProcessor");class a extends n.MetricStorage{constructor(e,t,r){super(e),this._attributesProcessor=r,this._deltaMetricStorage=new o.DeltaMetricProcessor(t),this._temporalMetricStorage=new i.TemporalMetricProcessor(t)}record(e,t,r,n){t=this._attributesProcessor.process(t,r),this._deltaMetricStorage.record(e,t,r,n)}collect(e,t,r){const n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,n,r)}}r.SyncMetricStorage=a},{"./DeltaMetricProcessor":187,"./MetricStorage":192,"./TemporalMetricProcessor":197}],197:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TemporalMetricProcessor=void 0;const n=e("../export/AggregationTemporality"),o=e("./HashMap");class i{constructor(e){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(e,t,r,o,a){this._stashAccumulations(t,o);const s=this._getMergedUnreportedAccumulations(e);let c,u=s;if(this._reportHistory.has(e)){const t=this._reportHistory.get(e),r=t.collectionTime;c=t.aggregationTemporality,u=c===n.AggregationTemporality.CUMULATIVE?i.merge(t.accumulations,s,this._aggregator):i.calibrateStartTime(t.accumulations,s,r)}else c=e.selectAggregationTemporality(r.type);return this._reportHistory.set(e,{accumulations:u,collectionTime:a,aggregationTemporality:c}),this._aggregator.toMetricData(r,c,(l=u,Array.from(l.entries())),a);var l}_stashAccumulations(e,t){e.forEach((e=>{let r=this._unreportedAccumulations.get(e);void 0===r&&(r=[],this._unreportedAccumulations.set(e,r)),r.push(t)}))}_getMergedUnreportedAccumulations(e){let t=new o.AttributeHashMap;const r=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),void 0===r)return t;for(const e of r)t=i.merge(t,e,this._aggregator);return t}static merge(e,t,r){const n=e,o=t.entries();let i=o.next();for(;!0!==i.done;){const[t,a,s]=i.value;if(e.has(t,s)){const o=e.get(t,s),i=r.merge(o,a);n.set(t,i,s)}else n.set(t,a,s);i=o.next()}return n}static calibrateStartTime(e,t,r){for(const[n,o]of e.keys()){const e=t.get(n,o);null==e||e.setStartTime(r)}return t}}r.TemporalMetricProcessor=i},{"../export/AggregationTemporality":179,"./HashMap":188}],198:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setEquals=r.FlatMap=r.isPromiseAllSettledRejectionResult=r.PromiseAllSettled=r.callWithTimeout=r.TimeoutError=r.instrumentationScopeId=r.hashAttributes=r.isNotNullish=void 0,r.isNotNullish=function(e){return null!=e},r.hashAttributes=function(e){let t=Object.keys(e);return 0===t.length?"":(t=t.sort(),JSON.stringify(t.map((t=>[t,e[t]]))))},r.instrumentationScopeId=function(e){var t,r;return`${e.name}:${null!==(t=e.version)&&void 0!==t?t:""}:${null!==(r=e.schemaUrl)&&void 0!==r?r:""}`};class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}r.TimeoutError=n,r.callWithTimeout=function(e,t){let r;const o=new Promise((function(e,o){r=setTimeout((function(){o(new n("Operation timed out."))}),t)}));return Promise.race([e,o]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))},r.PromiseAllSettled=async function(e){return Promise.all(e.map((async e=>{try{return{status:"fulfilled",value:await e}}catch(e){return{status:"rejected",reason:e}}})))},r.isPromiseAllSettledRejectionResult=function(e){return"rejected"===e.status},r.FlatMap=function(e,t){const r=[];return e.forEach((e=>{r.push(...t(e))})),r},r.setEquals=function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}},{}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultAggregation=r.ExplicitBucketHistogramAggregation=r.HistogramAggregation=r.LastValueAggregation=r.SumAggregation=r.DropAggregation=r.Aggregation=void 0;const n=e("@opentelemetry/api"),o=e("../aggregator"),i=e("../InstrumentDescriptor");class a{static Drop(){return d}static Sum(){return _}static LastValue(){return m}static Histogram(){return h}static Default(){return g}}r.Aggregation=a;class s extends a{createAggregator(e){return s.DEFAULT_INSTANCE}}r.DropAggregation=s,s.DEFAULT_INSTANCE=new o.DropAggregator;class c extends a{createAggregator(e){switch(e.type){case i.InstrumentType.COUNTER:case i.InstrumentType.OBSERVABLE_COUNTER:case i.InstrumentType.HISTOGRAM:return c.MONOTONIC_INSTANCE;default:return c.NON_MONOTONIC_INSTANCE}}}r.SumAggregation=c,c.MONOTONIC_INSTANCE=new o.SumAggregator(!0),c.NON_MONOTONIC_INSTANCE=new o.SumAggregator(!1);class u extends a{createAggregator(e){return u.DEFAULT_INSTANCE}}r.LastValueAggregation=u,u.DEFAULT_INSTANCE=new o.LastValueAggregator;class l extends a{createAggregator(e){return l.DEFAULT_INSTANCE}}r.HistogramAggregation=l,l.DEFAULT_INSTANCE=new o.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3],!0);r.ExplicitBucketHistogramAggregation=class extends a{constructor(e,t=!0){if(super(),this._recordMinMax=t,void 0===e||0===e.length)throw new Error("HistogramAggregator should be created with boundaries.");const r=(e=(e=e.concat()).sort(((e,t)=>e-t))).lastIndexOf(-1/0);let n=e.indexOf(1/0);-1===n&&(n=void 0),this._boundaries=e.slice(r+1,n)}createAggregator(e){return new o.HistogramAggregator(this._boundaries,this._recordMinMax)}};class p extends a{_resolve(e){switch(e.type){case i.InstrumentType.COUNTER:case i.InstrumentType.UP_DOWN_COUNTER:case i.InstrumentType.OBSERVABLE_COUNTER:case i.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return _;case i.InstrumentType.OBSERVABLE_GAUGE:return m;case i.InstrumentType.HISTOGRAM:return h}return n.diag.warn(`Unable to recognize instrument type: ${e.type}`),d}createAggregator(e){return this._resolve(e).createAggregator(e)}}r.DefaultAggregation=p;const d=new s,_=new c,m=new u,h=new l,g=new p},{"../InstrumentDescriptor":167,"../aggregator":176,"@opentelemetry/api":21}],200:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FilteringAttributesProcessor=r.NoopAttributesProcessor=r.AttributesProcessor=void 0;class n{static Noop(){return i}}r.AttributesProcessor=n;class o extends n{process(e,t){return e}}r.NoopAttributesProcessor=o;r.FilteringAttributesProcessor=class extends n{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){const r={};return Object.keys(e).filter((e=>this._allowedAttributeNames.includes(e))).forEach((t=>r[t]=e[t])),r}};const i=new o},{}],201:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InstrumentSelector=void 0;const n=e("./Predicate");r.InstrumentSelector=class{constructor(e){var t;this._nameFilter=new n.PatternPredicate(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"*"),this._type=null==e?void 0:e.type}getType(){return this._type}getNameFilter(){return this._nameFilter}}},{"./Predicate":203}],202:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MeterSelector=void 0;const n=e("./Predicate");r.MeterSelector=class{constructor(e){this._nameFilter=new n.ExactPredicate(null==e?void 0:e.name),this._versionFilter=new n.ExactPredicate(null==e?void 0:e.version),this._schemaUrlFilter=new n.ExactPredicate(null==e?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}},{"./Predicate":203}],203:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExactPredicate=r.PatternPredicate=void 0;const n=/[\^$\\.+?()[\]{}|]/g;class o{constructor(e){"*"===e?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(o.escapePattern(e)))}match(e){return!!this._matchAll||this._regexp.test(e)}static escapePattern(e){return`^${e.replace(n,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}}r.PatternPredicate=o;r.ExactPredicate=class{constructor(e){this._matchAll=void 0===e,this._pattern=e}match(e){return!!this._matchAll||e===this._pattern}}},{}],204:[function(e,t,r){"use strict";function n(e,t){return`\t- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}function o(e,t){return`\t- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}function i(e,t){const r={name:t.name,type:t.type},n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}function a(e,t){const r={name:t.name,type:t.type},n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'\n    \t- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}\n    \t- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Object.defineProperty(r,"__esModule",{value:!0}),r.getConflictResolutionRecipe=r.getDescriptionResolutionRecipe=r.getTypeConflictResolutionRecipe=r.getUnitConflictResolutionRecipe=r.getValueTypeConflictResolutionRecipe=r.getIncompatibilityDetails=void 0,r.getIncompatibilityDetails=function(e,t){let r="";return e.unit!==t.unit&&(r+=`\t- Unit '${e.unit}' does not match '${t.unit}'\n`),e.type!==t.type&&(r+=`\t- Type '${e.type}' does not match '${t.type}'\n`),e.valueType!==t.valueType&&(r+=`\t- Value Type '${e.valueType}' does not match '${t.valueType}'\n`),e.description!==t.description&&(r+=`\t- Description '${e.description}' does not match '${t.description}'\n`),r},r.getValueTypeConflictResolutionRecipe=n,r.getUnitConflictResolutionRecipe=o,r.getTypeConflictResolutionRecipe=i,r.getDescriptionResolutionRecipe=a,r.getConflictResolutionRecipe=function(e,t){return e.valueType!==t.valueType?n(e,t):e.unit!==t.unit?o(e,t):e.type!==t.type?i(e,t):e.description!==t.description?a(e,t):""}},{}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.View=void 0;const n=e("./Predicate"),o=e("./AttributesProcessor"),i=e("./InstrumentSelector"),a=e("./MeterSelector"),s=e("./Aggregation");r.View=class{constructor(e){var t,r;if(null==(r=e).instrumentName&&null==r.instrumentType&&null==r.meterName&&null==r.meterVersion&&null==r.meterSchemaUrl)throw new Error("Cannot create view with no selector arguments supplied");if(null!=e.name&&(null==(null==e?void 0:e.instrumentName)||n.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=e.attributeKeys?this.attributesProcessor=new o.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=o.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=null!==(t=e.aggregation)&&void 0!==t?t:s.Aggregation.Default(),this.instrumentSelector=new i.InstrumentSelector({name:e.instrumentName,type:e.instrumentType}),this.meterSelector=new a.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}}},{"./Aggregation":199,"./AttributesProcessor":200,"./InstrumentSelector":201,"./MeterSelector":202,"./Predicate":203}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ViewRegistry=void 0;r.ViewRegistry=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter((r=>this._matchInstrument(r.instrumentSelector,e)&&this._matchMeter(r.meterSelector,t)))}_matchInstrument(e,t){return(void 0===e.getType()||t.type===e.getType())&&e.getNameFilter().match(t.name)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(void 0===t.version||e.getVersionFilter().match(t.version))&&(void 0===t.schemaUrl||e.getSchemaUrlFilter().match(t.schemaUrl))}}},{}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BasicTracerProvider=r.ForceFlushState=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("@opentelemetry/resources"),a=e("."),s=e("./config"),c=e("./MultiSpanProcessor"),u=e("./export/NoopSpanProcessor"),l=e("./platform"),p=e("./utility");var d;!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(d=r.ForceFlushState||(r.ForceFlushState={}));class _{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;const r=(0,o.merge)({},(0,s.loadDefaultConfig)(),(0,p.reconfigureLimits)(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:i.Resource.empty(),this.resource=i.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});const n=this._buildExporterFromEnv();if(void 0!==n){const e=new l.BatchSpanProcessor(n);this.activeSpanProcessor=e}else this.activeSpanProcessor=new u.NoopSpanProcessor}getTracer(e,t,r){const n=`${e}@${t||""}:${(null==r?void 0:r.schemaUrl)||""}`;return this._tracers.has(n)||this._tracers.set(n,new a.Tracer({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>n.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}forceFlush(){const e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((t=>new Promise((r=>{let n;const o=setTimeout((()=>{r(new Error(`Span processor did not completed within timeout period of ${e} ms`)),n=d.timeout}),e);t.forceFlush().then((()=>{clearTimeout(o),n!==d.timeout&&(n=d.resolved,r(n))})).catch((e=>{clearTimeout(o),n=d.error,r(e)}))}))));return new Promise(((e,r)=>{Promise.all(t).then((t=>{const n=t.filter((e=>e!==d.resolved));n.length>0?r(n):e()})).catch((e=>r([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){const e=Array.from(new Set((0,o.getEnv)().OTEL_PROPAGATORS)),t=e.map((e=>{const t=this._getPropagator(e);return t||n.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);return 0===t.length?void 0:1===e.length?t[0]:new o.CompositePropagator({propagators:t})}_buildExporterFromEnv(){const e=(0,o.getEnv)().OTEL_TRACES_EXPORTER;if("none"===e)return;const t=this._getSpanExporter(e);return t||n.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}}r.BasicTracerProvider=_,_._registeredPropagators=new Map([["tracecontext",()=>new o.W3CTraceContextPropagator],["baggage",()=>new o.W3CBaggagePropagator]]),_._registeredExporters=new Map},{".":224,"./MultiSpanProcessor":209,"./config":215,"./export/NoopSpanProcessor":220,"./platform":227,"./utility":233,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/resources":160}],208:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{dup:79}],209:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultiSpanProcessor=void 0;const n=e("@opentelemetry/core");r.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){const e=[];for(const t of this._spanProcessors)e.push(t.forceFlush());return new Promise((t=>{Promise.all(e).then((()=>{t()})).catch((e=>{(0,n.globalErrorHandler)(e||new Error("MultiSpanProcessor: forceFlush failed")),t()}))}))}onStart(e,t){for(const r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(const t of this._spanProcessors)t.onEnd(e)}shutdown(){const e=[];for(const t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}}},{"@opentelemetry/core":67}],210:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r.SamplingDecision||(r.SamplingDecision={}))},{}],211:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Span=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("@opentelemetry/semantic-conventions"),a=e("./enums");r.Span=class{constructor(e,t,r,i,a,s,c=[],u,l=o.otperformance){this.attributes={},this.links=[],this.events=[],this.status={code:n.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this._clock=l,this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=a,this.links=c,this.startTime=(0,o.timeInputToHrTime)(null!=u?u:l.now()),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(n.diag.warn(`Invalid attribute key: ${e}`),this):(0,o.isAttributeValue)(t)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=this._truncateToSize(t)),this):(n.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(const[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return n.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(n.diag.warn("Dropping extra events."),this.events.shift()),(0,o.isTimeInput)(t)&&(void 0===r&&(r=t),t=void 0),void 0===r&&(r=this._clock.now());const i=(0,o.sanitizeAttributes)(t);return this.events.push({name:e,attributes:i,time:(0,o.timeInputToHrTime)(r)}),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){this._isSpanEnded()?n.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=(0,o.timeInputToHrTime)(null!=e?e:this._clock.now()),this._duration=(0,o.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(n.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,t=this._clock.now()){const r={};"string"==typeof e?r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?r[i.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[i.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[i.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),r[i.SemanticAttributes.EXCEPTION_TYPE]||r[i.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(a.ExceptionEventName,r,t):n.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&n.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){const t=this._attributeValueLengthLimit;return t<=0?(n.diag.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map((e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e)):e}}},{"./enums":216,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/semantic-conventions":240}],212:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],213:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],214:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Tracer=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./Span"),a=e("./utility"),s=e("./platform");r.Tracer=class{constructor(e,t,r){this._tracerProvider=r;const n=(0,a.mergeConfig)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new s.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}startSpan(e,t={},r=n.context.active()){var a,s;t.root&&(r=n.trace.deleteSpan(r));const c=n.trace.getSpan(r);if((0,o.isTracingSuppressed)(r)){n.diag.debug("Instrumentation suppressed, returning Noop Span");return n.trace.wrapSpanContext(n.INVALID_SPAN_CONTEXT)}const u=null==c?void 0:c.spanContext(),l=this._idGenerator.generateSpanId();let p,d,_;u&&n.trace.isSpanContextValid(u)?(p=u.traceId,d=u.traceState,_=u.spanId):p=this._idGenerator.generateTraceId();const m=null!==(a=t.kind)&&void 0!==a?a:n.SpanKind.INTERNAL,h=(null!==(s=t.links)&&void 0!==s?s:[]).map((e=>({context:e.context,attributes:(0,o.sanitizeAttributes)(e.attributes)}))),g=(0,o.sanitizeAttributes)(t.attributes),f=this._sampler.shouldSample(r,p,e,m,g,h),E={traceId:p,spanId:l,traceFlags:f.decision===n.SamplingDecision.RECORD_AND_SAMPLED?n.TraceFlags.SAMPLED:n.TraceFlags.NONE,traceState:d};if(f.decision===n.SamplingDecision.NOT_RECORD){n.diag.debug("Recording is off, propagating context in a non-recording span");return n.trace.wrapSpanContext(E)}const T=new i.Span(this,r,e,E,m,_,h,t.startTime),v=(0,o.sanitizeAttributes)(Object.assign(g,f.attributes));return T.setAttributes(v),T}startActiveSpan(e,t,r,o){let i,a,s;if(arguments.length<2)return;2===arguments.length?s=t:3===arguments.length?(i=t,s=r):(i=t,a=r,s=o);const c=null!=a?a:n.context.active(),u=this.startSpan(e,i,c),l=n.trace.setSpan(c,u);return n.context.with(l,s,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}},{"./Span":211,"./platform":227,"./utility":233,"@opentelemetry/api":21,"@opentelemetry/core":67}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildSamplerFromEnv=r.loadDefaultConfig=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./sampler/AlwaysOffSampler"),a=e("./sampler/AlwaysOnSampler"),s=e("./sampler/ParentBasedSampler"),c=e("./sampler/TraceIdRatioBasedSampler"),u=(0,o.getEnv)(),l=o.TracesSamplerValues.AlwaysOn;function p(e=(0,o.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case o.TracesSamplerValues.AlwaysOn:return new a.AlwaysOnSampler;case o.TracesSamplerValues.AlwaysOff:return new i.AlwaysOffSampler;case o.TracesSamplerValues.ParentBasedAlwaysOn:return new s.ParentBasedSampler({root:new a.AlwaysOnSampler});case o.TracesSamplerValues.ParentBasedAlwaysOff:return new s.ParentBasedSampler({root:new i.AlwaysOffSampler});case o.TracesSamplerValues.TraceIdRatio:return new c.TraceIdRatioBasedSampler(d(e));case o.TracesSamplerValues.ParentBasedTraceIdRatio:return new s.ParentBasedSampler({root:new c.TraceIdRatioBasedSampler(d(e))});default:return n.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${l}".`),new a.AlwaysOnSampler}}function d(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return n.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;const t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(n.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):t<0||t>1?(n.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):t}r.loadDefaultConfig=function(){return{sampler:p(u),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}}},r.buildSamplerFromEnv=p},{"./sampler/AlwaysOffSampler":228,"./sampler/AlwaysOnSampler":229,"./sampler/ParentBasedSampler":230,"./sampler/TraceIdRatioBasedSampler":231,"@opentelemetry/api":21,"@opentelemetry/core":67}],216:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ExceptionEventName=void 0,r.ExceptionEventName="exception"},{}],217:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BatchSpanProcessorBase=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core");r.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[];const r=(0,o.getEnv)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(n.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown()))}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{const r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,t)=>{const r=setTimeout((()=>{t(new Error("Timeout"))}),this._exportTimeoutMillis);n.context.with((0,o.suppressTracing)(n.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(n=>{var i;clearTimeout(r),n.code===o.ExportResultCode.SUCCESS?e():t(null!==(i=n.error)&&void 0!==i?i:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{(0,o.globalErrorHandler)(e)}))}),this._scheduledDelayMillis),(0,o.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}},{"@opentelemetry/api":21,"@opentelemetry/core":67}],218:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConsoleSpanExporter=void 0;const n=e("@opentelemetry/core");r.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,n.hrTimeToMicroseconds)(e.startTime),duration:(0,n.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(const t of e)console.dir(this._exportInfo(t),{depth:3});if(t)return t({code:n.ExportResultCode.SUCCESS})}}},{"@opentelemetry/core":67}],219:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InMemorySpanExporter=void 0;const n=e("@opentelemetry/core");r.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>t({code:n.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}},{"@opentelemetry/core":67}],220:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoopSpanProcessor=void 0;r.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}},{}],221:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],222:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleSpanProcessor=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core");r.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)&&o.internal._export(this._exporter,[e]).then((e=>{var t;e.code!==o.ExportResultCode.SUCCESS&&(0,o.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))})).catch((e=>{(0,o.globalErrorHandler)(e)}))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}},{"@opentelemetry/api":21,"@opentelemetry/core":67}],223:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],224:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./Tracer"),r),o(e("./BasicTracerProvider"),r),o(e("./platform"),r),o(e("./export/ConsoleSpanExporter"),r),o(e("./export/InMemorySpanExporter"),r),o(e("./export/ReadableSpan"),r),o(e("./export/SimpleSpanProcessor"),r),o(e("./export/SpanExporter"),r),o(e("./export/NoopSpanProcessor"),r),o(e("./sampler/AlwaysOffSampler"),r),o(e("./sampler/AlwaysOnSampler"),r),o(e("./sampler/ParentBasedSampler"),r),o(e("./sampler/TraceIdRatioBasedSampler"),r),o(e("./Sampler"),r),o(e("./Span"),r),o(e("./SpanProcessor"),r),o(e("./TimedEvent"),r),o(e("./types"),r),o(e("./IdGenerator"),r)},{"./BasicTracerProvider":207,"./IdGenerator":208,"./Sampler":210,"./Span":211,"./SpanProcessor":212,"./TimedEvent":213,"./Tracer":214,"./export/ConsoleSpanExporter":218,"./export/InMemorySpanExporter":219,"./export/NoopSpanProcessor":220,"./export/ReadableSpan":221,"./export/SimpleSpanProcessor":222,"./export/SpanExporter":223,"./platform":227,"./sampler/AlwaysOffSampler":228,"./sampler/AlwaysOnSampler":229,"./sampler/ParentBasedSampler":230,"./sampler/TraceIdRatioBasedSampler":231,"./types":232}],225:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RandomIdGenerator=void 0;r.RandomIdGenerator=class{constructor(){this.generateTraceId=o(16),this.generateSpanId=o(8)}};const n=Array(32);function o(e){return function(){for(let t=0;t<2*e;t++)n[t]=Math.floor(16*Math.random())+48,n[t]>=58&&(n[t]+=39);return String.fromCharCode.apply(null,n.slice(0,2*e))}}},{}],226:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BatchSpanProcessor=void 0;const n=e("../../../export/BatchSpanProcessorBase");class o extends n.BatchSpanProcessorBase{constructor(e,t){super(e,t),this.onInit(t)}onInit(e){!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush()},this._pageHideListener=()=>{this.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}r.BatchSpanProcessor=o},{"../../../export/BatchSpanProcessorBase":217}],227:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./export/BatchSpanProcessor"),r),o(e("./RandomIdGenerator"),r)},{"./RandomIdGenerator":225,"./export/BatchSpanProcessor":226}],228:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AlwaysOffSampler=void 0;const n=e("../Sampler");r.AlwaysOffSampler=class{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}},{"../Sampler":210}],229:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AlwaysOnSampler=void 0;const n=e("../Sampler");r.AlwaysOnSampler=class{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}},{"../Sampler":210}],230:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ParentBasedSampler=void 0;const n=e("@opentelemetry/api"),o=e("@opentelemetry/core"),i=e("./AlwaysOffSampler"),a=e("./AlwaysOnSampler");r.ParentBasedSampler=class{constructor(e){var t,r,n,s;this._root=e.root,this._root||((0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new a.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new a.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new i.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new a.AlwaysOnSampler,this._localParentNotSampled=null!==(s=e.localParentNotSampled)&&void 0!==s?s:new i.AlwaysOffSampler}shouldSample(e,t,r,o,i,a){const s=n.trace.getSpanContext(e);return s&&(0,n.isSpanContextValid)(s)?s.isRemote?s.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,o,i,a):this._remoteParentNotSampled.shouldSample(e,t,r,o,i,a):s.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,o,i,a):this._localParentNotSampled.shouldSample(e,t,r,o,i,a):this._root.shouldSample(e,t,r,o,i,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}},{"./AlwaysOffSampler":228,"./AlwaysOnSampler":229,"@opentelemetry/api":21,"@opentelemetry/core":67}],231:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceIdRatioBasedSampler=void 0;const n=e("@opentelemetry/api"),o=e("../Sampler");r.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?o.SamplingDecision.RECORD_AND_SAMPLED:o.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}}},{"../Sampler":210,"@opentelemetry/api":21}],232:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{dup:54}],233:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reconfigureLimits=r.mergeConfig=void 0;const n=e("./config"),o=e("@opentelemetry/core");r.mergeConfig=function(e){const t={sampler:(0,n.buildSamplerFromEnv)()},r=(0,n.loadDefaultConfig)(),o=Object.assign({},r,t,e);return o.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),o},r.reconfigureLimits=function(e){var t,r,n,i,a,s,c,u,l,p,d,_;const m=Object.assign({},e.spanLimits),h=(0,o.getEnvWithoutDefaults)();return m.attributeCountLimit=null!==(s=null!==(a=null!==(i=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==i?i:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:h.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:o.DEFAULT_ATTRIBUTE_COUNT_LIMIT,m.attributeValueLengthLimit=null!==(_=null!==(d=null!==(p=null!==(u=null===(c=e.spanLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==u?u:null===(l=e.generalLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==p?p:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==_?_:o.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:m})}},{"./config":215,"@opentelemetry/core":67}],234:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StackContextManager=void 0;const n=e("@opentelemetry/api");r.StackContextManager=class{constructor(){this._enabled=!1,this._currentContext=n.ROOT_CONTEXT}_bindFunction(e=n.ROOT_CONTEXT,t){const r=this,o=function(...n){return r.with(e,(()=>t.apply(this,n)))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),o}active(){return this._currentContext}bind(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t}disable(){return this._currentContext=n.ROOT_CONTEXT,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=n.ROOT_CONTEXT),this}with(e,t,r,...o){const i=this._currentContext;this._currentContext=e||n.ROOT_CONTEXT;try{return t.call(r,...o)}finally{this._currentContext=i}}}},{"@opentelemetry/api":21}],235:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WebTracerProvider=void 0;const n=e("@opentelemetry/sdk-trace-base"),o=e("./StackContextManager");class i extends n.BasicTracerProvider{constructor(e={}){if(super(e),e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor"}register(e={}){void 0===e.contextManager&&(e.contextManager=new o.StackContextManager),e.contextManager&&e.contextManager.enable(),super.register(e)}}r.WebTracerProvider=i},{"./StackContextManager":234,"@opentelemetry/sdk-trace-base":224}],236:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PerformanceTimingNames=void 0,function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(r.PerformanceTimingNames||(r.PerformanceTimingNames={}))},{}],237:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./WebTracerProvider"),r),o(e("./StackContextManager"),r),o(e("./enums/PerformanceTimingNames"),r),o(e("./types"),r),o(e("./utils"),r),o(e("@opentelemetry/sdk-trace-base"),r)},{"./StackContextManager":234,"./WebTracerProvider":235,"./enums/PerformanceTimingNames":236,"./types":238,"./utils":239,"@opentelemetry/sdk-trace-base":224}],238:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e("./enums/PerformanceTimingNames")},{"./enums/PerformanceTimingNames":236}],239:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shouldPropagateTraceHeaders=r.getElementXPath=r.normalizeUrl=r.parseUrl=r.getResource=r.sortResources=r.addSpanNetworkEvents=r.addSpanNetworkEvent=r.hasKey=void 0;const n=e("./enums/PerformanceTimingNames"),o=e("@opentelemetry/core"),i=e("@opentelemetry/semantic-conventions");let a;function s(e,t){return t in e}function c(e,t,r){if(s(r,t)&&"number"==typeof r[t])return e.addEvent(t,r[t]),e}function u(e){return e.slice().sort(((e,t)=>{const r=e[n.PerformanceTimingNames.FETCH_START],o=t[n.PerformanceTimingNames.FETCH_START];return r>o?1:r<o?-1:0}))}function l(e){if("function"==typeof URL)return new URL(e,location.href);const t=(a||(a=document.createElement("a")),a);return t.href=e,t}r.hasKey=s,r.addSpanNetworkEvent=c,r.addSpanNetworkEvents=function(e,t){c(e,n.PerformanceTimingNames.FETCH_START,t),c(e,n.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),c(e,n.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),c(e,n.PerformanceTimingNames.CONNECT_START,t),c(e,n.PerformanceTimingNames.SECURE_CONNECTION_START,t),c(e,n.PerformanceTimingNames.CONNECT_END,t),c(e,n.PerformanceTimingNames.REQUEST_START,t),c(e,n.PerformanceTimingNames.RESPONSE_START,t),c(e,n.PerformanceTimingNames.RESPONSE_END,t);const r=t[n.PerformanceTimingNames.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH,r);const o=t[n.PerformanceTimingNames.DECODED_BODY_SIZE];void 0!==o&&r!==o&&e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,o)},r.sortResources=u,r.getResource=function(e,t,r,i,a=new WeakSet,s){const c=l(e),p=function(e,t,r,i,a,s){const c=(0,o.hrTimeToNanoseconds)(t),u=(0,o.hrTimeToNanoseconds)(r);let l=i.filter((t=>{const r=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t[n.PerformanceTimingNames.FETCH_START])),i=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t[n.PerformanceTimingNames.RESPONSE_END]));return t.initiatorType.toLowerCase()===(s||"xmlhttprequest")&&t.name===e&&r>=c&&i<=u}));l.length>0&&(l=l.filter((e=>!a.has(e))));return l}(e=c.toString(),t,r,i,a,s);if(0===p.length)return{mainRequest:void 0};if(1===p.length)return{mainRequest:p[0]};const d=u(p);if(c.origin!==location.origin&&d.length>1){let e=d[0],t=function(e,t,r){const i=(0,o.hrTimeToNanoseconds)(r),a=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t));let s,c=e[1];const u=e.length;for(let t=1;t<u;t++){const r=e[t],u=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(r[n.PerformanceTimingNames.FETCH_START])),l=i-(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(r[n.PerformanceTimingNames.RESPONSE_END]));u>=a&&(!s||l<s)&&(s=l,c=r)}return c}(d,e[n.PerformanceTimingNames.RESPONSE_END],r);const i=e[n.PerformanceTimingNames.RESPONSE_END];return t[n.PerformanceTimingNames.FETCH_START]<i&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}return{mainRequest:p[0]}},r.parseUrl=l,r.normalizeUrl=function(e){return l(e).href},r.getElementXPath=function e(t,r){if(t.nodeType===Node.DOCUMENT_NODE)return"/";const n=function(e,t){const r=e.nodeType,n=function(e){if(!e.parentNode)return 0;const t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);let r=Array.from(e.parentNode.childNodes);if(r=r.filter((r=>{const n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName})),r.length>=1)return r.indexOf(e)+1;return 0}(e);let o="";if(r===Node.ELEMENT_NODE){const r=e.getAttribute("id");if(t&&r)return`//*[@id="${r}"]`;o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return`/${o}[${n}]`;return`/${o}`}(t,r);if(r&&n.indexOf("@id")>0)return n;let o="";return t.parentNode&&(o+=e(t.parentNode,!1)),o+=n,o},r.shouldPropagateTraceHeaders=function(e,t){let r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),l(e).origin===location.origin||r.some((t=>(0,o.urlMatches)(e,t)))}},{"./enums/PerformanceTimingNames":236,"@opentelemetry/core":67,"@opentelemetry/semantic-conventions":240}],240:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./trace"),r),o(e("./resource"),r)},{"./resource":242,"./trace":244}],241:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TelemetrySdkLanguageValues=r.OsTypeValues=r.HostArchValues=r.AwsEcsLaunchtypeValues=r.CloudPlatformValues=r.CloudProviderValues=r.SemanticResourceAttributes=void 0,r.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},r.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},r.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},r.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},r.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},r.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},r.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}},{}],242:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./SemanticResourceAttributes"),r)},{"./SemanticResourceAttributes":241}],243:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MessageTypeValues=r.RpcGrpcStatusCodeValues=r.MessagingOperationValues=r.MessagingDestinationKindValues=r.HttpFlavorValues=r.NetHostConnectionSubtypeValues=r.NetHostConnectionTypeValues=r.NetTransportValues=r.FaasInvokedProviderValues=r.FaasDocumentOperationValues=r.FaasTriggerValues=r.DbCassandraConsistencyLevelValues=r.DbSystemValues=r.SemanticAttributes=void 0,r.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},r.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},r.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},r.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},r.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},r.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},r.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},r.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},r.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},r.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},r.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},r.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},r.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},r.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}},{}],244:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./SemanticAttributes"),r)},{"./SemanticAttributes":243}],245:[function(e,t,r){"use strict";function n(e){return"function"==typeof e}var o=console.error.bind(console);function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e){e&&e.logger&&(n(e.logger)?o=e.logger:o("new logger isn't a function, not replacing"))}function s(e,t,r){if(e&&e[t]){if(!r)return o("no wrapper function"),void o((new Error).stack);if(n(e[t])&&n(r)){var a=e[t],s=r(a,t);return i(s,"__original",a),i(s,"__unwrap",(function(){e[t]===s&&i(e,t,a)})),i(s,"__wrapped",!0),i(e,t,s),s}o("original object and wrapper must be functions")}else o("no original function "+t+" to wrap")}function c(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void o("no original to unwrap to -- has "+t+" already been unwrapped?"):(o("no function to unwrap."),void o((new Error).stack))}a.wrap=s,a.massWrap=function(e,t,r){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):o("must provide one or more functions to wrap on modules")},a.unwrap=c,a.massUnwrap=function(e,t){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){c(e,t)}))})):o("must provide one or more functions to unwrap on modules")},t.exports=a},{}],246:[function(e,t,r){(function(e){(function(){"use strict";
/**
 * @license Angular v12.0.0-next.0
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */var t;t=function(){!function(e){var t=e.performance;function r(e){t&&t.mark&&t.mark(e)}function n(e,r){t&&t.measure&&t.measure(e,r)}r("Zone");var o=e.__Zone_symbol_prefix||"__zone_symbol__";function i(e){return o+e}var a=!0===e[i("forceDuplicateZoneCheck")];if(e.Zone){if(a||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}var s=function(){function t(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,t)}return t.assertZonePatched=function(){if(e.Promise!==M.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(t,"root",{get:function(){for(var e=t.current;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return C.zone},enumerable:!1,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return w},enumerable:!1,configurable:!0}),t.__load_patch=function(o,i,s){if(void 0===s&&(s=!1),M.hasOwnProperty(o)){if(!s&&a)throw Error("Already loaded patch: "+o)}else if(!e["__Zone_disable_"+o]){var c="Zone:"+o;r(c),M[o]=i(e,t,I),n(c,c)}},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},t.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},t.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},t.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var r=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(r,this,arguments,t)}},t.prototype.run=function(e,t,r,n){C={parent:C,zone:this};try{return this._zoneDelegate.invoke(this,e,t,r,n)}finally{C=C.parent}},t.prototype.runGuarded=function(e,t,r,n){void 0===t&&(t=null),C={parent:C,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,r,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{C=C.parent}},t.prototype.runTask=function(e,t,r){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||T).name+"; Execution: "+this.name+")");if(e.state!==v||e.type!==N&&e.type!==R){var n=e.state!=b;n&&e._transitionTo(b,y),e.runCount++;var o=w;w=e,C={parent:C,zone:this};try{e.type==R&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==v&&e.state!==A&&(e.type==N||e.data&&e.data.isPeriodic?n&&e._transitionTo(y,b):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(v,b,v))),C=C.parent,w=o}}},t.prototype.scheduleTask=function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+e.zone.name);t=t.parent}e._transitionTo(S,v);var r=[];e._zoneDelegates=r,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(A,S,v),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===r&&this._updateTaskCount(e,1),e.state==S&&e._transitionTo(y,S),e},t.prototype.scheduleMicroTask=function(e,t,r,n){return this.scheduleTask(new p(P,e,t,r,n,void 0))},t.prototype.scheduleMacroTask=function(e,t,r,n,o){return this.scheduleTask(new p(R,e,t,r,n,o))},t.prototype.scheduleEventTask=function(e,t,r,n,o){return this.scheduleTask(new p(N,e,t,r,n,o))},t.prototype.cancelTask=function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||T).name+"; Execution: "+this.name+")");e._transitionTo(O,y,b);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(A,O),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(v,O),e.runCount=0,e},t.prototype._updateTaskCount=function(e,t){var r=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var n=0;n<r.length;n++)r[n]._updateTaskCount(e.type,t)},t}();s.__symbol__=i;var c,u={name:"",onHasTask:function(e,t,r,n){return e.hasTask(r,n)},onScheduleTask:function(e,t,r,n){return e.scheduleTask(r,n)},onInvokeTask:function(e,t,r,n,o,i){return e.invokeTask(r,n,o,i)},onCancelTask:function(e,t,r,n){return e.cancelTask(r,n)}},l=function(){function e(e,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var n=r&&r.onHasTask,o=t&&t._hasTaskZS;(n||o)&&(this._hasTaskZS=n?r:u,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,r.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new s(e,t)},e.prototype.intercept=function(e,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,r):t},e.prototype.invoke=function(e,t,r,n,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,r,n,o):t.apply(r,n)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)},e.prototype.scheduleTask=function(e,t){var r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),(r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=P)throw new Error("Task is missing scheduleFn.");f(t)}return r},e.prototype.invokeTask=function(e,t,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,r,n):t.callback.apply(r,n)},e.prototype.cancelTask=function(e,t){var r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r},e.prototype.hasTask=function(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}},e.prototype._updateTaskCount=function(e,t){var r=this._taskCounts,n=r[e],o=r[e]=n+t;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==o){var i={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:e};this.hasTask(this.zone,i)}},e}(),p=function(){function t(r,n,o,i,a,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=r,this.source=n,this.data=i,this.scheduleFn=a,this.cancelFn=s,!o)throw new Error("callback is not defined");this.callback=o;var c=this;r===N&&i&&i.useG?this.invoke=t.invokeTask:this.invoke=function(){return t.invokeTask.call(e,c,this,arguments)}}return t.invokeTask=function(e,t,r){e||(e=this),D++;try{return e.runCount++,e.zone.runTask(e,t,r)}finally{1==D&&E(),D--}},Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.cancelScheduleRequest=function(){this._transitionTo(v,S)},t.prototype._transitionTo=function(e,t,r){if(this._state!==t&&this._state!==r)throw new Error(this.type+" '"+this.source+"': can not transition to '"+e+"', expecting state '"+t+"'"+(r?" or '"+r+"'":"")+", was '"+this._state+"'.");this._state=e,e==v&&(this._zoneDelegates=null)},t.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},t.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},t}(),d=i("setTimeout"),_=i("Promise"),m=i("then"),h=[],g=!1;function f(t){if(0===D&&0===h.length)if(c||e[_]&&(c=e[_].resolve(0)),c){var r=c[m];r||(r=c.then),r.call(c,E)}else e[d](E,0);t&&h.push(t)}function E(){if(!g){for(g=!0;h.length;){var e=h;h=[];for(var t=0;t<e.length;t++){var r=e[t];try{r.zone.runTask(r,null,null)}catch(e){I.onUnhandledError(e)}}}I.microtaskDrainDone(),g=!1}}var T={name:"NO ZONE"},v="notScheduled",S="scheduling",y="scheduled",b="running",O="canceling",A="unknown",P="microTask",R="macroTask",N="eventTask",M={},I={symbol:i,currentZoneFrame:function(){return C},onUnhandledError:L,microtaskDrainDone:L,scheduleMicroTask:f,showUncaughtError:function(){return!s[i("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:L,patchMethod:function(){return L},bindArguments:function(){return[]},patchThen:function(){return L},patchMacroTask:function(){return L},patchEventPrototype:function(){return L},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return L},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return L},wrapWithCurrentZone:function(){return L},filterProperties:function(){return[]},attachOriginToPatched:function(){return L},_redefineProperty:function(){return L},patchCallbacks:function(){return L}},C={parent:null,zone:new s(null,null)},w=null,D=0;function L(){}n("Zone","Zone"),e.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||e);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var t=Object.getOwnPropertyDescriptor,r=Object.defineProperty,n=Object.getPrototypeOf,o=Object.create,i=Array.prototype.slice,a="addEventListener",s="removeEventListener",c=Zone.__symbol__(a),u=Zone.__symbol__(s),l="true",p="false",d=Zone.__symbol__("");
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function _(e,t){return Zone.current.wrap(e,t)}function m(e,t,r,n,o){return Zone.current.scheduleMacroTask(e,t,r,n,o)}var h=Zone.__symbol__,g="undefined"!=typeof window,f=g?window:void 0,E=g&&f||"object"==typeof self&&self||e,T=[null];function v(e,t){for(var r=e.length-1;r>=0;r--)"function"==typeof e[r]&&(e[r]=_(e[r],t+"_"+r));return e}function S(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,b=!("nw"in E)&&void 0!==E.process&&"[object process]"==={}.toString.call(E.process),O=!b&&!y&&!(!g||!f.HTMLElement),A=void 0!==E.process&&"[object process]"==={}.toString.call(E.process)&&!y&&!(!g||!f.HTMLElement),P={},R=function(e){if(e=e||E.event){var t=P[e.type];t||(t=P[e.type]=h("ON_PROPERTY"+e.type));var r,n=this||e.target||E,o=n[t];if(O&&n===f&&"error"===e.type){var i=e;!0===(r=o&&o.call(this,i.message,i.filename,i.lineno,i.colno,i.error))&&e.preventDefault()}else null==(r=o&&o.apply(this,arguments))||r||e.preventDefault();return r}};function N(e,n,o){var i=t(e,n);if(!i&&o&&t(o,n)&&(i={enumerable:!0,configurable:!0}),i&&i.configurable){var a=h("on"+n+"patched");if(!e.hasOwnProperty(a)||!e[a]){delete i.writable,delete i.value;var s=i.get,c=i.set,u=n.substr(2),l=P[u];l||(l=P[u]=h("ON_PROPERTY"+u)),i.set=function(t){var r=this;r||e!==E||(r=E),r&&(r[l]&&r.removeEventListener(u,R),c&&c.apply(r,T),"function"==typeof t?(r[l]=t,r.addEventListener(u,R,!1)):r[l]=null)},i.get=function(){var t=this;if(t||e!==E||(t=E),!t)return null;var r=t[l];if(r)return r;if(s){var o=s&&s.call(this);if(o)return i.set.call(this,o),"function"==typeof t.removeAttribute&&t.removeAttribute(n),o}return null},r(e,n,i),e[a]=!0}}}function M(e,t,r){if(t)for(var n=0;n<t.length;n++)N(e,"on"+t[n],r);else{var o=[];for(var i in e)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)N(e,o[a],r)}}var I=h("originalInstance");function C(e){var t=E[e];if(t){E[h(e)]=t,E[e]=function(){var r=v(arguments,e);switch(r.length){case 0:this[I]=new t;break;case 1:this[I]=new t(r[0]);break;case 2:this[I]=new t(r[0],r[1]);break;case 3:this[I]=new t(r[0],r[1],r[2]);break;case 4:this[I]=new t(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},L(E[e],t);var n,o=new t((function(){}));for(n in o)"XMLHttpRequest"===e&&"responseBlob"===n||function(t){"function"==typeof o[t]?E[e].prototype[t]=function(){return this[I][t].apply(this[I],arguments)}:r(E[e].prototype,t,{set:function(r){"function"==typeof r?(this[I][t]=_(r,e+"."+t),L(this[I][t],r)):this[I][t]=r},get:function(){return this[I][t]}})}(n);for(n in t)"prototype"!==n&&t.hasOwnProperty(n)&&(E[e][n]=t[n])}}function w(e,r,o){for(var i=e;i&&!i.hasOwnProperty(r);)i=n(i);!i&&e[r]&&(i=e);var a=h(r),s=null;if(i&&(!(s=i[a])||!i.hasOwnProperty(a))&&(s=i[a]=i[r],S(i&&t(i,r)))){var c=o(s,a,r);i[r]=function(){return c(this,arguments)},L(i[r],s)}return s}function D(e,t,r){var n=null;function o(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=w(e,t,(function(e){return function(t,n){var i=r(t,n);return i.cbIdx>=0&&"function"==typeof n[i.cbIdx]?m(i.name,n[i.cbIdx],i,o):e.apply(t,n)}}))}function L(e,t){e[h("OriginalDelegate")]=t}var x=!1,k=!1;function j(){if(x)return k;x=!0;try{var e=f.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(k=!0)}catch(e){}return k}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */Zone.__load_patch("ZoneAwarePromise",(function(e,t,r){var n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=r.symbol,a=[],s=!0===e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),u=i("then");r.onUnhandledError=function(e){if(r.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},r.microtaskDrainDone=function(){for(var e=function(){var e=a.shift();try{e.zone.runGuarded((function(){if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){!function(e){r.onUnhandledError(e);try{var n=t[l];"function"==typeof n&&n.call(this,e)}catch(e){}}(e)}};a.length;)e()};var l=i("unhandledPromiseRejectionHandler");function p(e){return e&&e.then}function d(e){return e}function _(e){return M.reject(e)}var m=i("state"),h=i("value"),g=i("finally"),f=i("parentPromiseValue"),E=i("parentPromiseState"),T=null,v=!0,S=!1;function y(e,t){return function(r){try{O(e,t,r)}catch(t){O(e,!1,t)}}}var b=i("currentTaskTrace");function O(e,n,i){var c,u,l=(c=!1,function(e){return function(){c||(c=!0,e.apply(null,arguments))}});if(e===i)throw new TypeError("Promise resolved with itself");if(e[m]===T){var p=null;try{"object"!=typeof i&&"function"!=typeof i||(p=i&&i.then)}catch(t){return l((function(){O(e,!1,t)}))(),e}if(n!==S&&i instanceof M&&i.hasOwnProperty(m)&&i.hasOwnProperty(h)&&i[m]!==T)P(i),O(e,i[m],i[h]);else if(n!==S&&"function"==typeof p)try{p.call(i,l(y(e,n)),l(y(e,!1)))}catch(t){l((function(){O(e,!1,t)}))()}else{e[m]=n;var d=e[h];if(e[h]=i,e[g]===g&&n===v&&(e[m]=e[E],e[h]=e[f]),n===S&&i instanceof Error){var _=t.currentTask&&t.currentTask.data&&t.currentTask.data.__creationTrace__;_&&o(i,b,{configurable:!0,enumerable:!1,writable:!0,value:_})}for(var A=0;A<d.length;)R(e,d[A++],d[A++],d[A++],d[A++]);if(0==d.length&&n==S){e[m]=0;var N=i;try{throw new Error("Uncaught (in promise): "+((u=i)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(i&&i.stack?"\n"+i.stack:""))}catch(e){N=e}s&&(N.throwOriginal=!0),N.rejection=i,N.promise=e,N.zone=t.current,N.task=t.currentTask,a.push(N),r.scheduleMicroTask()}}}return e}var A=i("rejectionHandledHandler");function P(e){if(0===e[m]){try{var r=t[A];r&&"function"==typeof r&&r.call(this,{rejection:e[h],promise:e})}catch(e){}e[m]=S;for(var n=0;n<a.length;n++)e===a[n].promise&&a.splice(n,1)}}function R(e,t,r,n,o){P(e);var i=e[m],a=i?"function"==typeof n?n:d:"function"==typeof o?o:_;t.scheduleMicroTask("Promise.then",(function(){try{var n=e[h],o=!!r&&g===r[g];o&&(r[f]=n,r[E]=i);var s=t.run(a,void 0,o&&a!==_&&a!==d?[]:[n]);O(r,!0,s)}catch(e){O(r,!1,e)}}),r)}var N=function(){},M=function(){function e(t){var r=this;if(!(r instanceof e))throw new Error("Must be an instanceof Promise.");r[m]=T,r[h]=[];try{t&&t(y(r,v),y(r,S))}catch(e){O(r,!1,e)}}return e.toString=function(){return"function ZoneAwarePromise() { [native code] }"},e.resolve=function(e){return O(new this(null),v,e)},e.reject=function(e){return O(new this(null),S,e)},e.race=function(e){var t,r,n=new this((function(e,n){t=e,r=n}));function o(e){t(e)}function i(e){r(e)}for(var a=0,s=e;a<s.length;a++){var c=s[a];p(c)||(c=this.resolve(c)),c.then(o,i)}return n},e.all=function(t){return e.allWithCallback(t)},e.allSettled=function(t){return(this&&this.prototype instanceof e?this:e).allWithCallback(t,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})},e.allWithCallback=function(e,t){for(var r,n,o=new this((function(e,t){r=e,n=t})),i=2,a=0,s=[],c=function(e){p(e)||(e=u.resolve(e));var o=a;try{e.then((function(e){s[o]=t?t.thenCallback(e):e,0==--i&&r(s)}),(function(e){t?(s[o]=t.errorCallback(e),0==--i&&r(s)):n(e)}))}catch(e){n(e)}i++,a++},u=this,l=0,d=e;l<d.length;l++)c(d[l]);return 0==(i-=2)&&r(s),o},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Promise"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.then=function(r,n){var o=this.constructor[Symbol.species];o&&"function"==typeof o||(o=this.constructor||e);var i=new o(N),a=t.current;return this[m]==T?this[h].push(a,i,r,n):R(this,a,i,r,n),i},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(r){var n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=e);var o=new n(N);o[g]=g;var i=t.current;return this[m]==T?this[h].push(i,o,r,r):R(this,i,o,r,r),o},e}();M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;var I=e[c]=e.Promise;e.Promise=M;var C=i("thenPatched");function D(e){var t=e.prototype,r=n(t,"then");if(!r||!1!==r.writable&&r.configurable){var o=t.then;t[u]=o,e.prototype.then=function(e,t){var r=this;return new M((function(e,t){o.call(r,e,t)})).then(e,t)},e[C]=!0}}return r.patchThen=D,I&&(D(I),w(e,"fetch",(function(e){return t=e,function(e,r){var n=t.apply(e,r);if(n instanceof M)return n;var o=n.constructor;return o[C]||D(o),n};var t}))),Promise[t.__symbol__("uncaughtPromiseErrors")]=a,M})),
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
Zone.__load_patch("toString",(function(e){var t=Function.prototype.toString,r=h("OriginalDelegate"),n=h("Promise"),o=h("Error"),i=function(){if("function"==typeof this){var i=this[r];if(i)return"function"==typeof i?t.call(i):Object.prototype.toString.call(i);if(this===Promise){var a=e[n];if(a)return t.call(a)}if(this===Error){var s=e[o];if(s)return t.call(s)}}return t.call(this)};i[r]=t,Function.prototype.toString=i;var a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}));
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var U=!1;if("undefined"!=typeof window)try{var B=Object.defineProperty({},"passive",{get:function(){U=!0}});window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch(e){U=!1}var G={useG:!0},V={},H={},F=new RegExp("^"+d+"(\\w+)(true|false)$"),X=h("propagationStopped");function W(e,t){var r=(t?t(e):e)+p,n=(t?t(e):e)+l,o=d+r,i=d+n;V[e]={},V[e][p]=o,V[e][l]=i}function Z(e,t,r){var o=r&&r.add||a,i=r&&r.rm||s,c=r&&r.listeners||"eventListeners",u=r&&r.rmAll||"removeAllListeners",_=h(o),m="."+o+":",g="prependListener",f="."+g+":",E=function(e,t,r){if(!e.isRemoved){var n=e.callback;"object"==typeof n&&n.handleEvent&&(e.callback=function(e){return n.handleEvent(e)},e.originalDelegate=n),e.invoke(e,t,[r]);var o=e.options;if(o&&"object"==typeof o&&o.once){var a=e.originalDelegate?e.originalDelegate:e.callback;t[i].call(t,r.type,a,o)}}},T=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[V[t.type][p]];if(n)if(1===n.length)E(n[0],r,t);else for(var o=n.slice(),i=0;i<o.length&&(!t||!0!==t[X]);i++)E(o[i],r,t)}},v=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[V[t.type][l]];if(n)if(1===n.length)E(n[0],r,t);else for(var o=n.slice(),i=0;i<o.length&&(!t||!0!==t[X]);i++)E(o[i],r,t)}};function S(t,r){if(!t)return!1;var a=!0;r&&void 0!==r.useG&&(a=r.useG);var s=r&&r.vh,E=!0;r&&void 0!==r.chkDup&&(E=r.chkDup);var S=!1;r&&void 0!==r.rt&&(S=r.rt);for(var y=t;y&&!y.hasOwnProperty(o);)y=n(y);if(!y&&t[o]&&(y=t),!y)return!1;if(y[_])return!1;var O,A=r&&r.eventNameToString,P={},R=y[_]=y[o],N=y[h(i)]=y[i],M=y[h(c)]=y[c],I=y[h(u)]=y[u];function C(e,t){return!U&&"object"==typeof e&&e?!!e.capture:U&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}r&&r.prepend&&(O=y[h(r.prepend)]=y[r.prepend]);var w=a?function(e){if(!P.isExisting)return R.call(P.target,P.eventName,P.capture?v:T,P.options)}:function(e){return R.call(P.target,P.eventName,e.invoke,P.options)},D=a?function(e){if(!e.isRemoved){var t=V[e.eventName],r=void 0;t&&(r=t[e.capture?l:p]);var n=r&&e.target[r];if(n)for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[r]=null);break}}if(e.allRemoved)return N.call(e.target,e.eventName,e.capture?v:T,e.options)}:function(e){return N.call(e.target,e.eventName,e.invoke,e.options)},x=r&&r.diff?r.diff:function(e,t){var r=typeof t;return"function"===r&&e.callback===t||"object"===r&&e.originalDelegate===t},k=Zone[h("UNPATCHED_EVENTS")],j=e[h("PASSIVE_EVENTS")],B=function(t,n,o,i,c,u){return void 0===c&&(c=!1),void 0===u&&(u=!1),function(){var d=this||e,_=arguments[0];r&&r.transferEventName&&(_=r.transferEventName(_));var m=arguments[1];if(!m)return t.apply(this,arguments);if(b&&"uncaughtException"===_)return t.apply(this,arguments);var h=!1;if("function"!=typeof m){if(!m.handleEvent)return t.apply(this,arguments);h=!0}if(!s||s(t,m,d,arguments)){var g=U&&!!j&&-1!==j.indexOf(_),f=C(arguments[2],g);if(k)for(var T=0;T<k.length;T++)if(_===k[T])return g?t.call(d,_,m,f):t.apply(this,arguments);var v=!!f&&("boolean"==typeof f||f.capture),S=!(!f||"object"!=typeof f)&&f.once,y=Zone.current,O=V[_];O||(W(_,A),O=V[_]);var R,N=O[v?l:p],M=d[N],I=!1;if(M){if(I=!0,E)for(T=0;T<M.length;T++)if(x(M[T],m))return}else M=d[N]=[];var w=d.constructor.name,D=H[w];D&&(R=D[_]),R||(R=w+n+(A?A(_):_)),P.options=f,S&&(P.options.once=!1),P.target=d,P.capture=v,P.eventName=_,P.isExisting=I;var L=a?G:void 0;L&&(L.taskData=P);var B=y.scheduleEventTask(R,m,L,o,i);return P.target=null,L&&(L.taskData=null),S&&(f.once=!0),(U||"boolean"!=typeof B.options)&&(B.options=f),B.target=d,B.capture=v,B.eventName=_,h&&(B.originalDelegate=m),u?M.unshift(B):M.push(B),c?d:void 0}}};return y[o]=B(R,m,w,D,S),O&&(y[g]=B(O,f,(function(e){return O.call(P.target,P.eventName,e.invoke,P.options)}),D,S,!0)),y[i]=function(){var t=this||e,n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));var o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),a=arguments[1];if(!a)return N.apply(this,arguments);if(!s||s(N,a,t,arguments)){var c,u=V[n];u&&(c=u[i?l:p]);var _=c&&t[c];if(_)for(var m=0;m<_.length;m++){var h=_[m];if(x(h,a)){if(_.splice(m,1),h.isRemoved=!0,0===_.length&&(h.allRemoved=!0,t[c]=null,"string"==typeof n)){var g=d+"ON_PROPERTY"+n;t[g]=null}return h.zone.cancelTask(h),S?t:void 0}}return N.apply(this,arguments)}},y[c]=function(){var t=this||e,n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));for(var o=[],i=z(t,A?A(n):n),a=0;a<i.length;a++){var s=i[a],c=s.originalDelegate?s.originalDelegate:s.callback;o.push(c)}return o},y[u]=function(){var t=this||e,n=arguments[0];if(n){r&&r.transferEventName&&(n=r.transferEventName(n));var o=V[n];if(o){var a=o[p],s=o[l],c=t[a],d=t[s];if(c){var _=c.slice();for(f=0;f<_.length;f++){var m=(h=_[f]).originalDelegate?h.originalDelegate:h.callback;this[i].call(this,n,m,h.options)}}if(d)for(_=d.slice(),f=0;f<_.length;f++){var h;m=(h=_[f]).originalDelegate?h.originalDelegate:h.callback,this[i].call(this,n,m,h.options)}}}else{for(var g=Object.keys(t),f=0;f<g.length;f++){var E=g[f],T=F.exec(E),v=T&&T[1];v&&"removeListener"!==v&&this[u].call(this,v)}this[u].call(this,"removeListener")}if(S)return this},L(y[o],R),L(y[i],N),I&&L(y[u],I),M&&L(y[c],M),!0}for(var y=[],O=0;O<t.length;O++)y[O]=S(t[O],r);return y}function z(e,t){if(!t){var r=[];for(var n in e){var o=F.exec(n),i=o&&o[1];if(i&&(!t||i===t)){var a=e[n];if(a)for(var s=0;s<a.length;s++)r.push(a[s])}}return r}var c=V[t];c||(W(t),c=V[t]);var u=e[c[p]],d=e[c[l]];return u?d?u.concat(d):u.slice():d?d.slice():[]}function K(e,t){var r=e.Event;r&&r.prototype&&t.patchMethod(r.prototype,"stopImmediatePropagation",(function(e){return function(t,r){t[X]=!0,e&&e.apply(t,r)}}))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function $(e,t,r,n,o){var i=Zone.__symbol__(n);if(!t[i]){var a=t[i]=t[n];t[n]=function(i,s,c){return s&&s.prototype&&o.forEach((function(t){var o=r+"."+n+"::"+t,i=s.prototype;if(i.hasOwnProperty(t)){var a=e.ObjectGetOwnPropertyDescriptor(i,t);a&&a.value?(a.value=e.wrapWithCurrentZone(a.value,o),e._redefineProperty(s.prototype,t,a)):i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}else i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))})),a.call(t,i,s,c)},e.attachOriginToPatched(t[n],a)}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var Y,q,Q,J,ee,te=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],re=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],ne=["load"],oe=["blur","error","focus","load","resize","scroll","messageerror"],ie=["bounce","finish","start"],ae=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],se=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ce=["close","error","open","message"],ue=["error","message"],le=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],te,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function pe(e,t,r){if(!r||0===r.length)return t;var n=r.filter((function(t){return t.target===e}));if(!n||0===n.length)return t;var o=n[0].ignoreProperties;return t.filter((function(e){return-1===o.indexOf(e)}))}function de(e,t,r,n){e&&M(e,pe(e,t,r),n)}function _e(e,t){if((!b||A)&&!Zone[e.symbol("patchEvents")]){var r="undefined"!=typeof WebSocket,o=t.__Zone_ignore_on_properties;if(O){var i=window,a=function(){try{var e=f.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:i,ignoreProperties:["error"]}]:[];de(i,le.concat(["messageerror"]),o?o.concat(a):o,n(i)),de(Document.prototype,le,o),void 0!==i.SVGElement&&de(i.SVGElement.prototype,le,o),de(Element.prototype,le,o),de(HTMLElement.prototype,le,o),de(HTMLMediaElement.prototype,re,o),de(HTMLFrameSetElement.prototype,te.concat(oe),o),de(HTMLBodyElement.prototype,te.concat(oe),o),de(HTMLFrameElement.prototype,ne,o),de(HTMLIFrameElement.prototype,ne,o);var s=i.HTMLMarqueeElement;s&&de(s.prototype,ie,o);var c=i.Worker;c&&de(c.prototype,ue,o)}var u=t.XMLHttpRequest;u&&de(u.prototype,ae,o);var l=t.XMLHttpRequestEventTarget;l&&de(l&&l.prototype,ae,o),"undefined"!=typeof IDBIndex&&(de(IDBIndex.prototype,se,o),de(IDBRequest.prototype,se,o),de(IDBOpenDBRequest.prototype,se,o),de(IDBDatabase.prototype,se,o),de(IDBTransaction.prototype,se,o),de(IDBCursor.prototype,se,o)),r&&de(WebSocket.prototype,ce,o)}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function me(){Y=Zone.__symbol__,q=Object[Y("defineProperty")]=Object.defineProperty,Q=Object[Y("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,J=Object.create,ee=Y("unconfigurables"),Object.defineProperty=function(e,t,r){if(ge(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var n=r.configurable;return"prototype"!==t&&(r=fe(e,t,r)),Ee(e,t,r,n)},Object.defineProperties=function(e,t){return Object.keys(t).forEach((function(r){Object.defineProperty(e,r,t[r])})),e},Object.create=function(e,t){return"object"!=typeof t||Object.isFrozen(t)||Object.keys(t).forEach((function(r){t[r]=fe(e,r,t[r])})),J(e,t)},Object.getOwnPropertyDescriptor=function(e,t){var r=Q(e,t);return r&&ge(e,t)&&(r.configurable=!1),r}}function he(e,t,r){var n=r.configurable;return Ee(e,t,r=fe(e,t,r),n)}function ge(e,t){return e&&e[ee]&&e[ee][t]}function fe(e,t,r){return Object.isFrozen(r)||(r.configurable=!0),r.configurable||(e[ee]||Object.isFrozen(e)||q(e,ee,{writable:!0,value:{}}),e[ee]&&(e[ee][t]=!0)),r}function Ee(e,t,r,n){try{return q(e,t,r)}catch(a){if(!r.configurable)throw a;void 0===n?delete r.configurable:r.configurable=n;try{return q(e,t,r)}catch(n){var o=!1;if("createdCallback"!==t&&"attachedCallback"!==t&&"detachedCallback"!==t&&"attributeChangedCallback"!==t||(o=!0),!o)throw n;var i=null;try{i=JSON.stringify(r)}catch(e){i=r.toString()}console.log("Attempting to configure '"+t+"' with descriptor '"+i+"' on object '"+e+"' and got error, giving up: "+n)}}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function Te(e,t){var r=t.getGlobalObjects(),n=r.eventNames,o=r.globalSources,i=r.zoneSymbolEventNames,a=r.TRUE_STR,s=r.FALSE_STR,c=r.ZONE_SYMBOL_PREFIX,u="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),l="EventTarget",p=[],d=e.wtf,_="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video".split(",");d?p=_.map((function(e){return"HTML"+e+"Element"})).concat(u):e[l]?p.push(l):p=u;for(var m=e.__Zone_disable_IE_check||!1,h=e.__Zone_enable_cross_context_check||!1,g=t.isIEOrEdge(),f="[object FunctionWrapper]",E="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",T={MSPointerCancel:"pointercancel",MSPointerDown:"pointerdown",MSPointerEnter:"pointerenter",MSPointerHover:"pointerhover",MSPointerLeave:"pointerleave",MSPointerMove:"pointermove",MSPointerOut:"pointerout",MSPointerOver:"pointerover",MSPointerUp:"pointerup"},v=0;v<n.length;v++){var S=c+((P=n[v])+s),y=c+(P+a);i[P]={},i[P][s]=S,i[P][a]=y}for(v=0;v<_.length;v++)for(var b=_[v],O=o[b]={},A=0;A<n.length;A++){var P;O[P=n[A]]=b+".addEventListener:"+P}var R=[];for(v=0;v<p.length;v++){var N=e[p[v]];R.push(N&&N.prototype)}return t.patchEventTarget(e,R,{vh:function(e,t,r,n){if(!m&&g){if(h)try{var o;if((o=t.toString())===f||o==E)return e.apply(r,n),!1}catch(t){return e.apply(r,n),!1}else if((o=t.toString())===f||o==E)return e.apply(r,n),!1}else if(h)try{t.toString()}catch(t){return e.apply(r,n),!1}return!0},transferEventName:function(e){return T[e]||e}}),Zone[t.symbol("patchEventTarget")]=!!e[l],!0}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function ve(e,t){var r=e.getGlobalObjects(),n=r.isNode,o=r.isMix;if((!n||o)&&!function(e,t){var r=e.getGlobalObjects(),n=r.isBrowser,o=r.isMix;if((n||o)&&!e.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var i=e.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(i&&!i.configurable)return!1;if(i){e.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}});var a=!!document.createElement("div").onclick;return e.ObjectDefineProperty(Element.prototype,"onclick",i),a}}var s=t.XMLHttpRequest;if(!s)return!1;var c="onreadystatechange",u=s.prototype,l=e.ObjectGetOwnPropertyDescriptor(u,c);if(l)return e.ObjectDefineProperty(u,c,{enumerable:!0,configurable:!0,get:function(){return!0}}),a=!!(d=new s).onreadystatechange,e.ObjectDefineProperty(u,c,l||{}),a;var p=e.symbol("fake");e.ObjectDefineProperty(u,c,{enumerable:!0,configurable:!0,get:function(){return this[p]},set:function(e){this[p]=e}});var d,_=function(){};return(d=new s).onreadystatechange=_,a=d[p]===_,d.onreadystatechange=null,a}(e,t)){var i="undefined"!=typeof WebSocket;!function(e){for(var t=e.getGlobalObjects().eventNames,r=e.symbol("unbound"),n=function(n){var o=t[n],i="on"+o;self.addEventListener(o,(function(t){var n,o,a=t.target;for(o=a?a.constructor.name+"."+i:"unknown."+i;a;)a[i]&&!a[i][r]&&((n=e.wrapWithCurrentZone(a[i],o))[r]=a[i],a[i]=n),a=a.parentElement}),!0)},o=0;o<t.length;o++)n(o)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(e),e.patchClass("XMLHttpRequest"),i&&function(e,t){var r=e.getGlobalObjects(),n=r.ADD_EVENT_LISTENER_STR,o=r.REMOVE_EVENT_LISTENER_STR,i=t.WebSocket;t.EventTarget||e.patchEventTarget(t,[i.prototype]),t.WebSocket=function(t,r){var a,s,c=arguments.length>1?new i(t,r):new i(t),u=e.ObjectGetOwnPropertyDescriptor(c,"onmessage");return u&&!1===u.configurable?(a=e.ObjectCreate(c),s=c,[n,o,"send","close"].forEach((function(t){a[t]=function(){var r=e.ArraySlice.call(arguments);if(t===n||t===o){var i=r.length>0?r[0]:void 0;if(i){var s=Zone.__symbol__("ON_PROPERTY"+i);c[s]=a[s]}}return c[t].apply(c,r)}}))):a=c,e.patchOnProperties(a,["close","error","message","open"],s),a};var a=t.WebSocket;for(var s in i)a[s]=i[s]}(e,t),Zone[e.symbol("patchEvents")]=!0}}Zone.__load_patch("util",(function(e,n,c){c.patchOnProperties=M,c.patchMethod=w,c.bindArguments=v,c.patchMacroTask=D;var u=n.__symbol__("BLACK_LISTED_EVENTS"),m=n.__symbol__("UNPATCHED_EVENTS");e[m]&&(e[u]=e[m]),e[u]&&(n[u]=n[m]=e[u]),c.patchEventPrototype=K,c.patchEventTarget=Z,c.isIEOrEdge=j,c.ObjectDefineProperty=r,c.ObjectGetOwnPropertyDescriptor=t,c.ObjectCreate=o,c.ArraySlice=i,c.patchClass=C,c.wrapWithCurrentZone=_,c.filterProperties=pe,c.attachOriginToPatched=L,c._redefineProperty=Object.defineProperty,c.patchCallbacks=$,c.getGlobalObjects=function(){return{globalSources:H,zoneSymbolEventNames:V,eventNames:le,isBrowser:O,isMix:A,isNode:b,TRUE_STR:l,FALSE_STR:p,ZONE_SYMBOL_PREFIX:d,ADD_EVENT_LISTENER_STR:a,REMOVE_EVENT_LISTENER_STR:s}}})),
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function(e){var t,r=e.__Zone_symbol_prefix||"__zone_symbol__";e[(t="legacyPatch",r+t)]=function(){var t=e.Zone;t.__load_patch("defineProperty",(function(e,t,r){r._redefineProperty=he,me()})),t.__load_patch("registerElement",(function(e,t,r){!function(e,t){var r=t.getGlobalObjects(),n=r.isBrowser,o=r.isMix;(n||o)&&"registerElement"in e.document&&t.patchCallbacks(t,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}(e,r)})),t.__load_patch("EventTargetLegacy",(function(e,t,r){Te(e,r),ve(r,e)}))}}("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{});
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var Se=h("zoneTask");function ye(e,t,r,n){var o=null,i=null;r+=n;var a={};function s(t){var r=t.data;return r.args[0]=function(){return t.invoke.apply(this,arguments)},r.handleId=o.apply(e,r.args),t}function c(t){return i.call(e,t.data.handleId)}o=w(e,t+=n,(function(r){return function(o,i){if("function"==typeof i[0]){var u={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?i[1]||0:void 0,args:i},l=i[0];i[0]=function(){try{return l.apply(this,arguments)}finally{u.isPeriodic||("number"==typeof u.handleId?delete a[u.handleId]:u.handleId&&(u.handleId[Se]=null))}};var p=m(t,i[0],u,s,c);if(!p)return p;var d=p.data.handleId;return"number"==typeof d?a[d]=p:d&&(d[Se]=p),d&&d.ref&&d.unref&&"function"==typeof d.ref&&"function"==typeof d.unref&&(p.ref=d.ref.bind(d),p.unref=d.unref.bind(d)),"number"==typeof d||d?d:p}return r.apply(e,i)}})),i=w(e,r,(function(t){return function(r,n){var o,i=n[0];"number"==typeof i?o=a[i]:(o=i&&i[Se])||(o=i),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete a[i]:i&&(i[Se]=null),o.zone.cancelTask(o)):t.apply(e,n)}}))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function be(e,t){if(!Zone[t.symbol("patchEventTarget")]){for(var r=t.getGlobalObjects(),n=r.eventNames,o=r.zoneSymbolEventNames,i=r.TRUE_STR,a=r.FALSE_STR,s=r.ZONE_SYMBOL_PREFIX,c=0;c<n.length;c++){var u=n[c],l=s+(u+a),p=s+(u+i);o[u]={},o[u][a]=l,o[u][i]=p}var d=e.EventTarget;if(d&&d.prototype)return t.patchEventTarget(e,[d&&d.prototype]),!0}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
Zone.__load_patch("legacy",(function(e){var t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("queueMicrotask",(function(e,t,r){r.patchMethod(e,"queueMicrotask",(function(e){return function(e,r){t.current.scheduleMicroTask("queueMicrotask",r[0])}}))})),Zone.__load_patch("timers",(function(e){var t="set",r="clear";ye(e,t,r,"Timeout"),ye(e,t,r,"Interval"),ye(e,t,r,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(e){ye(e,"request","cancel","AnimationFrame"),ye(e,"mozRequest","mozCancel","AnimationFrame"),ye(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(e,t){for(var r=["alert","prompt","confirm"],n=0;n<r.length;n++)w(e,r[n],(function(r,n,o){return function(n,i){return t.current.run(r,e,i,o)}}))})),Zone.__load_patch("EventTarget",(function(e,t,r){!function(e,t){t.patchEventPrototype(e,t)}(e,r),be(e,r);var n=e.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(e,[n.prototype])})),Zone.__load_patch("MutationObserver",(function(e,t,r){C("MutationObserver"),C("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",(function(e,t,r){C("IntersectionObserver")})),Zone.__load_patch("FileReader",(function(e,t,r){C("FileReader")})),Zone.__load_patch("on_property",(function(e,t,r){_e(r,e)})),Zone.__load_patch("customElements",(function(e,t,r){!function(e,t){var r=t.getGlobalObjects(),n=r.isBrowser,o=r.isMix;(n||o)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,r)})),Zone.__load_patch("XHR",(function(e,t){!function(e){var l=e.XMLHttpRequest;if(l){var p=l.prototype,d=p[c],_=p[u];if(!d){var g=e.XMLHttpRequestEventTarget;if(g){var f=g.prototype;d=f[c],_=f[u]}}var E="readystatechange",T="scheduled",v=w(p,"open",(function(){return function(e,t){return e[n]=0==t[2],e[a]=t[1],v.apply(e,t)}})),S=h("fetchTaskAborting"),y=h("fetchTaskScheduling"),b=w(p,"send",(function(){return function(e,r){if(!0===t.current[y])return b.apply(e,r);if(e[n])return b.apply(e,r);var o={target:e,url:e[a],isPeriodic:!1,args:r,aborted:!1},i=m("XMLHttpRequest.send",P,o,A,R);e&&!0===e[s]&&!o.aborted&&i.state===T&&i.invoke()}})),O=w(p,"abort",(function(){return function(e,n){var o=e[r];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===t.current[S])return O.apply(e,n)}}))}function A(e){var n=e.data,a=n.target;a[i]=!1,a[s]=!1;var l=a[o];d||(d=a[c],_=a[u]),l&&_.call(a,E,l);var p=a[o]=function(){if(a.readyState===a.DONE)if(!n.aborted&&a[i]&&e.state===T){var r=a[t.__symbol__("loadfalse")];if(0!==a.status&&r&&r.length>0){var o=e.invoke;e.invoke=function(){for(var r=a[t.__symbol__("loadfalse")],i=0;i<r.length;i++)r[i]===e&&r.splice(i,1);n.aborted||e.state!==T||o.call(e)},r.push(e)}else e.invoke()}else n.aborted||!1!==a[i]||(a[s]=!0)};return d.call(a,E,p),a[r]||(a[r]=e),b.apply(a,n.args),a[i]=!0,e}function P(){}function R(e){var t=e.data;return t.aborted=!0,O.apply(t.target,t.args)}}(e);var r=h("xhrTask"),n=h("xhrSync"),o=h("xhrListener"),i=h("xhrScheduled"),a=h("xhrURL"),s=h("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(e){e.navigator&&e.navigator.geolocation&&function(e,r){for(var n=e.constructor.name,o=function(o){var i=r[o],a=e[i];if(a){if(!S(t(e,i)))return"continue";e[i]=function(e){var t=function(){return e.apply(this,v(arguments,n+"."+i))};return L(t,e),t}(a)}},i=0;i<r.length;i++)o(i)}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(e,t){function r(t){return function(r){z(e,t).forEach((function(n){var o=e.PromiseRejectionEvent;if(o){var i=new o(t,{promise:r.promise,reason:r.rejection});n.invoke(i)}}))}}e.PromiseRejectionEvent&&(t[h("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[h("rejectionHandledHandler")]=r("rejectionhandled"))}))},"function"==typeof define&&define.amd?define(t):t()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],247:[function(e,t,r){t.exports={name:"@middleware.io/browser",version:"0.0.4",description:"",main:"index.js",scripts:{test:'echo "Error: no test specified" && exit 1'},author:"@middleware.io",license:"ISC",dependencies:{"@opentelemetry/api":"^1.3.0","@opentelemetry/auto-instrumentations-web":"^0.31.0","@opentelemetry/context-zone":"^1.8.0","@opentelemetry/core":"^1.8.0","@opentelemetry/exporter-trace-otlp-http":"^0.34.0","@opentelemetry/instrumentation":"^0.34.0","@opentelemetry/instrumentation-fetch":"^0.34.0","@opentelemetry/propagator-b3":"^1.8.0","@opentelemetry/resources":"^1.8.0","@opentelemetry/sdk-trace-base":"^1.8.0","@opentelemetry/sdk-trace-web":"^1.8.0","@opentelemetry/semantic-conventions":"^1.8.0",minify:"^9.1.0"}}},{}],248:[function(e,t,r){const{diag:n,DiagConsoleLogger:o,DiagLogLevel:i}=e("@opentelemetry/api"),a=e("./tracing"),s={accountKey:"",target:"",DEBUG:i.NONE,projectName:"Project-"+window.location.host,serviceName:"browser"};t.exports.init=(e={})=>(Object.keys(s).forEach((function(t){s[t]=e[t]?e[t]:s[t]})),s.target&&(s.target=new URL(s.target).origin),s.serviceName="browser",n.setLogger(new o,s.DEBUG?i.DEBUG:i.NONE),a.init(s),s)},{"./tracing":252,"@opentelemetry/api":21}],249:[function(e,t,r){function n(t={}){return t.accountKey?t.target?void e("./config").init(t):"target is required":"accountKey is required"}t.exports.track=n;var o={};o.track=n,"undefined"!=typeof window&&(window.Middleware=o)},{"./config":248}],250:[function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(r,"__esModule",{value:!0}),r.LogsExporter=void 0;e("@opentelemetry/resources").Resource;var o=e("../package.json"),i=o.name,a=o.version,s=e("@opentelemetry/core"),c=s.hrTime,u=s.hrTimeToNanoseconds,l=e("@opentelemetry/api"),p=l,d=(l.Attributes,function(e){switch(typeof e){case"number":return Number.isInteger(e)?{intValue:e}:{doubleValue:e};case"boolean":return{boolValue:e};case"object":if(Array.isArray(e))return{arrayValue:{values:e.map((function(e){return d(e)}))}};if(null!=e)return{kvlistValue:{values:Object.entries(e).map((function(e){var t=e[0],r=e[1];return _(t,r)}))}};default:return{stringValue:String(e)}}}),_=function(e,t){return{key:e,value:d(t)}},m=function(e={}){return Object.entries(e).map((function(e){var t=e[0],r=e[1];return _(t,r)}))},h=function(){function e(e){var t=e.resource,r=e.collectorUrl,n=e.attributes,o=e.maxQueueSize,i=e.scheduledDelayMillis,a=e.serviceName,s=e.projectName;this.resource=t,this.collectorUrl=r,this.defaultAttributes=n,this.maxQueueSize=o,this.scheduledDelayMillis=i,this.logs=[],this.projectName=s,this.serviceName=a}return e.prototype.recordLog=function(e){var t=this,r=n(n([],m(this.defaultAttributes),!0),[_("type",e.type),_("http.url",location.href),_("level","error"),_("project.name",this.projectName),_("service.name",this.serviceName),_("browser.trace",!0)],!1),o=p.trace.getSpan(p.context.active());e.element&&r.push(_("element.xpath",e.element.xpath)),e.error&&(r.push(_("error.name",e.error.name)),r.push(_("error.message",e.error.message)),e.error.stack&&r.push(_("error.stack",e.error.stack))),e.arguments&&r.push(_("arguments",e.arguments)),e.attributes&&Object.entries(e.attributes).forEach((function(e){var t=e[0],n=e[1];r.push(_(t,n))})),this.logs.push({observedTimeUnixNano:u(c()),body:{stringValue:e.message},attributes:r,droppedAttributesCount:0,traceId:null==o?"":o.spanContext().traceId,spanId:null==o?"":o.spanContext().spanId}),this.logs.length>=this.maxQueueSize?this.export():void 0===this.timer&&(this.timer=Number(setTimeout((function(){return t.export()}),this.scheduledDelayMillis)))},e.prototype.export=function(){clearTimeout(this.timer),this.timer=void 0;var e=this.logs;if(e.length){this.logs=[];var t=JSON.stringify({resourceLogs:[{resource:{attributes:m(this.resource.attributes)},scopeLogs:[{instrumentationLibrary:{name:i,version:a},logRecords:e}],schemaUrl:"https://opentelemetry.io/schemas/1.6.1"}]});!function(e,t){new Blob([t],{type:"application/json"}),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t})}(this.collectorUrl,t)}},e}();r.LogsExporter=h},{"../package.json":247,"@opentelemetry/api":21,"@opentelemetry/core":67,"@opentelemetry/resources":160}],251:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LogsInstrumentation=void 0;var n=e("@opentelemetry/sdk-trace-web").getElementXPath,o=e("../packages/logs-exporter"),i=(o.LogRecord,o.LogsExporter,function(e,t){return e.length>t?"".concat(e.slice(0,t),"..."):e}),a=function(e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack?i(e.stack,5e3):void 0}:void 0},s=function(e,t){if(void 0===t&&(t=0),"string"==typeof e){var r=i(e,500);return t>0?'"'.concat(r,'"'):r}return Array.isArray(e)?t>0?"...":"[".concat(e.map((function(e){return s(e,t+1)})).join(", "),"]"):e instanceof Error?s({name:e.name,message:e.message},t):null!=e&&"object"==typeof e?t>0?"...":"{ ".concat(Object.getOwnPropertyNames(e).map((function(r){return"".concat(r,": ").concat(s(e[r],t+1))})).join(", ")," }"):String(e)},c=function(e,t){void 0===t&&(t=new Set);var r=!t.has(e);if(t.add(e),Array.isArray(e))return e.map((function(e){return c(e,t)}));if(null!=e&&"object"==typeof e){var n={};return Object.getOwnPropertyNames(e).forEach((function(o){var i=e[o];n[o]=t.has(i)&&(i!==e||r)?"[Circular]":c(i)})),n}return e},u=function(){function e(e){var t=this,r=e.exporter;this.isEnabled=!1,this.onError=function(e){t.exporter.recordLog({type:"uncaughtException",message:e.message,error:a(e.error)})},this.onUnhandledRejection=function(e){var r=e.reason;if(r){var n=a(r);t.exporter.recordLog({type:"unhandledRejection",message:n?"Unhandled rejection ".concat(r):String(r),error:n})}},this.onDocumentError=function(e){var r=e.target;if(r){var o=n(r);o&&t.exporter.recordLog({type:"documentError",message:"Uncaught error in element ".concat(o),element:{xpath:o}})}},this.onConsoleError=function(e){var r=e.find(a),n=e.length>3||e.find((function(e){return null!=e&&"object"==typeof e&&!(e instanceof Error)}))?e.map((function(e){return c(e)})):void 0;t.exporter.recordLog({type:"consoleError",message:e.map((function(e){return s(e)})).join(" "),arguments:n,error:r})},this.exporter=r;var o=console.error;console.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.isEnabled&&t.onConsoleError(e),o.apply(console,e)}}return e.prototype.enable=function(){this.disable(),window.addEventListener("error",this.onError),window.addEventListener("unhandledrejection",this.onUnhandledRejection),document.documentElement.addEventListener("error",this.onDocumentError,{capture:!0}),this.isEnabled=!0},e.prototype.disable=function(){window.removeEventListener("error",this.onError),window.removeEventListener("unhandledrejection",this.onUnhandledRejection),document.documentElement.removeEventListener("error",this.onDocumentError,{capture:!0}),this.isEnabled=!1},e}();r.LogsInstrumentation=u},{"../packages/logs-exporter":250,"@opentelemetry/sdk-trace-web":237}],252:[function(e,t,r){t.exports.init=t=>{const{WebTracerProvider:r}=e("@opentelemetry/sdk-trace-web"),{getWebAutoInstrumentations:n}=e("@opentelemetry/auto-instrumentations-web"),{SimpleSpanProcessor:o}=e("@opentelemetry/sdk-trace-base"),{OTLPTraceExporter:i}=e("@opentelemetry/exporter-trace-otlp-http"),{ZoneContextManager:a}=e("@opentelemetry/context-zone"),{B3Propagator:s}=e("@opentelemetry/propagator-b3"),{registerInstrumentations:c}=e("@opentelemetry/instrumentation"),{Resource:u}=e("@opentelemetry/resources"),{SemanticResourceAttributes:l}=e("@opentelemetry/semantic-conventions"),{LogsExporter:p}=e("../packages/logs-exporter"),{LogsInstrumentation:d}=e("../packages/logs-instrumentation"),_=new u({[l.SERVICE_NAME]:t.serviceName,mw_agent:!0,"project.name":t.projectName,"mw.account_key":t.accountKey,"browser.trace":!0}),m=new r({resource:_});m.addSpanProcessor(new o(new i({url:`${t.target}/v1/traces`,headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"*"},concurrencyLimit:10}))),m.register({contextManager:new a,propagator:new s});new d({exporter:new p({resource:_,collectorUrl:`${t.target}/v1/logs`,maxQueueSize:2048,scheduledDelayMillis:2e3,projectName:t.projectName,serviceName:t.serviceName})}).enable(),c({instrumentations:[n({"@opentelemetry/instrumentation-xml-http-request":{clearTimingResources:!0}})]})}},{"../packages/logs-exporter":250,"../packages/logs-instrumentation":251,"@opentelemetry/auto-instrumentations-web":50,"@opentelemetry/context-zone":56,"@opentelemetry/exporter-trace-otlp-http":97,"@opentelemetry/instrumentation":122,"@opentelemetry/propagator-b3":151,"@opentelemetry/resources":160,"@opentelemetry/sdk-trace-base":224,"@opentelemetry/sdk-trace-web":237,"@opentelemetry/semantic-conventions":240}]},{},[3]);
