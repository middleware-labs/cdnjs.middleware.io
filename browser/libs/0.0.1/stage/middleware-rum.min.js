(function(){function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,(function(e){var r=t[s][1][e];return o(r||e)}),l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}return e})()({1:[function(e,t,r){"use strict";t.exports=e("./packages/init")},{"./packages/init":461}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ContextAPI=void 0;const n=e("../context/NoopContextManager");const o=e("../internal/global-utils");const i=e("./diag");const s="context";const a=new n.NoopContextManager;class c{constructor(){}static getInstance(){if(!this._instance){this._instance=new c}return this._instance}setGlobalContextManager(e){return(0,o.registerGlobal)(s,e,i.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,o.getGlobal)(s)||a}disable(){this._getContextManager().disable();(0,o.unregisterGlobal)(s,i.DiagAPI.instance())}}r.ContextAPI=c},{"../context/NoopContextManager":12,"../internal/global-utils":20,"./diag":3}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DiagAPI=void 0;const n=e("../diag/ComponentLogger");const o=e("../diag/internal/logLevelLogger");const i=e("../diag/types");const s=e("../internal/global-utils");const a="diag";class c{constructor(){function e(e){return function(...t){const r=(0,s.getGlobal)("diag");if(!r)return;return r[e](...t)}}const t=this;const r=(e,r={logLevel:i.DiagLogLevel.INFO})=>{var n,a,c;if(e===t){const e=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");t.error((n=e.stack)!==null&&n!==void 0?n:e.message);return false}if(typeof r==="number"){r={logLevel:r}}const u=(0,s.getGlobal)("diag");const l=(0,o.createLogLevelDiagLogger)((a=r.logLevel)!==null&&a!==void 0?a:i.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){const e=(c=(new Error).stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`);l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",l,t,true)};t.setLogger=r;t.disable=()=>{(0,s.unregisterGlobal)(a,t)};t.createComponentLogger=e=>new n.DiagComponentLogger(e);t.verbose=e("verbose");t.debug=e("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}static instance(){if(!this._instance){this._instance=new c}return this._instance}}r.DiagAPI=c},{"../diag/ComponentLogger":15,"../diag/internal/logLevelLogger":17,"../diag/types":18,"../internal/global-utils":20}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MetricsAPI=void 0;const n=e("../metrics/NoopMeterProvider");const o=e("../internal/global-utils");const i=e("./diag");const s="metrics";class a{constructor(){}static getInstance(){if(!this._instance){this._instance=new a}return this._instance}setGlobalMeterProvider(e){return(0,o.registerGlobal)(s,e,i.DiagAPI.instance())}getMeterProvider(){return(0,o.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,o.unregisterGlobal)(s,i.DiagAPI.instance())}}r.MetricsAPI=a},{"../internal/global-utils":20,"../metrics/NoopMeterProvider":25,"./diag":3}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PropagationAPI=void 0;const n=e("../internal/global-utils");const o=e("../propagation/NoopTextMapPropagator");const i=e("../propagation/TextMapPropagator");const s=e("../baggage/context-helpers");const a=e("../baggage/utils");const c=e("./diag");const u="propagation";const l=new o.NoopTextMapPropagator;class d{constructor(){this.createBaggage=a.createBaggage;this.getBaggage=s.getBaggage;this.getActiveBaggage=s.getActiveBaggage;this.setBaggage=s.setBaggage;this.deleteBaggage=s.deleteBaggage}static getInstance(){if(!this._instance){this._instance=new d}return this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,c.DiagAPI.instance())}inject(e,t,r=i.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=i.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,c.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}r.PropagationAPI=d},{"../baggage/context-helpers":7,"../baggage/utils":10,"../internal/global-utils":20,"../propagation/NoopTextMapPropagator":29,"../propagation/TextMapPropagator":30,"./diag":3}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceAPI=void 0;const n=e("../internal/global-utils");const o=e("../trace/ProxyTracerProvider");const i=e("../trace/spancontext-utils");const s=e("../trace/context-utils");const a=e("./diag");const c="trace";class u{constructor(){this._proxyTracerProvider=new o.ProxyTracerProvider;this.wrapSpanContext=i.wrapSpanContext;this.isSpanContextValid=i.isSpanContextValid;this.deleteSpan=s.deleteSpan;this.getSpan=s.getSpan;this.getActiveSpan=s.getActiveSpan;this.getSpanContext=s.getSpanContext;this.setSpan=s.setSpan;this.setSpanContext=s.setSpanContext}static getInstance(){if(!this._instance){this._instance=new u}return this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(c,this._proxyTracerProvider,a.DiagAPI.instance());if(t){this._proxyTracerProvider.setDelegate(e)}return t}getTracerProvider(){return(0,n.getGlobal)(c)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(c,a.DiagAPI.instance());this._proxyTracerProvider=new o.ProxyTracerProvider}}r.TraceAPI=u},{"../internal/global-utils":20,"../trace/ProxyTracerProvider":36,"../trace/context-utils":38,"../trace/spancontext-utils":44,"./diag":3}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.deleteBaggage=r.setBaggage=r.getActiveBaggage=r.getBaggage=void 0;const n=e("../api/context");const o=e("../context/context");const i=(0,o.createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||undefined}r.getBaggage=s;function a(){return s(n.ContextAPI.getInstance().active())}r.getActiveBaggage=a;function c(e,t){return e.setValue(i,t)}r.setBaggage=c;function u(e){return e.deleteValue(i)}r.deleteBaggage=u},{"../api/context":2,"../context/context":13}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BaggageImpl=void 0;class n{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(!t){return undefined}return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new n(this._entries);r._entries.set(e,t);return r}removeEntry(e){const t=new n(this._entries);t._entries.delete(e);return t}removeEntries(...e){const t=new n(this._entries);for(const r of e){t._entries.delete(r)}return t}clear(){return new n}}r.BaggageImpl=n},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.baggageEntryMetadataSymbol=void 0;r.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.baggageEntryMetadataFromString=r.createBaggage=void 0;const n=e("../api/diag");const o=e("./internal/baggage-impl");const i=e("./internal/symbol");const s=n.DiagAPI.instance();function a(e={}){return new o.BaggageImpl(new Map(Object.entries(e)))}r.createBaggage=a;function c(e){if(typeof e!=="string"){s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`);e=""}return{__TYPE__:i.baggageEntryMetadataSymbol,toString(){return e}}}r.baggageEntryMetadataFromString=c},{"../api/diag":3,"./internal/baggage-impl":8,"./internal/symbol":9}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.context=void 0;const n=e("./api/context");r.context=n.ContextAPI.getInstance()},{"./api/context":2}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NoopContextManager=void 0;const n=e("./context");class o{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}r.NoopContextManager=o},{"./context":13}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ROOT_CONTEXT=r.createContextKey=void 0;function n(e){return Symbol.for(e)}r.createContextKey=n;class o{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map;t.getValue=e=>t._currentContext.get(e);t.setValue=(e,r)=>{const n=new o(t._currentContext);n._currentContext.set(e,r);return n};t.deleteValue=e=>{const r=new o(t._currentContext);r._currentContext.delete(e);return r}}}r.ROOT_CONTEXT=new o},{}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.diag=void 0;const n=e("./api/diag");r.diag=n.DiagAPI.instance()},{"./api/diag":3}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DiagComponentLogger=void 0;const n=e("../internal/global-utils");class o{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}r.DiagComponentLogger=o;function i(e,t,r){const o=(0,n.getGlobal)("diag");if(!o){return}r.unshift(t);return o[e](...r)}},{"../internal/global-utils":20}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DiagConsoleLogger=void 0;const n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class o{constructor(){function e(e){return function(...t){if(console){let r=console[e];if(typeof r!=="function"){r=console.log}if(typeof r==="function"){return r.apply(console,t)}}}}for(let t=0;t<n.length;t++){this[n[t].n]=e(n[t].c)}}}r.DiagConsoleLogger=o},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createLogLevelDiagLogger=void 0;const n=e("../types");function o(e,t){if(e<n.DiagLogLevel.NONE){e=n.DiagLogLevel.NONE}else if(e>n.DiagLogLevel.ALL){e=n.DiagLogLevel.ALL}t=t||{};function r(r,n){const o=t[r];if(typeof o==="function"&&e>=n){return o.bind(t)}return function(){}}return{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}r.createLogLevelDiagLogger=o},{"../types":18}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DiagLogLevel=void 0;var n;(function(e){e[e["NONE"]=0]="NONE";e[e["ERROR"]=30]="ERROR";e[e["WARN"]=50]="WARN";e[e["INFO"]=60]="INFO";e[e["DEBUG"]=70]="DEBUG";e[e["VERBOSE"]=80]="VERBOSE";e[e["ALL"]=9999]="ALL"})(n=r.DiagLogLevel||(r.DiagLogLevel={}))},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.trace=r.propagation=r.metrics=r.diag=r.context=r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=r.isValidSpanId=r.isValidTraceId=r.isSpanContextValid=r.createTraceState=r.TraceFlags=r.SpanStatusCode=r.SpanKind=r.SamplingDecision=r.ProxyTracerProvider=r.ProxyTracer=r.defaultTextMapSetter=r.defaultTextMapGetter=r.ValueType=r.createNoopMeter=r.DiagLogLevel=r.DiagConsoleLogger=r.ROOT_CONTEXT=r.createContextKey=r.baggageEntryMetadataFromString=void 0;var n=e("./baggage/utils");Object.defineProperty(r,"baggageEntryMetadataFromString",{enumerable:true,get:function(){return n.baggageEntryMetadataFromString}});var o=e("./context/context");Object.defineProperty(r,"createContextKey",{enumerable:true,get:function(){return o.createContextKey}});Object.defineProperty(r,"ROOT_CONTEXT",{enumerable:true,get:function(){return o.ROOT_CONTEXT}});var i=e("./diag/consoleLogger");Object.defineProperty(r,"DiagConsoleLogger",{enumerable:true,get:function(){return i.DiagConsoleLogger}});var s=e("./diag/types");Object.defineProperty(r,"DiagLogLevel",{enumerable:true,get:function(){return s.DiagLogLevel}});var a=e("./metrics/NoopMeter");Object.defineProperty(r,"createNoopMeter",{enumerable:true,get:function(){return a.createNoopMeter}});var c=e("./metrics/Metric");Object.defineProperty(r,"ValueType",{enumerable:true,get:function(){return c.ValueType}});var u=e("./propagation/TextMapPropagator");Object.defineProperty(r,"defaultTextMapGetter",{enumerable:true,get:function(){return u.defaultTextMapGetter}});Object.defineProperty(r,"defaultTextMapSetter",{enumerable:true,get:function(){return u.defaultTextMapSetter}});var l=e("./trace/ProxyTracer");Object.defineProperty(r,"ProxyTracer",{enumerable:true,get:function(){return l.ProxyTracer}});var d=e("./trace/ProxyTracerProvider");Object.defineProperty(r,"ProxyTracerProvider",{enumerable:true,get:function(){return d.ProxyTracerProvider}});var p=e("./trace/SamplingResult");Object.defineProperty(r,"SamplingDecision",{enumerable:true,get:function(){return p.SamplingDecision}});var f=e("./trace/span_kind");Object.defineProperty(r,"SpanKind",{enumerable:true,get:function(){return f.SpanKind}});var m=e("./trace/status");Object.defineProperty(r,"SpanStatusCode",{enumerable:true,get:function(){return m.SpanStatusCode}});var h=e("./trace/trace_flags");Object.defineProperty(r,"TraceFlags",{enumerable:true,get:function(){return h.TraceFlags}});var E=e("./trace/internal/utils");Object.defineProperty(r,"createTraceState",{enumerable:true,get:function(){return E.createTraceState}});var _=e("./trace/spancontext-utils");Object.defineProperty(r,"isSpanContextValid",{enumerable:true,get:function(){return _.isSpanContextValid}});Object.defineProperty(r,"isValidTraceId",{enumerable:true,get:function(){return _.isValidTraceId}});Object.defineProperty(r,"isValidSpanId",{enumerable:true,get:function(){return _.isValidSpanId}});var S=e("./trace/invalid-span-constants");Object.defineProperty(r,"INVALID_SPANID",{enumerable:true,get:function(){return S.INVALID_SPANID}});Object.defineProperty(r,"INVALID_TRACEID",{enumerable:true,get:function(){return S.INVALID_TRACEID}});Object.defineProperty(r,"INVALID_SPAN_CONTEXT",{enumerable:true,get:function(){return S.INVALID_SPAN_CONTEXT}});const g=e("./context-api");Object.defineProperty(r,"context",{enumerable:true,get:function(){return g.context}});const T=e("./diag-api");Object.defineProperty(r,"diag",{enumerable:true,get:function(){return T.diag}});const A=e("./metrics-api");Object.defineProperty(r,"metrics",{enumerable:true,get:function(){return A.metrics}});const y=e("./propagation-api");Object.defineProperty(r,"propagation",{enumerable:true,get:function(){return y.propagation}});const v=e("./trace-api");Object.defineProperty(r,"trace",{enumerable:true,get:function(){return v.trace}});r.default={context:g.context,diag:T.diag,metrics:A.metrics,propagation:y.propagation,trace:v.trace}},{"./baggage/utils":10,"./context-api":11,"./context/context":13,"./diag-api":14,"./diag/consoleLogger":16,"./diag/types":18,"./metrics-api":22,"./metrics/Metric":23,"./metrics/NoopMeter":24,"./propagation-api":28,"./propagation/TextMapPropagator":30,"./trace-api":31,"./trace/ProxyTracer":35,"./trace/ProxyTracerProvider":36,"./trace/SamplingResult":37,"./trace/internal/utils":41,"./trace/invalid-span-constants":42,"./trace/span_kind":43,"./trace/spancontext-utils":44,"./trace/status":45,"./trace/trace_flags":46}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.unregisterGlobal=r.getGlobal=r.registerGlobal=void 0;const n=e("../platform");const o=e("../version");const i=e("./semver");const s=o.VERSION.split(".")[0];const a=Symbol.for(`opentelemetry.js.api.${s}`);const c=n._globalThis;function u(e,t,r,n=false){var i;const s=c[a]=(i=c[a])!==null&&i!==void 0?i:{version:o.VERSION};if(!n&&s[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);r.error(t.stack||t.message);return false}if(s.version!==o.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${o.VERSION}`);r.error(t.stack||t.message);return false}s[e]=t;r.debug(`@opentelemetry/api: Registered a global for ${e} v${o.VERSION}.`);return true}r.registerGlobal=u;function l(e){var t,r;const n=(t=c[a])===null||t===void 0?void 0:t.version;if(!n||!(0,i.isCompatible)(n)){return}return(r=c[a])===null||r===void 0?void 0:r[e]}r.getGlobal=l;function d(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${o.VERSION}.`);const r=c[a];if(r){delete r[e]}}r.unregisterGlobal=d},{"../platform":27,"../version":47,"./semver":21}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isCompatible=r._makeCompatibilityCheck=void 0;const n=e("../version");const o=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function i(e){const t=new Set([e]);const r=new Set;const n=e.match(o);if(!n){return()=>false}const i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null){return function t(r){return r===e}}function s(e){r.add(e);return false}function a(e){t.add(e);return true}return function e(n){if(t.has(n)){return true}if(r.has(n)){return false}const c=n.match(o);if(!c){return s(n)}const u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};if(u.prerelease!=null){return s(n)}if(i.major!==u.major){return s(n)}if(i.major===0){if(i.minor===u.minor&&i.patch<=u.patch){return a(n)}return s(n)}if(i.minor<=u.minor){return a(n)}return s(n)}}r._makeCompatibilityCheck=i;r.isCompatible=i(n.VERSION)},{"../version":47}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.metrics=void 0;const n=e("./api/metrics");r.metrics=n.MetricsAPI.getInstance()},{"./api/metrics":4}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ValueType=void 0;var n;(function(e){e[e["INT"]=0]="INT";e[e["DOUBLE"]=1]="DOUBLE"})(n=r.ValueType||(r.ValueType={}))},{}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createNoopMeter=r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=r.NOOP_OBSERVABLE_GAUGE_METRIC=r.NOOP_OBSERVABLE_COUNTER_METRIC=r.NOOP_UP_DOWN_COUNTER_METRIC=r.NOOP_HISTOGRAM_METRIC=r.NOOP_COUNTER_METRIC=r.NOOP_METER=r.NoopObservableUpDownCounterMetric=r.NoopObservableGaugeMetric=r.NoopObservableCounterMetric=r.NoopObservableMetric=r.NoopHistogramMetric=r.NoopUpDownCounterMetric=r.NoopCounterMetric=r.NoopMetric=r.NoopMeter=void 0;class n{constructor(){}createHistogram(e,t){return r.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return r.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return r.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return r.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return r.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}r.NoopMeter=n;class o{}r.NoopMetric=o;class i extends o{add(e,t){}}r.NoopCounterMetric=i;class s extends o{add(e,t){}}r.NoopUpDownCounterMetric=s;class a extends o{record(e,t){}}r.NoopHistogramMetric=a;class c{addCallback(e){}removeCallback(e){}}r.NoopObservableMetric=c;class u extends c{}r.NoopObservableCounterMetric=u;class l extends c{}r.NoopObservableGaugeMetric=l;class d extends c{}r.NoopObservableUpDownCounterMetric=d;r.NOOP_METER=new n;r.NOOP_COUNTER_METRIC=new i;r.NOOP_HISTOGRAM_METRIC=new a;r.NOOP_UP_DOWN_COUNTER_METRIC=new s;r.NOOP_OBSERVABLE_COUNTER_METRIC=new u;r.NOOP_OBSERVABLE_GAUGE_METRIC=new l;r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new d;function p(){return r.NOOP_METER}r.createNoopMeter=p},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NOOP_METER_PROVIDER=r.NoopMeterProvider=void 0;const n=e("./NoopMeter");class o{getMeter(e,t,r){return n.NOOP_METER}}r.NoopMeterProvider=o;r.NOOP_METER_PROVIDER=new o},{"./NoopMeter":24}],26:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});r._globalThis=void 0;r._globalThis=typeof globalThis==="object"?globalThis:typeof self==="object"?self:typeof window==="object"?window:typeof e==="object"?e:{}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],27:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./globalThis"),r)},{"./globalThis":26}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.propagation=void 0;const n=e("./api/propagation");r.propagation=n.PropagationAPI.getInstance()},{"./api/propagation":5}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NoopTextMapPropagator=void 0;class n{inject(e,t){}extract(e,t){return e}fields(){return[]}}r.NoopTextMapPropagator=n},{}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.defaultTextMapSetter=r.defaultTextMapGetter=void 0;r.defaultTextMapGetter={get(e,t){if(e==null){return undefined}return e[t]},keys(e){if(e==null){return[]}return Object.keys(e)}};r.defaultTextMapSetter={set(e,t,r){if(e==null){return}e[t]=r}}},{}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.trace=void 0;const n=e("./api/trace");r.trace=n.TraceAPI.getInstance()},{"./api/trace":6}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NonRecordingSpan=void 0;const n=e("./invalid-span-constants");class o{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return false}recordException(e,t){}}r.NonRecordingSpan=o},{"./invalid-span-constants":42}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NoopTracer=void 0;const n=e("../api/context");const o=e("../trace/context-utils");const i=e("./NonRecordingSpan");const s=e("./spancontext-utils");const a=n.ContextAPI.getInstance();class c{startSpan(e,t,r=a.active()){const n=Boolean(t===null||t===void 0?void 0:t.root);if(n){return new i.NonRecordingSpan}const c=r&&(0,o.getSpanContext)(r);if(u(c)&&(0,s.isSpanContextValid)(c)){return new i.NonRecordingSpan(c)}else{return new i.NonRecordingSpan}}startActiveSpan(e,t,r,n){let i;let s;let c;if(arguments.length<2){return}else if(arguments.length===2){c=t}else if(arguments.length===3){i=t;c=r}else{i=t;s=r;c=n}const u=s!==null&&s!==void 0?s:a.active();const l=this.startSpan(e,i,u);const d=(0,o.setSpan)(u,l);return a.with(d,c,undefined,l)}}r.NoopTracer=c;function u(e){return typeof e==="object"&&typeof e["spanId"]==="string"&&typeof e["traceId"]==="string"&&typeof e["traceFlags"]==="number"}},{"../api/context":2,"../trace/context-utils":38,"./NonRecordingSpan":32,"./spancontext-utils":44}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NoopTracerProvider=void 0;const n=e("./NoopTracer");class o{getTracer(e,t,r){return new n.NoopTracer}}r.NoopTracerProvider=o},{"./NoopTracer":33}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ProxyTracer=void 0;const n=e("./NoopTracer");const o=new n.NoopTracer;class i{constructor(e,t,r,n){this._provider=e;this.name=t;this.version=r;this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)}_getTracer(){if(this._delegate){return this._delegate}const e=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!e){return o}this._delegate=e;return this._delegate}}r.ProxyTracer=i},{"./NoopTracer":33}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ProxyTracerProvider=void 0;const n=e("./ProxyTracer");const o=e("./NoopTracerProvider");const i=new o.NoopTracerProvider;class s{getTracer(e,t,r){var o;return(o=this.getDelegateTracer(e,t,r))!==null&&o!==void 0?o:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return(n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,t,r)}}r.ProxyTracerProvider=s},{"./NoopTracerProvider":34,"./ProxyTracer":35}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SamplingDecision=void 0;var n;(function(e){e[e["NOT_RECORD"]=0]="NOT_RECORD";e[e["RECORD"]=1]="RECORD";e[e["RECORD_AND_SAMPLED"]=2]="RECORD_AND_SAMPLED"})(n=r.SamplingDecision||(r.SamplingDecision={}))},{}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getSpanContext=r.setSpanContext=r.deleteSpan=r.setSpan=r.getActiveSpan=r.getSpan=void 0;const n=e("../context/context");const o=e("./NonRecordingSpan");const i=e("../api/context");const s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||undefined}r.getSpan=a;function c(){return a(i.ContextAPI.getInstance().active())}r.getActiveSpan=c;function u(e,t){return e.setValue(s,t)}r.setSpan=u;function l(e){return e.deleteValue(s)}r.deleteSpan=l;function d(e,t){return u(e,new o.NonRecordingSpan(t))}r.setSpanContext=d;function p(e){var t;return(t=a(e))===null||t===void 0?void 0:t.spanContext()}r.getSpanContext=p},{"../api/context":2,"../context/context":13,"./NonRecordingSpan":32}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceStateImpl=void 0;const n=e("./tracestate-validators");const o=32;const i=512;const s=",";const a="=";class c{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+a+this.get(t));return e}),[]).join(s)}_parse(e){if(e.length>i)return;this._internalState=e.split(s).reverse().reduce(((e,t)=>{const r=t.trim();const o=r.indexOf(a);if(o!==-1){const i=r.slice(0,o);const s=r.slice(o+1,t.length);if((0,n.validateKey)(i)&&(0,n.validateValue)(s)){e.set(i,s)}else{}}return e}),new Map);if(this._internalState.size>o){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,o))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new c;e._internalState=new Map(this._internalState);return e}}r.TraceStateImpl=c},{"./tracestate-validators":40}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.validateValue=r.validateKey=void 0;const n="[_0-9a-z-*/]";const o=`[a-z]${n}{0,255}`;const i=`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`;const s=new RegExp(`^(?:${o}|${i})$`);const a=/^[ -~]{0,255}[!-~]$/;const c=/,|=/;function u(e){return s.test(e)}r.validateKey=u;function l(e){return a.test(e)&&!c.test(e)}r.validateValue=l},{}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createTraceState=void 0;const n=e("./tracestate-impl");function o(e){return new n.TraceStateImpl(e)}r.createTraceState=o},{"./tracestate-impl":39}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=void 0;const n=e("./trace_flags");r.INVALID_SPANID="0000000000000000";r.INVALID_TRACEID="00000000000000000000000000000000";r.INVALID_SPAN_CONTEXT={traceId:r.INVALID_TRACEID,spanId:r.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},{"./trace_flags":46}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SpanKind=void 0;var n;(function(e){e[e["INTERNAL"]=0]="INTERNAL";e[e["SERVER"]=1]="SERVER";e[e["CLIENT"]=2]="CLIENT";e[e["PRODUCER"]=3]="PRODUCER";e[e["CONSUMER"]=4]="CONSUMER"})(n=r.SpanKind||(r.SpanKind={}))},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.wrapSpanContext=r.isSpanContextValid=r.isValidSpanId=r.isValidTraceId=void 0;const n=e("./invalid-span-constants");const o=e("./NonRecordingSpan");const i=/^([0-9a-f]{32})$/i;const s=/^[0-9a-f]{16}$/i;function a(e){return i.test(e)&&e!==n.INVALID_TRACEID}r.isValidTraceId=a;function c(e){return s.test(e)&&e!==n.INVALID_SPANID}r.isValidSpanId=c;function u(e){return a(e.traceId)&&c(e.spanId)}r.isSpanContextValid=u;function l(e){return new o.NonRecordingSpan(e)}r.wrapSpanContext=l},{"./NonRecordingSpan":32,"./invalid-span-constants":42}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SpanStatusCode=void 0;var n;(function(e){e[e["UNSET"]=0]="UNSET";e[e["OK"]=1]="OK";e[e["ERROR"]=2]="ERROR"})(n=r.SpanStatusCode||(r.SpanStatusCode={}))},{}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceFlags=void 0;var n;(function(e){e[e["NONE"]=0]="NONE";e[e["SAMPLED"]=1]="SAMPLED"})(n=r.TraceFlags||(r.TraceFlags={}))},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="1.7.0"},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExportResultCode=void 0;var n;(function(e){e[e["SUCCESS"]=0]="SUCCESS";e[e["FAILED"]=1]="FAILED"})(n=r.ExportResultCode||(r.ExportResultCode={}))},{}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BAGGAGE_MAX_TOTAL_LENGTH=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=r.BAGGAGE_MAX_NAME_VALUE_PAIRS=r.BAGGAGE_HEADER=r.BAGGAGE_ITEMS_SEPARATOR=r.BAGGAGE_PROPERTIES_SEPARATOR=r.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;r.BAGGAGE_KEY_PAIR_SEPARATOR="=";r.BAGGAGE_PROPERTIES_SEPARATOR=";";r.BAGGAGE_ITEMS_SEPARATOR=",";r.BAGGAGE_HEADER="baggage";r.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;r.BAGGAGE_MAX_TOTAL_LENGTH=8192},{}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.W3CBaggagePropagator=void 0;const n=e("@opentelemetry/api");const o=e("../../trace/suppress-tracing");const i=e("../constants");const s=e("../utils");class a{inject(e,t,r){const a=n.propagation.getBaggage(e);if(!a||(0,o.isTracingSuppressed)(e))return;const c=(0,s.getKeyPairs)(a).filter((e=>e.length<=i.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,i.BAGGAGE_MAX_NAME_VALUE_PAIRS);const u=(0,s.serializeKeyPairs)(c);if(u.length>0){r.set(t,i.BAGGAGE_HEADER,u)}}extract(e,t,r){const o=r.get(t,i.BAGGAGE_HEADER);const a=Array.isArray(o)?o.join(i.BAGGAGE_ITEMS_SEPARATOR):o;if(!a)return e;const c={};if(a.length===0){return e}const u=a.split(i.BAGGAGE_ITEMS_SEPARATOR);u.forEach((e=>{const t=(0,s.parsePairKeyValue)(e);if(t){const e={value:t.value};if(t.metadata){e.metadata=t.metadata}c[t.key]=e}}));if(Object.entries(c).length===0){return e}return n.propagation.setBaggage(e,n.propagation.createBaggage(c))}fields(){return[i.BAGGAGE_HEADER]}}r.W3CBaggagePropagator=a},{"../../trace/suppress-tracing":78,"../constants":49,"../utils":51,"@opentelemetry/api":19}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.parseKeyPairsIntoRecord=r.parsePairKeyValue=r.getKeyPairs=r.serializeKeyPairs=void 0;const n=e("@opentelemetry/api");const o=e("./constants");function i(e){return e.reduce(((e,t)=>{const r=`${e}${e!==""?o.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>o.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")}r.serializeKeyPairs=i;function s(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;if(t.metadata!==undefined){r+=o.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()}return r}))}r.getKeyPairs=s;function a(e){const t=e.split(o.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const i=r.indexOf(o.BAGGAGE_KEY_PAIR_SEPARATOR);if(i<=0)return;const s=decodeURIComponent(r.substring(0,i).trim());const a=decodeURIComponent(r.substring(i+1).trim());let c;if(t.length>0){c=(0,n.baggageEntryMetadataFromString)(t.join(o.BAGGAGE_PROPERTIES_SEPARATOR))}return{key:s,value:a,metadata:c}}r.parsePairKeyValue=a;function c(e){if(typeof e!=="string"||e.length===0)return{};return e.split(o.BAGGAGE_ITEMS_SEPARATOR).map((e=>a(e))).filter((e=>e!==undefined&&e.value.length>0)).reduce(((e,t)=>{e[t.key]=t.value;return e}),{})}r.parseKeyPairsIntoRecord=c},{"./constants":49,"@opentelemetry/api":19}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AnchoredClock=void 0;class n{constructor(e,t){this._monotonicClock=t;this._epochMillis=e.now();this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}r.AnchoredClock=n},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isAttributeValue=r.isAttributeKey=r.sanitizeAttributes=void 0;const n=e("@opentelemetry/api");function o(e){const t={};if(typeof e!=="object"||e==null){return t}for(const[r,o]of Object.entries(e)){if(!i(r)){n.diag.warn(`Invalid attribute key: ${r}`);continue}if(!s(o)){n.diag.warn(`Invalid attribute value set for key: ${r}`);continue}if(Array.isArray(o)){t[r]=o.slice()}else{t[r]=o}}return t}r.sanitizeAttributes=o;function i(e){return typeof e==="string"&&e.length>0}r.isAttributeKey=i;function s(e){if(e==null){return true}if(Array.isArray(e)){return a(e)}return c(e)}r.isAttributeValue=s;function a(e){let t;for(const r of e){if(r==null)continue;if(!t){if(c(r)){t=typeof r;continue}return false}if(typeof r===t){continue}return false}return true}function c(e){switch(typeof e){case"number":case"boolean":case"string":return true}return false}},{"@opentelemetry/api":19}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.globalErrorHandler=r.setGlobalErrorHandler=void 0;const n=e("./logging-error-handler");let o=(0,n.loggingErrorHandler)();function i(e){o=e}r.setGlobalErrorHandler=i;function s(e){try{o(e)}catch(e){}}r.globalErrorHandler=s},{"./logging-error-handler":55}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.loggingErrorHandler=void 0;const n=e("@opentelemetry/api");function o(){return e=>{n.diag.error(i(e))}}r.loggingErrorHandler=o;function i(e){if(typeof e==="string"){return e}else{return JSON.stringify(s(e))}}function s(e){const t={};let r=e;while(r!==null){Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];if(n){t[e]=String(n)}}));r=Object.getPrototypeOf(r)}return t}},{"@opentelemetry/api":19}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.addHrTimes=r.isTimeInput=r.isTimeInputHrTime=r.hrTimeToMicroseconds=r.hrTimeToMilliseconds=r.hrTimeToNanoseconds=r.hrTimeToTimeStamp=r.hrTimeDuration=r.timeInputToHrTime=r.hrTime=r.getTimeOrigin=r.millisToHrTime=void 0;const n=e("../platform");const o=9;const i=6;const s=Math.pow(10,i);const a=Math.pow(10,o);function c(e){const t=e/1e3;const r=Math.trunc(t);const n=Math.round(e%1e3*s);return[r,n]}r.millisToHrTime=c;function u(){let e=n.otperformance.timeOrigin;if(typeof e!=="number"){const t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}r.getTimeOrigin=u;function l(e){const t=c(u());const r=c(typeof e==="number"?e:n.otperformance.now());return g(t,r)}r.hrTime=l;function d(e){if(_(e)){return e}else if(typeof e==="number"){if(e<u()){return l(e)}else{return c(e)}}else if(e instanceof Date){return c(e.getTime())}else{throw TypeError("Invalid input type")}}r.timeInputToHrTime=d;function p(e,t){let r=t[0]-e[0];let n=t[1]-e[1];if(n<0){r-=1;n+=a}return[r,n]}r.hrTimeDuration=p;function f(e){const t=o;const r=`${"0".repeat(t)}${e[1]}Z`;const n=r.substr(r.length-t-1);const i=new Date(e[0]*1e3).toISOString();return i.replace("000Z",n)}r.hrTimeToTimeStamp=f;function m(e){return e[0]*a+e[1]}r.hrTimeToNanoseconds=m;function h(e){return e[0]*1e3+e[1]/1e6}r.hrTimeToMilliseconds=h;function E(e){return e[0]*1e6+e[1]/1e3}r.hrTimeToMicroseconds=E;function _(e){return Array.isArray(e)&&e.length===2&&typeof e[0]==="number"&&typeof e[1]==="number"}r.isTimeInputHrTime=_;function S(e){return _(e)||typeof e==="number"||e instanceof Date}r.isTimeInput=S;function g(e,t){const r=[e[0]+t[0],e[1]+t[1]];if(r[1]>=a){r[1]-=a;r[0]+=1}return r}r.addHrTimes=g},{"../platform":65}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],58:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.internal=r.baggageUtils=void 0;o(e("./baggage/propagation/W3CBaggagePropagator"),r);o(e("./common/anchored-clock"),r);o(e("./common/attributes"),r);o(e("./common/global-error-handler"),r);o(e("./common/logging-error-handler"),r);o(e("./common/time"),r);o(e("./common/types"),r);o(e("./ExportResult"),r);r.baggageUtils=e("./baggage/utils");o(e("./platform"),r);o(e("./propagation/composite"),r);o(e("./trace/W3CTraceContextPropagator"),r);o(e("./trace/IdGenerator"),r);o(e("./trace/rpc-metadata"),r);o(e("./trace/sampler/AlwaysOffSampler"),r);o(e("./trace/sampler/AlwaysOnSampler"),r);o(e("./trace/sampler/ParentBasedSampler"),r);o(e("./trace/sampler/TraceIdRatioBasedSampler"),r);o(e("./trace/suppress-tracing"),r);o(e("./trace/TraceState"),r);o(e("./utils/environment"),r);o(e("./utils/merge"),r);o(e("./utils/sampling"),r);o(e("./utils/timeout"),r);o(e("./utils/url"),r);o(e("./utils/wrap"),r);o(e("./utils/callback"),r);o(e("./version"),r);const i=e("./internal/exporter");r.internal={_export:i._export}},{"./ExportResult":48,"./baggage/propagation/W3CBaggagePropagator":50,"./baggage/utils":51,"./common/anchored-clock":52,"./common/attributes":53,"./common/global-error-handler":54,"./common/logging-error-handler":55,"./common/time":56,"./common/types":57,"./internal/exporter":59,"./platform":65,"./propagation/composite":69,"./trace/IdGenerator":70,"./trace/TraceState":71,"./trace/W3CTraceContextPropagator":72,"./trace/rpc-metadata":73,"./trace/sampler/AlwaysOffSampler":74,"./trace/sampler/AlwaysOnSampler":75,"./trace/sampler/ParentBasedSampler":76,"./trace/sampler/TraceIdRatioBasedSampler":77,"./trace/suppress-tracing":78,"./utils/callback":79,"./utils/environment":80,"./utils/merge":82,"./utils/sampling":84,"./utils/timeout":85,"./utils/url":86,"./utils/wrap":87,"./version":88}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r._export=void 0;const n=e("@opentelemetry/api");const o=e("../trace/suppress-tracing");function i(e,t){return new Promise((r=>{n.context.with((0,o.suppressTracing)(n.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))}r._export=i},{"../trace/suppress-tracing":78,"@opentelemetry/api":19}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.validateValue=r.validateKey=void 0;const n="[_0-9a-z-*/]";const o=`[a-z]${n}{0,255}`;const i=`[a-z0-9]${n}{0,240}@[a-z]${n}{0,13}`;const s=new RegExp(`^(?:${o}|${i})$`);const a=/^[ -~]{0,255}[!-~]$/;const c=/,|=/;function u(e){return s.test(e)}r.validateKey=u;function l(e){return a.test(e)&&!c.test(e)}r.validateValue=l},{}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.RandomIdGenerator=void 0;const n=8;const o=16;class i{constructor(){this.generateTraceId=a(o);this.generateSpanId=a(n)}}r.RandomIdGenerator=i;const s=Array(32);function a(e){return function t(){for(let t=0;t<e*2;t++){s[t]=Math.floor(Math.random()*16)+48;if(s[t]>=58){s[t]+=39}}return String.fromCharCode.apply(null,s.slice(0,e*2))}}},{}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getEnv=void 0;const n=e("../../utils/environment");const o=e("./globalThis");function i(){const e=(0,n.parseEnvironment)(o._globalThis);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}r.getEnv=i},{"../../utils/environment":80,"./globalThis":63}],63:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});r._globalThis=void 0;r._globalThis=typeof globalThis==="object"?globalThis:typeof self==="object"?self:typeof window==="object"?window:typeof e==="object"?e:{}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hexToBase64=void 0;function n(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2);const o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)}r.hexToBase64=n},{}],65:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./environment"),r);o(e("./globalThis"),r);o(e("./hex-to-base64"),r);o(e("./RandomIdGenerator"),r);o(e("./performance"),r);o(e("./sdk-info"),r);o(e("./timer-util"),r)},{"./RandomIdGenerator":61,"./environment":62,"./globalThis":63,"./hex-to-base64":64,"./performance":66,"./sdk-info":67,"./timer-util":68}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.otperformance=void 0;r.otperformance=performance},{}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SDK_INFO=void 0;const n=e("../../version");const o=e("@opentelemetry/semantic-conventions");r.SDK_INFO={[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[o.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:o.TelemetrySdkLanguageValues.WEBJS,[o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:n.VERSION}},{"../../version":88,"@opentelemetry/semantic-conventions":438}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.unrefTimer=void 0;function n(e){}r.unrefTimer=n},{}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CompositePropagator=void 0;const n=e("@opentelemetry/api");class o{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[];this._fields=Array.from(new Set(this._propagators.map((e=>typeof e.fields==="function"?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const o of this._propagators){try{o.inject(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}}}extract(e,t,r){return this._propagators.reduce(((e,o)=>{try{return o.extract(e,t,r)}catch(e){n.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}r.CompositePropagator=o},{"@opentelemetry/api":19}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceState=void 0;const n=e("../internal/validators");const o=32;const i=512;const s=",";const a="=";class c{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+a+this.get(t));return e}),[]).join(s)}_parse(e){if(e.length>i)return;this._internalState=e.split(s).reverse().reduce(((e,t)=>{const r=t.trim();const o=r.indexOf(a);if(o!==-1){const i=r.slice(0,o);const s=r.slice(o+1,t.length);if((0,n.validateKey)(i)&&(0,n.validateValue)(s)){e.set(i,s)}else{}}return e}),new Map);if(this._internalState.size>o){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,o))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new c;e._internalState=new Map(this._internalState);return e}}r.TraceState=c},{"../internal/validators":60}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.W3CTraceContextPropagator=r.parseTraceParent=r.TRACE_STATE_HEADER=r.TRACE_PARENT_HEADER=void 0;const n=e("@opentelemetry/api");const o=e("./suppress-tracing");const i=e("./TraceState");r.TRACE_PARENT_HEADER="traceparent";r.TRACE_STATE_HEADER="tracestate";const s="00";const a="(?!ff)[\\da-f]{2}";const c="(?![0]{32})[\\da-f]{32}";const u="(?![0]{16})[\\da-f]{16}";const l="[\\da-f]{2}";const d=new RegExp(`^\\s?(${a})-(${c})-(${u})-(${l})(-.*)?\\s?$`);function p(e){const t=d.exec(e);if(!t)return null;if(t[1]==="00"&&t[5])return null;return{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}r.parseTraceParent=p;class f{inject(e,t,i){const a=n.trace.getSpanContext(e);if(!a||(0,o.isTracingSuppressed)(e)||!(0,n.isSpanContextValid)(a))return;const c=`${s}-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||n.TraceFlags.NONE).toString(16)}`;i.set(t,r.TRACE_PARENT_HEADER,c);if(a.traceState){i.set(t,r.TRACE_STATE_HEADER,a.traceState.serialize())}}extract(e,t,o){const s=o.get(t,r.TRACE_PARENT_HEADER);if(!s)return e;const a=Array.isArray(s)?s[0]:s;if(typeof a!=="string")return e;const c=p(a);if(!c)return e;c.isRemote=true;const u=o.get(t,r.TRACE_STATE_HEADER);if(u){const e=Array.isArray(u)?u.join(","):u;c.traceState=new i.TraceState(typeof e==="string"?e:undefined)}return n.trace.setSpanContext(e,c)}fields(){return[r.TRACE_PARENT_HEADER,r.TRACE_STATE_HEADER]}}r.W3CTraceContextPropagator=f},{"./TraceState":71,"./suppress-tracing":78,"@opentelemetry/api":19}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getRPCMetadata=r.deleteRPCMetadata=r.setRPCMetadata=r.RPCType=void 0;const n=e("@opentelemetry/api");const o=(0,n.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");var i;(function(e){e["HTTP"]="http"})(i=r.RPCType||(r.RPCType={}));function s(e,t){return e.setValue(o,t)}r.setRPCMetadata=s;function a(e){return e.deleteValue(o)}r.deleteRPCMetadata=a;function c(e){return e.getValue(o)}r.getRPCMetadata=c},{"@opentelemetry/api":19}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AlwaysOffSampler=void 0;const n=e("@opentelemetry/api");class o{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}r.AlwaysOffSampler=o},{"@opentelemetry/api":19}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AlwaysOnSampler=void 0;const n=e("@opentelemetry/api");class o{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}r.AlwaysOnSampler=o},{"@opentelemetry/api":19}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ParentBasedSampler=void 0;const n=e("@opentelemetry/api");const o=e("../../common/global-error-handler");const i=e("./AlwaysOffSampler");const s=e("./AlwaysOnSampler");class a{constructor(e){var t,r,n,a;this._root=e.root;if(!this._root){(0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured"));this._root=new s.AlwaysOnSampler}this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new s.AlwaysOnSampler;this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new i.AlwaysOffSampler;this._localParentSampled=(n=e.localParentSampled)!==null&&n!==void 0?n:new s.AlwaysOnSampler;this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new i.AlwaysOffSampler}shouldSample(e,t,r,o,i,s){const a=n.trace.getSpanContext(e);if(!a||!(0,n.isSpanContextValid)(a)){return this._root.shouldSample(e,t,r,o,i,s)}if(a.isRemote){if(a.traceFlags&n.TraceFlags.SAMPLED){return this._remoteParentSampled.shouldSample(e,t,r,o,i,s)}return this._remoteParentNotSampled.shouldSample(e,t,r,o,i,s)}if(a.traceFlags&n.TraceFlags.SAMPLED){return this._localParentSampled.shouldSample(e,t,r,o,i,s)}return this._localParentNotSampled.shouldSample(e,t,r,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}r.ParentBasedSampler=a},{"../../common/global-error-handler":54,"./AlwaysOffSampler":74,"./AlwaysOnSampler":75,"@opentelemetry/api":19}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceIdRatioBasedSampler=void 0;const n=e("@opentelemetry/api");class o{constructor(e=0){this._ratio=e;this._ratio=this._normalize(e);this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){if(typeof e!=="number"||isNaN(e))return 0;return e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=r*8;const o=parseInt(e.slice(n,n+8),16);t=(t^o)>>>0}return t}}r.TraceIdRatioBasedSampler=o},{"@opentelemetry/api":19}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isTracingSuppressed=r.unsuppressTracing=r.suppressTracing=void 0;const n=e("@opentelemetry/api");const o=(0,n.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(o,true)}r.suppressTracing=i;function s(e){return e.deleteValue(o)}r.unsuppressTracing=s;function a(e){return e.getValue(o)===true}r.isTracingSuppressed=a},{"@opentelemetry/api":19}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BindOnceFuture=void 0;const n=e("./promise");class o{constructor(e,t){this._callback=e;this._that=t;this._isCalled=false;this._deferred=new n.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=true;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}}r.BindOnceFuture=o},{"./promise":83}],80:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getEnvWithoutDefaults=r.parseEnvironment=r.DEFAULT_ENVIRONMENT=r.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=r.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=r.DEFAULT_ATTRIBUTE_COUNT_LIMIT=r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const n=e("@opentelemetry/api");const o=e("./sampling");const i=e("../platform/browser/globalThis");const s=",";const a=["OTEL_SDK_DISABLED"];function c(e){return a.indexOf(e)>-1}const u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function l(e){return u.indexOf(e)>-1}const d=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function p(e){return d.indexOf(e)>-1}r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;r.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;r.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;r.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;r.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:false,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:r.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:r.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:r.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:r.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:r.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:r.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function f(e,t,r){if(typeof r[e]==="undefined"){return}const n=String(r[e]);t[e]=n.toLowerCase()==="true"}function m(e,t,r,n=-Infinity,o=Infinity){if(typeof r[e]!=="undefined"){const i=Number(r[e]);if(!isNaN(i)){if(i<n){t[e]=n}else if(i>o){t[e]=o}else{t[e]=i}}}}function h(e,t,r,n=s){const o=r[e];if(typeof o==="string"){t[e]=o.split(n).map((e=>e.trim()))}}const E={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function _(e,t,r){const n=r[e];if(typeof n==="string"){const r=E[n.toUpperCase()];if(r!=null){t[e]=r}}}function S(e){const t={};for(const n in r.DEFAULT_ENVIRONMENT){const r=n;switch(r){case"OTEL_LOG_LEVEL":_(r,t,e);break;default:if(c(r)){f(r,t,e)}else if(l(r)){m(r,t,e)}else if(p(r)){h(r,t,e)}else{const n=e[r];if(typeof n!=="undefined"&&n!==null){t[r]=String(n)}}}}return t}r.parseEnvironment=S;function g(){return typeof t!=="undefined"&&t&&t.env?S(t.env):S(i._globalThis)}r.getEnvWithoutDefaults=g}).call(this)}).call(this,e("_process"))},{"../platform/browser/globalThis":63,"./sampling":84,"@opentelemetry/api":19,_process:447}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isPlainObject=void 0;const n="[object Object]";const o="[object Null]";const i="[object Undefined]";const s=Function.prototype;const a=s.toString;const c=a.call(Object);const u=m(Object.getPrototypeOf,Object);const l=Object.prototype;const d=l.hasOwnProperty;const p=Symbol?Symbol.toStringTag:undefined;const f=l.toString;function m(e,t){return function(r){return e(t(r))}}function h(e){if(!E(e)||_(e)!==n){return false}const t=u(e);if(t===null){return true}const r=d.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&a.call(r)===c}r.isPlainObject=h;function E(e){return e!=null&&typeof e=="object"}function _(e){if(e==null){return e===undefined?i:o}return p&&p in Object(e)?S(e):g(e)}function S(e){const t=d.call(e,p),r=e[p];let n=false;try{e[p]=undefined;n=true}catch(e){}const o=f.call(e);if(n){if(t){e[p]=r}else{delete e[p]}}return o}function g(e){return f.call(e)}},{}],82:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.merge=void 0;const n=e("./lodash.merge");const o=20;function i(...e){let t=e.shift();const r=new WeakMap;while(e.length>0){t=a(t,e.shift(),0,r)}return t}r.merge=i;function s(e){if(u(e)){return e.slice()}return e}function a(e,t,r=0,n){let i;if(r>o){return undefined}r++;if(p(e)||p(t)||l(t)){i=s(t)}else if(u(e)){i=e.slice();if(u(t)){for(let e=0,r=t.length;e<r;e++){i.push(s(t[e]))}}else if(d(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];i[n]=s(t[n])}}}else if(d(e)){if(d(t)){if(!f(e,t)){return t}i=Object.assign({},e);const o=Object.keys(t);for(let s=0,u=o.length;s<u;s++){const u=o[s];const l=t[u];if(p(l)){if(typeof l==="undefined"){delete i[u]}else{i[u]=l}}else{const o=i[u];const s=l;if(c(e,u,n)||c(t,u,n)){delete i[u]}else{if(d(o)&&d(s)){const r=n.get(o)||[];const i=n.get(s)||[];r.push({obj:e,key:u});i.push({obj:t,key:u});n.set(o,r);n.set(s,i)}i[u]=a(i[u],l,r,n)}}}}else{i=t}}return i}function c(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e){return true}}return false}function u(e){return Array.isArray(e)}function l(e){return typeof e==="function"}function d(e){return!p(e)&&!u(e)&&!l(e)&&typeof e==="object"}function p(e){return typeof e==="string"||typeof e==="number"||typeof e==="boolean"||typeof e==="undefined"||e instanceof Date||e instanceof RegExp||e===null}function f(e,t){if(!(0,n.isPlainObject)(e)||!(0,n.isPlainObject)(t)){return false}return true}},{"./lodash.merge":81}],83:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Deferred=void 0;class n{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e;this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}r.Deferred=n},{}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TracesSamplerValues=void 0;var n;(function(e){e["AlwaysOff"]="always_off";e["AlwaysOn"]="always_on";e["ParentBasedAlwaysOff"]="parentbased_always_off";e["ParentBasedAlwaysOn"]="parentbased_always_on";e["ParentBasedTraceIdRatio"]="parentbased_traceidratio";e["TraceIdRatio"]="traceidratio"})(n=r.TracesSamplerValues||(r.TracesSamplerValues={}))},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.callWithTimeout=r.TimeoutError=void 0;class n extends Error{constructor(e){super(e);Object.setPrototypeOf(this,n.prototype)}}r.TimeoutError=n;function o(e,t){let r;const o=new Promise((function e(o,i){r=setTimeout((function e(){i(new n("Operation timed out."))}),t)}));return Promise.race([e,o]).then((e=>{clearTimeout(r);return e}),(e=>{clearTimeout(r);throw e}))}r.callWithTimeout=o},{}],86:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isUrlIgnored=r.urlMatches=void 0;function n(e,t){if(typeof t==="string"){return e===t}else{return!!e.match(t)}}r.urlMatches=n;function o(e,t){if(!t){return false}for(const r of t){if(n(e,r)){return true}}return false}r.isUrlIgnored=o},{}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isWrapped=void 0;function n(e){return typeof e==="function"&&typeof e.__original==="function"&&typeof e.__unwrap==="function"&&e.__wrapped===true}r.isWrapped=n},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="1.19.0"},{}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPMetricExporterBase=r.LowMemoryTemporalitySelector=r.DeltaTemporalitySelector=r.CumulativeTemporalitySelector=void 0;const n=e("@opentelemetry/core");const o=e("@opentelemetry/sdk-metrics");const i=e("./OTLPMetricExporterOptions");const s=e("@opentelemetry/api");const a=()=>o.AggregationTemporality.CUMULATIVE;r.CumulativeTemporalitySelector=a;const c=e=>{switch(e){case o.InstrumentType.COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.HISTOGRAM:case o.InstrumentType.OBSERVABLE_GAUGE:return o.AggregationTemporality.DELTA;case o.InstrumentType.UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return o.AggregationTemporality.CUMULATIVE}};r.DeltaTemporalitySelector=c;const u=e=>{switch(e){case o.InstrumentType.COUNTER:case o.InstrumentType.HISTOGRAM:return o.AggregationTemporality.DELTA;case o.InstrumentType.UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.OBSERVABLE_GAUGE:return o.AggregationTemporality.CUMULATIVE}};r.LowMemoryTemporalitySelector=u;function l(){const e=(0,n.getEnv)();const t=e.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE.trim().toLowerCase();if(t==="cumulative"){return r.CumulativeTemporalitySelector}if(t==="delta"){return r.DeltaTemporalitySelector}if(t==="lowmemory"){return r.LowMemoryTemporalitySelector}s.diag.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${e.OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`);return r.CumulativeTemporalitySelector}function d(e){if(e!=null){if(e===i.AggregationTemporalityPreference.DELTA){return r.DeltaTemporalitySelector}else if(e===i.AggregationTemporalityPreference.LOWMEMORY){return r.LowMemoryTemporalitySelector}return r.CumulativeTemporalitySelector}return l()}class p{constructor(e,t){this._otlpExporter=e;this._aggregationTemporalitySelector=d(t===null||t===void 0?void 0:t.temporalityPreference)}export(e,t){this._otlpExporter.export([e],t)}async shutdown(){await this._otlpExporter.shutdown()}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}}r.OTLPMetricExporterBase=p},{"./OTLPMetricExporterOptions":90,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/sdk-metrics":383}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AggregationTemporalityPreference=void 0;var n;(function(e){e[e["DELTA"]=0]="DELTA";e[e["CUMULATIVE"]=1]="CUMULATIVE";e[e["LOWMEMORY"]=2]="LOWMEMORY"})(n=r.AggregationTemporalityPreference||(r.AggregationTemporalityPreference={}))},{}],91:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./platform"),r);o(e("./OTLPMetricExporterOptions"),r);o(e("./OTLPMetricExporterBase"),r)},{"./OTLPMetricExporterBase":89,"./OTLPMetricExporterOptions":90,"./platform":93}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPMetricExporter=void 0;const n=e("@opentelemetry/core");const o=e("../../OTLPMetricExporterBase");const i=e("@opentelemetry/otlp-exporter-base");const s=e("@opentelemetry/otlp-transformer");const a="v1/metrics";const c=`http://localhost:4318/${a}`;class u extends i.OTLPExporterBrowserBase{constructor(e){super(e);this._headers=Object.assign(this._headers,n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_METRICS_HEADERS))}getDefaultUrl(e){return typeof e.url==="string"?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_METRICS_ENDPOINT.length>0?(0,i.appendRootPathToUrlIfNeeded)((0,n.getEnv)().OTEL_EXPORTER_OTLP_METRICS_ENDPOINT):(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,i.appendResourcePathToUrl)((0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,a):c}convert(e){return(0,s.createExportMetricsServiceRequest)(e,{useLongBits:false})}}class l extends o.OTLPMetricExporterBase{constructor(e){super(new u(e),e)}}r.OTLPMetricExporter=l},{"../../OTLPMetricExporterBase":89,"@opentelemetry/core":58,"@opentelemetry/otlp-exporter-base":309,"@opentelemetry/otlp-transformer":318}],93:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./OTLPMetricExporter"),r)},{"./OTLPMetricExporter":92}],94:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./platform"),r)},{"./platform":96}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPTraceExporter=void 0;const n=e("@opentelemetry/core");const o=e("@opentelemetry/otlp-exporter-base");const i=e("@opentelemetry/otlp-transformer");const s="v1/traces";const a=`http://localhost:4318/${s}`;class c extends o.OTLPExporterBrowserBase{constructor(e={}){super(e);this._headers=Object.assign(this._headers,n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,i.createExportTraceServiceRequest)(e,{useHex:true,useLongBits:false})}getDefaultUrl(e){return typeof e.url==="string"?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,o.appendRootPathToUrlIfNeeded)((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,o.appendResourcePathToUrl)((0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,s):a}}r.OTLPTraceExporter=c},{"@opentelemetry/core":58,"@opentelemetry/otlp-exporter-base":309,"@opentelemetry/otlp-transformer":318}],96:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./OTLPTraceExporter"),r)},{"./OTLPTraceExporter":95}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AttributeNames=void 0;var n;(function(e){e["DOCUMENT_LOAD"]="documentLoad";e["DOCUMENT_FETCH"]="documentFetch";e["RESOURCE_FETCH"]="resourceFetch"})(n=r.AttributeNames||(r.AttributeNames={}))},{}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.EventNames=void 0;var n;(function(e){e["FIRST_PAINT"]="firstPaint";e["FIRST_CONTENTFUL_PAINT"]="firstContentfulPaint"})(n=r.EventNames||(r.EventNames={}))},{}],99:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./instrumentation"),r);o(e("./enums/AttributeNames"),r);o(e("./types"),r)},{"./enums/AttributeNames":97,"./instrumentation":100,"./types":101}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DocumentLoadInstrumentation=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("@opentelemetry/sdk-trace-web");const s=e("@opentelemetry/instrumentation");const a=e("./enums/AttributeNames");const c=e("./version");const u=e("@opentelemetry/semantic-conventions");const l=e("./utils");class d extends s.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-document-load",c.VERSION,e);this.component="document-load";this.version="1";this.moduleName=this.component}init(){}_onDocumentLoaded(){window.setTimeout((()=>{this._collectPerformance()}))}_addResourcesSpans(e){var t,r;const n=(r=(t=o.otperformance).getEntriesByType)===null||r===void 0?void 0:r.call(t,"resource");if(n){n.forEach((t=>{this._initResourceSpan(t,e)}))}}_collectPerformance(){const e=Array.from(document.getElementsByTagName("meta")).find((e=>e.getAttribute("name")===o.TRACE_PARENT_HEADER));const t=(0,l.getPerformanceNavigationEntries)();const r=e&&e.content||"";n.context.with(n.propagation.extract(n.ROOT_CONTEXT,{traceparent:r}),(()=>{var e;const r=this._startSpan(a.AttributeNames.DOCUMENT_LOAD,i.PerformanceTimingNames.FETCH_START,t);if(!r){return}n.context.with(n.trace.setSpan(n.context.active(),r),(()=>{const e=this._startSpan(a.AttributeNames.DOCUMENT_FETCH,i.PerformanceTimingNames.FETCH_START,t);if(e){e.setAttribute(u.SEMATTRS_HTTP_URL,location.href);n.context.with(n.trace.setSpan(n.context.active(),e),(()=>{var r;(0,i.addSpanNetworkEvents)(e,t);this._addCustomAttributesOnSpan(e,(r=this._getConfig().applyCustomAttributesOnSpan)===null||r===void 0?void 0:r.documentFetch);this._endSpan(e,i.PerformanceTimingNames.RESPONSE_END,t)}))}}));r.setAttribute(u.SEMATTRS_HTTP_URL,location.href);r.setAttribute(u.SEMATTRS_HTTP_USER_AGENT,navigator.userAgent);this._addResourcesSpans(r);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.FETCH_START,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.UNLOAD_EVENT_START,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.UNLOAD_EVENT_END,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.DOM_INTERACTIVE,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_START,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_END,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.DOM_COMPLETE,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.LOAD_EVENT_START,t);(0,i.addSpanNetworkEvent)(r,i.PerformanceTimingNames.LOAD_EVENT_END,t);(0,l.addSpanPerformancePaintEvents)(r);this._addCustomAttributesOnSpan(r,(e=this._getConfig().applyCustomAttributesOnSpan)===null||e===void 0?void 0:e.documentLoad);this._endSpan(r,i.PerformanceTimingNames.LOAD_EVENT_END,t)}))}_endSpan(e,t,r){if(e){if((0,i.hasKey)(r,t)){e.end(r[t])}else{e.end()}}}_initResourceSpan(e,t){var r;const n=this._startSpan(a.AttributeNames.RESOURCE_FETCH,i.PerformanceTimingNames.FETCH_START,e,t);if(n){n.setAttribute(u.SEMATTRS_HTTP_URL,e.name);(0,i.addSpanNetworkEvents)(n,e);this._addCustomAttributesOnResourceSpan(n,e,(r=this._getConfig().applyCustomAttributesOnSpan)===null||r===void 0?void 0:r.resourceFetch);this._endSpan(n,i.PerformanceTimingNames.RESPONSE_END,e)}}_startSpan(e,t,r,o){if((0,i.hasKey)(r,t)&&typeof r[t]==="number"){const i=this.tracer.startSpan(e,{startTime:r[t]},o?n.trace.setSpan(n.context.active(),o):undefined);return i}return undefined}_waitForPageLoad(){if(window.document.readyState==="complete"){this._onDocumentLoaded()}else{this._onDocumentLoaded=this._onDocumentLoaded.bind(this);window.addEventListener("load",this._onDocumentLoaded)}}_getConfig(){return this._config}_addCustomAttributesOnSpan(e,t){if(t){(0,s.safeExecuteInTheMiddle)((()=>t(e)),(e=>{if(!e){return}this._diag.error("addCustomAttributesOnSpan",e)}),true)}}_addCustomAttributesOnResourceSpan(e,t,r){if(r){(0,s.safeExecuteInTheMiddle)((()=>r(e,t)),(e=>{if(!e){return}this._diag.error("addCustomAttributesOnResourceSpan",e)}),true)}}enable(){window.removeEventListener("load",this._onDocumentLoaded);this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}}r.DocumentLoadInstrumentation=d},{"./enums/AttributeNames":97,"./utils":102,"./version":103,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/instrumentation":118,"@opentelemetry/sdk-trace-web":435,"@opentelemetry/semantic-conventions":128}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.addSpanPerformancePaintEvents=r.getPerformanceNavigationEntries=void 0;const n=e("@opentelemetry/core");const o=e("@opentelemetry/sdk-trace-web");const i=e("./enums/EventNames");const s=()=>{var e,t;const r={};const i=(t=(e=n.otperformance).getEntriesByType)===null||t===void 0?void 0:t.call(e,"navigation")[0];if(i){const e=Object.values(o.PerformanceTimingNames);e.forEach((e=>{if((0,o.hasKey)(i,e)){const t=i[e];if(typeof t==="number"){r[e]=t}}}))}else{const e=n.otperformance;const t=e.timing;if(t){const e=Object.values(o.PerformanceTimingNames);e.forEach((e=>{if((0,o.hasKey)(t,e)){const n=t[e];if(typeof n==="number"){r[e]=n}}}))}}return r};r.getPerformanceNavigationEntries=s;const a={"first-paint":i.EventNames.FIRST_PAINT,"first-contentful-paint":i.EventNames.FIRST_CONTENTFUL_PAINT};const c=e=>{var t,r;const i=(r=(t=n.otperformance).getEntriesByType)===null||r===void 0?void 0:r.call(t,"paint");if(i){i.forEach((({name:t,startTime:r})=>{if((0,o.hasKey)(a,t)){e.addEvent(a[t],r)}}))}};r.addSpanPerformancePaintEvents=c},{"./enums/EventNames":98,"@opentelemetry/core":58,"@opentelemetry/sdk-trace-web":435}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="0.38.0"},{}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NOOP_LOGGER=r.NoopLogger=void 0;class n{emit(e){}}r.NoopLogger=n;r.NOOP_LOGGER=new n},{}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NOOP_LOGGER_PROVIDER=r.NoopLoggerProvider=void 0;const n=e("./NoopLogger");class o{getLogger(e,t,r){return new n.NoopLogger}}r.NoopLoggerProvider=o;r.NOOP_LOGGER_PROVIDER=new o},{"./NoopLogger":104}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LogsAPI=void 0;const n=e("../internal/global-utils");const o=e("../NoopLoggerProvider");class i{constructor(){}static getInstance(){if(!this._instance){this._instance=new i}return this._instance}setGlobalLoggerProvider(e){if(n._global[n.GLOBAL_LOGS_API_KEY]){return this.getLoggerProvider()}n._global[n.GLOBAL_LOGS_API_KEY]=(0,n.makeGetter)(n.API_BACKWARDS_COMPATIBILITY_VERSION,e,o.NOOP_LOGGER_PROVIDER);return e}getLoggerProvider(){var e,t;return(t=(e=n._global[n.GLOBAL_LOGS_API_KEY])===null||e===void 0?void 0:e.call(n._global,n.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&t!==void 0?t:o.NOOP_LOGGER_PROVIDER}getLogger(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)}disable(){delete n._global[n.GLOBAL_LOGS_API_KEY]}}r.LogsAPI=i},{"../NoopLoggerProvider":105,"../internal/global-utils":108}],107:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.logs=void 0;o(e("./types/Logger"),r);o(e("./types/LoggerProvider"),r);o(e("./types/LogRecord"),r);o(e("./types/LoggerOptions"),r);o(e("./types/AnyValue"),r);o(e("./NoopLogger"),r);o(e("./NoopLoggerProvider"),r);const i=e("./api/logs");r.logs=i.LogsAPI.getInstance()},{"./NoopLogger":104,"./NoopLoggerProvider":105,"./api/logs":106,"./types/AnyValue":111,"./types/LogRecord":112,"./types/Logger":113,"./types/LoggerOptions":114,"./types/LoggerProvider":115}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.API_BACKWARDS_COMPATIBILITY_VERSION=r.makeGetter=r._global=r.GLOBAL_LOGS_API_KEY=void 0;const n=e("../platform");r.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");r._global=n._globalThis;function o(e,t,r){return n=>n===e?t:r}r.makeGetter=o;r.API_BACKWARDS_COMPATIBILITY_VERSION=1},{"../platform":110}],109:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});r._globalThis=void 0;r._globalThis=typeof globalThis==="object"?globalThis:typeof self==="object"?self:typeof window==="object"?window:typeof e==="object"?e:{}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],110:[function(e,t,r){arguments[4][27][0].apply(r,arguments)},{"./globalThis":109,dup:27}],111:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SeverityNumber=void 0;var n;(function(e){e[e["UNSPECIFIED"]=0]="UNSPECIFIED";e[e["TRACE"]=1]="TRACE";e[e["TRACE2"]=2]="TRACE2";e[e["TRACE3"]=3]="TRACE3";e[e["TRACE4"]=4]="TRACE4";e[e["DEBUG"]=5]="DEBUG";e[e["DEBUG2"]=6]="DEBUG2";e[e["DEBUG3"]=7]="DEBUG3";e[e["DEBUG4"]=8]="DEBUG4";e[e["INFO"]=9]="INFO";e[e["INFO2"]=10]="INFO2";e[e["INFO3"]=11]="INFO3";e[e["INFO4"]=12]="INFO4";e[e["WARN"]=13]="WARN";e[e["WARN2"]=14]="WARN2";e[e["WARN3"]=15]="WARN3";e[e["WARN4"]=16]="WARN4";e[e["ERROR"]=17]="ERROR";e[e["ERROR2"]=18]="ERROR2";e[e["ERROR3"]=19]="ERROR3";e[e["ERROR4"]=20]="ERROR4";e[e["FATAL"]=21]="FATAL";e[e["FATAL2"]=22]="FATAL2";e[e["FATAL3"]=23]="FATAL3";e[e["FATAL4"]=24]="FATAL4"})(n=r.SeverityNumber||(r.SeverityNumber={}))},{}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.registerInstrumentations=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/api-logs");const i=e("./autoLoaderUtils");function s(e){const{instrumentations:t}=(0,i.parseInstrumentationOptions)(e.instrumentations);const r=e.tracerProvider||n.trace.getTracerProvider();const s=e.meterProvider||n.metrics.getMeterProvider();const a=e.loggerProvider||o.logs.getLoggerProvider();(0,i.enableInstrumentations)(t,r,s,a);return()=>{(0,i.disableInstrumentations)(t)}}r.registerInstrumentations=s},{"./autoLoaderUtils":117,"@opentelemetry/api":19,"@opentelemetry/api-logs":107}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.disableInstrumentations=r.enableInstrumentations=r.parseInstrumentationOptions=void 0;function n(e=[]){let t=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];if(Array.isArray(o)){const e=n(o);t=t.concat(e.instrumentations)}else if(typeof o==="function"){t.push(new o)}else if(o.instrumentationName){t.push(o)}}return{instrumentations:t}}r.parseInstrumentationOptions=n;function o(e,t,r,n){for(let o=0,i=e.length;o<i;o++){const i=e[o];if(t){i.setTracerProvider(t)}if(r){i.setMeterProvider(r)}if(n&&i.setLoggerProvider){i.setLoggerProvider(n)}if(!i.getConfig().enabled){i.enable()}}}r.enableInstrumentations=o;function i(e){e.forEach((e=>e.disable()))}r.disableInstrumentations=i},{}],118:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleFile=r.InstrumentationNodeModuleDefinition=r.InstrumentationBase=void 0;o(e("./autoLoader"),r);var i=e("./platform/index");Object.defineProperty(r,"InstrumentationBase",{enumerable:true,get:function(){return i.InstrumentationBase}});var s=e("./instrumentationNodeModuleDefinition");Object.defineProperty(r,"InstrumentationNodeModuleDefinition",{enumerable:true,get:function(){return s.InstrumentationNodeModuleDefinition}});var a=e("./instrumentationNodeModuleFile");Object.defineProperty(r,"InstrumentationNodeModuleFile",{enumerable:true,get:function(){return a.InstrumentationNodeModuleFile}});o(e("./types"),r);o(e("./types_internal"),r);o(e("./utils"),r)},{"./autoLoader":116,"./instrumentationNodeModuleDefinition":120,"./instrumentationNodeModuleFile":121,"./platform/index":122,"./types":125,"./types_internal":126,"./utils":127}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationAbstract=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/api-logs");const i=e("shimmer");class s{constructor(e,t,r={}){this.instrumentationName=e;this.instrumentationVersion=t;this._wrap=i.wrap;this._unwrap=i.unwrap;this._massWrap=i.massWrap;this._massUnwrap=i.massUnwrap;this._config=Object.assign({enabled:true},r);this._diag=n.diag.createComponentLogger({namespace:e});this._tracer=n.trace.getTracer(e,t);this._meter=n.metrics.getMeter(e,t);this._logger=o.logs.getLogger(e,t);this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion);this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var e;const t=(e=this.init())!==null&&e!==void 0?e:[];if(!Array.isArray(t)){return[t]}return t}_updateMetricInstruments(){return}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}}r.InstrumentationAbstract=s},{"@opentelemetry/api":19,"@opentelemetry/api-logs":107,shimmer:449}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleDefinition=void 0;class n{constructor(e,t,r,n,o){this.name=e;this.supportedVersions=t;this.patch=r;this.unpatch=n;this.files=o||[]}}r.InstrumentationNodeModuleDefinition=n},{}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleFile=void 0;const n=e("./platform/index");class o{constructor(e,t,r,o){this.supportedVersions=t;this.patch=r;this.unpatch=o;this.name=(0,n.normalize)(e)}}r.InstrumentationNodeModuleFile=o},{"./platform/index":122}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.normalize=r.InstrumentationBase=void 0;var n=e("./instrumentation");Object.defineProperty(r,"InstrumentationBase",{enumerable:true,get:function(){return n.InstrumentationBase}});var o=e("./noop-normalize");Object.defineProperty(r,"normalize",{enumerable:true,get:function(){return o.normalize}})},{"./instrumentation":123,"./noop-normalize":124}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationBase=void 0;const n=e("../../instrumentation");class o extends n.InstrumentationAbstract{constructor(e,t,r={}){super(e,t,r);if(this._config.enabled){this.enable()}}}r.InstrumentationBase=o},{"../../instrumentation":119}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.normalize=void 0;const n=e("@opentelemetry/api");function o(e){n.diag.warn("Path normalization is not implemented for this platform. To silence this warning, ensure no node-specific instrumentations are loaded, and node-specific types (e.g. InstrumentationNodeModuleFile), are not used in a browser context)");return e}r.normalize=o},{"@opentelemetry/api":19}],125:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isWrapped=r.safeExecuteInTheMiddleAsync=r.safeExecuteInTheMiddle=void 0;function n(e,t,r){let n;let o;try{o=e()}catch(e){n=e}finally{t(n,o);if(n&&!r){throw n}return o}}r.safeExecuteInTheMiddle=n;async function o(e,t,r){let n;let o;try{o=await e()}catch(e){n=e}finally{t(n,o);if(n&&!r){throw n}return o}}r.safeExecuteInTheMiddleAsync=o;function i(e){return typeof e==="function"&&typeof e.__original==="function"&&typeof e.__unwrap==="function"&&e.__wrapped===true}r.isWrapped=i},{}],128:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./trace"),r);o(e("./resource"),r)},{"./resource":131,"./trace":133}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createConstMap=void 0;function n(e){let t={};const r=e.length;for(let n=0;n<r;n++){const r=e[n];if(r){t[String(r).toUpperCase().replace(/[-.]/g,"_")]=r}}return t}r.createConstMap=n},{}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SEMRESATTRS_K8S_STATEFULSET_NAME=r.SEMRESATTRS_K8S_STATEFULSET_UID=r.SEMRESATTRS_K8S_DEPLOYMENT_NAME=r.SEMRESATTRS_K8S_DEPLOYMENT_UID=r.SEMRESATTRS_K8S_REPLICASET_NAME=r.SEMRESATTRS_K8S_REPLICASET_UID=r.SEMRESATTRS_K8S_CONTAINER_NAME=r.SEMRESATTRS_K8S_POD_NAME=r.SEMRESATTRS_K8S_POD_UID=r.SEMRESATTRS_K8S_NAMESPACE_NAME=r.SEMRESATTRS_K8S_NODE_UID=r.SEMRESATTRS_K8S_NODE_NAME=r.SEMRESATTRS_K8S_CLUSTER_NAME=r.SEMRESATTRS_HOST_IMAGE_VERSION=r.SEMRESATTRS_HOST_IMAGE_ID=r.SEMRESATTRS_HOST_IMAGE_NAME=r.SEMRESATTRS_HOST_ARCH=r.SEMRESATTRS_HOST_TYPE=r.SEMRESATTRS_HOST_NAME=r.SEMRESATTRS_HOST_ID=r.SEMRESATTRS_FAAS_MAX_MEMORY=r.SEMRESATTRS_FAAS_INSTANCE=r.SEMRESATTRS_FAAS_VERSION=r.SEMRESATTRS_FAAS_ID=r.SEMRESATTRS_FAAS_NAME=r.SEMRESATTRS_DEVICE_MODEL_NAME=r.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=r.SEMRESATTRS_DEVICE_ID=r.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=r.SEMRESATTRS_CONTAINER_IMAGE_TAG=r.SEMRESATTRS_CONTAINER_IMAGE_NAME=r.SEMRESATTRS_CONTAINER_RUNTIME=r.SEMRESATTRS_CONTAINER_ID=r.SEMRESATTRS_CONTAINER_NAME=r.SEMRESATTRS_AWS_LOG_STREAM_ARNS=r.SEMRESATTRS_AWS_LOG_STREAM_NAMES=r.SEMRESATTRS_AWS_LOG_GROUP_ARNS=r.SEMRESATTRS_AWS_LOG_GROUP_NAMES=r.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=r.SEMRESATTRS_AWS_ECS_TASK_REVISION=r.SEMRESATTRS_AWS_ECS_TASK_FAMILY=r.SEMRESATTRS_AWS_ECS_TASK_ARN=r.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=r.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=r.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=r.SEMRESATTRS_CLOUD_PLATFORM=r.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=r.SEMRESATTRS_CLOUD_REGION=r.SEMRESATTRS_CLOUD_ACCOUNT_ID=r.SEMRESATTRS_CLOUD_PROVIDER=void 0;r.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=r.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=r.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=r.CLOUDPLATFORMVALUES_AZURE_AKS=r.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=r.CLOUDPLATFORMVALUES_AZURE_VM=r.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=r.CLOUDPLATFORMVALUES_AWS_LAMBDA=r.CLOUDPLATFORMVALUES_AWS_EKS=r.CLOUDPLATFORMVALUES_AWS_ECS=r.CLOUDPLATFORMVALUES_AWS_EC2=r.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=r.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=r.CloudProviderValues=r.CLOUDPROVIDERVALUES_GCP=r.CLOUDPROVIDERVALUES_AZURE=r.CLOUDPROVIDERVALUES_AWS=r.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=r.SemanticResourceAttributes=r.SEMRESATTRS_WEBENGINE_DESCRIPTION=r.SEMRESATTRS_WEBENGINE_VERSION=r.SEMRESATTRS_WEBENGINE_NAME=r.SEMRESATTRS_TELEMETRY_AUTO_VERSION=r.SEMRESATTRS_TELEMETRY_SDK_VERSION=r.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=r.SEMRESATTRS_TELEMETRY_SDK_NAME=r.SEMRESATTRS_SERVICE_VERSION=r.SEMRESATTRS_SERVICE_INSTANCE_ID=r.SEMRESATTRS_SERVICE_NAMESPACE=r.SEMRESATTRS_SERVICE_NAME=r.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=r.SEMRESATTRS_PROCESS_RUNTIME_VERSION=r.SEMRESATTRS_PROCESS_RUNTIME_NAME=r.SEMRESATTRS_PROCESS_OWNER=r.SEMRESATTRS_PROCESS_COMMAND_ARGS=r.SEMRESATTRS_PROCESS_COMMAND_LINE=r.SEMRESATTRS_PROCESS_COMMAND=r.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=r.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=r.SEMRESATTRS_PROCESS_PID=r.SEMRESATTRS_OS_VERSION=r.SEMRESATTRS_OS_NAME=r.SEMRESATTRS_OS_DESCRIPTION=r.SEMRESATTRS_OS_TYPE=r.SEMRESATTRS_K8S_CRONJOB_NAME=r.SEMRESATTRS_K8S_CRONJOB_UID=r.SEMRESATTRS_K8S_JOB_NAME=r.SEMRESATTRS_K8S_JOB_UID=r.SEMRESATTRS_K8S_DAEMONSET_NAME=r.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;r.TelemetrySdkLanguageValues=r.TELEMETRYSDKLANGUAGEVALUES_WEBJS=r.TELEMETRYSDKLANGUAGEVALUES_RUBY=r.TELEMETRYSDKLANGUAGEVALUES_PYTHON=r.TELEMETRYSDKLANGUAGEVALUES_PHP=r.TELEMETRYSDKLANGUAGEVALUES_NODEJS=r.TELEMETRYSDKLANGUAGEVALUES_JAVA=r.TELEMETRYSDKLANGUAGEVALUES_GO=r.TELEMETRYSDKLANGUAGEVALUES_ERLANG=r.TELEMETRYSDKLANGUAGEVALUES_DOTNET=r.TELEMETRYSDKLANGUAGEVALUES_CPP=r.OsTypeValues=r.OSTYPEVALUES_Z_OS=r.OSTYPEVALUES_SOLARIS=r.OSTYPEVALUES_AIX=r.OSTYPEVALUES_HPUX=r.OSTYPEVALUES_DRAGONFLYBSD=r.OSTYPEVALUES_OPENBSD=r.OSTYPEVALUES_NETBSD=r.OSTYPEVALUES_FREEBSD=r.OSTYPEVALUES_DARWIN=r.OSTYPEVALUES_LINUX=r.OSTYPEVALUES_WINDOWS=r.HostArchValues=r.HOSTARCHVALUES_X86=r.HOSTARCHVALUES_PPC64=r.HOSTARCHVALUES_PPC32=r.HOSTARCHVALUES_IA64=r.HOSTARCHVALUES_ARM64=r.HOSTARCHVALUES_ARM32=r.HOSTARCHVALUES_AMD64=r.AwsEcsLaunchtypeValues=r.AWSECSLAUNCHTYPEVALUES_FARGATE=r.AWSECSLAUNCHTYPEVALUES_EC2=r.CloudPlatformValues=r.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=r.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=r.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=r.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;const n=e("../internal/utils");const o="cloud.provider";const i="cloud.account.id";const s="cloud.region";const a="cloud.availability_zone";const c="cloud.platform";const u="aws.ecs.container.arn";const l="aws.ecs.cluster.arn";const d="aws.ecs.launchtype";const p="aws.ecs.task.arn";const f="aws.ecs.task.family";const m="aws.ecs.task.revision";const h="aws.eks.cluster.arn";const E="aws.log.group.names";const _="aws.log.group.arns";const S="aws.log.stream.names";const g="aws.log.stream.arns";const T="container.name";const A="container.id";const y="container.runtime";const v="container.image.name";const O="container.image.tag";const R="deployment.environment";const N="device.id";const b="device.model.identifier";const C="device.model.name";const I="faas.name";const M="faas.id";const P="faas.version";const L="faas.instance";const D="faas.max_memory";const w="host.id";const U="host.name";const x="host.type";const B="host.arch";const V="host.image.name";const k="host.image.id";const G="host.image.version";const F="k8s.cluster.name";const H="k8s.node.name";const j="k8s.node.uid";const Y="k8s.namespace.name";const W="k8s.pod.uid";const K="k8s.pod.name";const X="k8s.container.name";const z="k8s.replicaset.uid";const $="k8s.replicaset.name";const Z="k8s.deployment.uid";const q="k8s.deployment.name";const Q="k8s.statefulset.uid";const J="k8s.statefulset.name";const ee="k8s.daemonset.uid";const te="k8s.daemonset.name";const re="k8s.job.uid";const ne="k8s.job.name";const oe="k8s.cronjob.uid";const ie="k8s.cronjob.name";const se="os.type";const ae="os.description";const ce="os.name";const ue="os.version";const le="process.pid";const de="process.executable.name";const pe="process.executable.path";const fe="process.command";const me="process.command_line";const he="process.command_args";const Ee="process.owner";const _e="process.runtime.name";const Se="process.runtime.version";const ge="process.runtime.description";const Te="service.name";const Ae="service.namespace";const ye="service.instance.id";const ve="service.version";const Oe="telemetry.sdk.name";const Re="telemetry.sdk.language";const Ne="telemetry.sdk.version";const be="telemetry.auto.version";const Ce="webengine.name";const Ie="webengine.version";const Me="webengine.description";r.SEMRESATTRS_CLOUD_PROVIDER=o;r.SEMRESATTRS_CLOUD_ACCOUNT_ID=i;r.SEMRESATTRS_CLOUD_REGION=s;r.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=a;r.SEMRESATTRS_CLOUD_PLATFORM=c;r.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=u;r.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=l;r.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=d;r.SEMRESATTRS_AWS_ECS_TASK_ARN=p;r.SEMRESATTRS_AWS_ECS_TASK_FAMILY=f;r.SEMRESATTRS_AWS_ECS_TASK_REVISION=m;r.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=h;r.SEMRESATTRS_AWS_LOG_GROUP_NAMES=E;r.SEMRESATTRS_AWS_LOG_GROUP_ARNS=_;r.SEMRESATTRS_AWS_LOG_STREAM_NAMES=S;r.SEMRESATTRS_AWS_LOG_STREAM_ARNS=g;r.SEMRESATTRS_CONTAINER_NAME=T;r.SEMRESATTRS_CONTAINER_ID=A;r.SEMRESATTRS_CONTAINER_RUNTIME=y;r.SEMRESATTRS_CONTAINER_IMAGE_NAME=v;r.SEMRESATTRS_CONTAINER_IMAGE_TAG=O;r.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=R;r.SEMRESATTRS_DEVICE_ID=N;r.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=b;r.SEMRESATTRS_DEVICE_MODEL_NAME=C;r.SEMRESATTRS_FAAS_NAME=I;r.SEMRESATTRS_FAAS_ID=M;r.SEMRESATTRS_FAAS_VERSION=P;r.SEMRESATTRS_FAAS_INSTANCE=L;r.SEMRESATTRS_FAAS_MAX_MEMORY=D;r.SEMRESATTRS_HOST_ID=w;r.SEMRESATTRS_HOST_NAME=U;r.SEMRESATTRS_HOST_TYPE=x;r.SEMRESATTRS_HOST_ARCH=B;r.SEMRESATTRS_HOST_IMAGE_NAME=V;r.SEMRESATTRS_HOST_IMAGE_ID=k;r.SEMRESATTRS_HOST_IMAGE_VERSION=G;r.SEMRESATTRS_K8S_CLUSTER_NAME=F;r.SEMRESATTRS_K8S_NODE_NAME=H;r.SEMRESATTRS_K8S_NODE_UID=j;r.SEMRESATTRS_K8S_NAMESPACE_NAME=Y;r.SEMRESATTRS_K8S_POD_UID=W;r.SEMRESATTRS_K8S_POD_NAME=K;r.SEMRESATTRS_K8S_CONTAINER_NAME=X;r.SEMRESATTRS_K8S_REPLICASET_UID=z;r.SEMRESATTRS_K8S_REPLICASET_NAME=$;r.SEMRESATTRS_K8S_DEPLOYMENT_UID=Z;r.SEMRESATTRS_K8S_DEPLOYMENT_NAME=q;r.SEMRESATTRS_K8S_STATEFULSET_UID=Q;r.SEMRESATTRS_K8S_STATEFULSET_NAME=J;r.SEMRESATTRS_K8S_DAEMONSET_UID=ee;r.SEMRESATTRS_K8S_DAEMONSET_NAME=te;r.SEMRESATTRS_K8S_JOB_UID=re;r.SEMRESATTRS_K8S_JOB_NAME=ne;r.SEMRESATTRS_K8S_CRONJOB_UID=oe;r.SEMRESATTRS_K8S_CRONJOB_NAME=ie;r.SEMRESATTRS_OS_TYPE=se;r.SEMRESATTRS_OS_DESCRIPTION=ae;r.SEMRESATTRS_OS_NAME=ce;r.SEMRESATTRS_OS_VERSION=ue;r.SEMRESATTRS_PROCESS_PID=le;r.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=de;r.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=pe;r.SEMRESATTRS_PROCESS_COMMAND=fe;r.SEMRESATTRS_PROCESS_COMMAND_LINE=me;r.SEMRESATTRS_PROCESS_COMMAND_ARGS=he;r.SEMRESATTRS_PROCESS_OWNER=Ee;r.SEMRESATTRS_PROCESS_RUNTIME_NAME=_e;r.SEMRESATTRS_PROCESS_RUNTIME_VERSION=Se;r.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=ge;r.SEMRESATTRS_SERVICE_NAME=Te;r.SEMRESATTRS_SERVICE_NAMESPACE=Ae;r.SEMRESATTRS_SERVICE_INSTANCE_ID=ye;r.SEMRESATTRS_SERVICE_VERSION=ve;r.SEMRESATTRS_TELEMETRY_SDK_NAME=Oe;r.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=Re;r.SEMRESATTRS_TELEMETRY_SDK_VERSION=Ne;r.SEMRESATTRS_TELEMETRY_AUTO_VERSION=be;r.SEMRESATTRS_WEBENGINE_NAME=Ce;r.SEMRESATTRS_WEBENGINE_VERSION=Ie;r.SEMRESATTRS_WEBENGINE_DESCRIPTION=Me;r.SemanticResourceAttributes=(0,n.createConstMap)([o,i,s,a,c,u,l,d,p,f,m,h,E,_,S,g,T,A,y,v,O,R,N,b,C,I,M,P,L,D,w,U,x,B,V,k,G,F,H,j,Y,W,K,X,z,$,Z,q,Q,J,ee,te,re,ne,oe,ie,se,ae,ce,ue,le,de,pe,fe,me,he,Ee,_e,Se,ge,Te,Ae,ye,ve,Oe,Re,Ne,be,Ce,Ie,Me]);const Pe="alibaba_cloud";const Le="aws";const De="azure";const we="gcp";r.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=Pe;r.CLOUDPROVIDERVALUES_AWS=Le;r.CLOUDPROVIDERVALUES_AZURE=De;r.CLOUDPROVIDERVALUES_GCP=we;r.CloudProviderValues=(0,n.createConstMap)([Pe,Le,De,we]);const Ue="alibaba_cloud_ecs";const xe="alibaba_cloud_fc";const Be="aws_ec2";const Ve="aws_ecs";const ke="aws_eks";const Ge="aws_lambda";const Fe="aws_elastic_beanstalk";const He="azure_vm";const je="azure_container_instances";const Ye="azure_aks";const We="azure_functions";const Ke="azure_app_service";const Xe="gcp_compute_engine";const ze="gcp_cloud_run";const $e="gcp_kubernetes_engine";const Ze="gcp_cloud_functions";const qe="gcp_app_engine";r.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=Ue;r.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=xe;r.CLOUDPLATFORMVALUES_AWS_EC2=Be;r.CLOUDPLATFORMVALUES_AWS_ECS=Ve;r.CLOUDPLATFORMVALUES_AWS_EKS=ke;r.CLOUDPLATFORMVALUES_AWS_LAMBDA=Ge;r.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=Fe;r.CLOUDPLATFORMVALUES_AZURE_VM=He;r.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=je;r.CLOUDPLATFORMVALUES_AZURE_AKS=Ye;r.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=We;r.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=Ke;r.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=Xe;r.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=ze;r.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=$e;r.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=Ze;r.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=qe;r.CloudPlatformValues=(0,n.createConstMap)([Ue,xe,Be,Ve,ke,Ge,Fe,He,je,Ye,We,Ke,Xe,ze,$e,Ze,qe]);const Qe="ec2";const Je="fargate";r.AWSECSLAUNCHTYPEVALUES_EC2=Qe;r.AWSECSLAUNCHTYPEVALUES_FARGATE=Je;r.AwsEcsLaunchtypeValues=(0,n.createConstMap)([Qe,Je]);const et="amd64";const tt="arm32";const rt="arm64";const nt="ia64";const ot="ppc32";const it="ppc64";const st="x86";r.HOSTARCHVALUES_AMD64=et;r.HOSTARCHVALUES_ARM32=tt;r.HOSTARCHVALUES_ARM64=rt;r.HOSTARCHVALUES_IA64=nt;r.HOSTARCHVALUES_PPC32=ot;r.HOSTARCHVALUES_PPC64=it;r.HOSTARCHVALUES_X86=st;r.HostArchValues=(0,n.createConstMap)([et,tt,rt,nt,ot,it,st]);const at="windows";const ct="linux";const ut="darwin";const lt="freebsd";const dt="netbsd";const pt="openbsd";const ft="dragonflybsd";const mt="hpux";const ht="aix";const Et="solaris";const _t="z_os";r.OSTYPEVALUES_WINDOWS=at;r.OSTYPEVALUES_LINUX=ct;r.OSTYPEVALUES_DARWIN=ut;r.OSTYPEVALUES_FREEBSD=lt;r.OSTYPEVALUES_NETBSD=dt;r.OSTYPEVALUES_OPENBSD=pt;r.OSTYPEVALUES_DRAGONFLYBSD=ft;r.OSTYPEVALUES_HPUX=mt;r.OSTYPEVALUES_AIX=ht;r.OSTYPEVALUES_SOLARIS=Et;r.OSTYPEVALUES_Z_OS=_t;r.OsTypeValues=(0,n.createConstMap)([at,ct,ut,lt,dt,pt,ft,mt,ht,Et,_t]);const St="cpp";const gt="dotnet";const Tt="erlang";const At="go";const yt="java";const vt="nodejs";const Ot="php";const Rt="python";const Nt="ruby";const bt="webjs";r.TELEMETRYSDKLANGUAGEVALUES_CPP=St;r.TELEMETRYSDKLANGUAGEVALUES_DOTNET=gt;r.TELEMETRYSDKLANGUAGEVALUES_ERLANG=Tt;r.TELEMETRYSDKLANGUAGEVALUES_GO=At;r.TELEMETRYSDKLANGUAGEVALUES_JAVA=yt;r.TELEMETRYSDKLANGUAGEVALUES_NODEJS=vt;r.TELEMETRYSDKLANGUAGEVALUES_PHP=Ot;r.TELEMETRYSDKLANGUAGEVALUES_PYTHON=Rt;r.TELEMETRYSDKLANGUAGEVALUES_RUBY=Nt;r.TELEMETRYSDKLANGUAGEVALUES_WEBJS=bt;r.TelemetrySdkLanguageValues=(0,n.createConstMap)([St,gt,Tt,At,yt,vt,Ot,Rt,Nt,bt])},{"../internal/utils":129}],131:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./SemanticResourceAttributes"),r)},{"./SemanticResourceAttributes":130}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SEMATTRS_NET_HOST_CARRIER_ICC=r.SEMATTRS_NET_HOST_CARRIER_MNC=r.SEMATTRS_NET_HOST_CARRIER_MCC=r.SEMATTRS_NET_HOST_CARRIER_NAME=r.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=r.SEMATTRS_NET_HOST_CONNECTION_TYPE=r.SEMATTRS_NET_HOST_NAME=r.SEMATTRS_NET_HOST_PORT=r.SEMATTRS_NET_HOST_IP=r.SEMATTRS_NET_PEER_NAME=r.SEMATTRS_NET_PEER_PORT=r.SEMATTRS_NET_PEER_IP=r.SEMATTRS_NET_TRANSPORT=r.SEMATTRS_FAAS_INVOKED_REGION=r.SEMATTRS_FAAS_INVOKED_PROVIDER=r.SEMATTRS_FAAS_INVOKED_NAME=r.SEMATTRS_FAAS_COLDSTART=r.SEMATTRS_FAAS_CRON=r.SEMATTRS_FAAS_TIME=r.SEMATTRS_FAAS_DOCUMENT_NAME=r.SEMATTRS_FAAS_DOCUMENT_TIME=r.SEMATTRS_FAAS_DOCUMENT_OPERATION=r.SEMATTRS_FAAS_DOCUMENT_COLLECTION=r.SEMATTRS_FAAS_EXECUTION=r.SEMATTRS_FAAS_TRIGGER=r.SEMATTRS_EXCEPTION_ESCAPED=r.SEMATTRS_EXCEPTION_STACKTRACE=r.SEMATTRS_EXCEPTION_MESSAGE=r.SEMATTRS_EXCEPTION_TYPE=r.SEMATTRS_DB_SQL_TABLE=r.SEMATTRS_DB_MONGODB_COLLECTION=r.SEMATTRS_DB_REDIS_DATABASE_INDEX=r.SEMATTRS_DB_HBASE_NAMESPACE=r.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=r.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=r.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=r.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=r.SEMATTRS_DB_CASSANDRA_TABLE=r.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=r.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=r.SEMATTRS_DB_CASSANDRA_KEYSPACE=r.SEMATTRS_DB_MSSQL_INSTANCE_NAME=r.SEMATTRS_DB_OPERATION=r.SEMATTRS_DB_STATEMENT=r.SEMATTRS_DB_NAME=r.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=r.SEMATTRS_DB_USER=r.SEMATTRS_DB_CONNECTION_STRING=r.SEMATTRS_DB_SYSTEM=r.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;r.SEMATTRS_MESSAGING_DESTINATION_KIND=r.SEMATTRS_MESSAGING_DESTINATION=r.SEMATTRS_MESSAGING_SYSTEM=r.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=r.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=r.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=r.SEMATTRS_AWS_DYNAMODB_COUNT=r.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=r.SEMATTRS_AWS_DYNAMODB_SEGMENT=r.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=r.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=r.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=r.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=r.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=r.SEMATTRS_AWS_DYNAMODB_SELECT=r.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=r.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=r.SEMATTRS_AWS_DYNAMODB_LIMIT=r.SEMATTRS_AWS_DYNAMODB_PROJECTION=r.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=r.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=r.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=r.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=r.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=r.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=r.SEMATTRS_HTTP_CLIENT_IP=r.SEMATTRS_HTTP_ROUTE=r.SEMATTRS_HTTP_SERVER_NAME=r.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=r.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=r.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=r.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=r.SEMATTRS_HTTP_USER_AGENT=r.SEMATTRS_HTTP_FLAVOR=r.SEMATTRS_HTTP_STATUS_CODE=r.SEMATTRS_HTTP_SCHEME=r.SEMATTRS_HTTP_HOST=r.SEMATTRS_HTTP_TARGET=r.SEMATTRS_HTTP_URL=r.SEMATTRS_HTTP_METHOD=r.SEMATTRS_CODE_LINENO=r.SEMATTRS_CODE_FILEPATH=r.SEMATTRS_CODE_NAMESPACE=r.SEMATTRS_CODE_FUNCTION=r.SEMATTRS_THREAD_NAME=r.SEMATTRS_THREAD_ID=r.SEMATTRS_ENDUSER_SCOPE=r.SEMATTRS_ENDUSER_ROLE=r.SEMATTRS_ENDUSER_ID=r.SEMATTRS_PEER_SERVICE=void 0;r.DBSYSTEMVALUES_FILEMAKER=r.DBSYSTEMVALUES_DERBY=r.DBSYSTEMVALUES_FIREBIRD=r.DBSYSTEMVALUES_ADABAS=r.DBSYSTEMVALUES_CACHE=r.DBSYSTEMVALUES_EDB=r.DBSYSTEMVALUES_FIRSTSQL=r.DBSYSTEMVALUES_INGRES=r.DBSYSTEMVALUES_HANADB=r.DBSYSTEMVALUES_MAXDB=r.DBSYSTEMVALUES_PROGRESS=r.DBSYSTEMVALUES_HSQLDB=r.DBSYSTEMVALUES_CLOUDSCAPE=r.DBSYSTEMVALUES_HIVE=r.DBSYSTEMVALUES_REDSHIFT=r.DBSYSTEMVALUES_POSTGRESQL=r.DBSYSTEMVALUES_DB2=r.DBSYSTEMVALUES_ORACLE=r.DBSYSTEMVALUES_MYSQL=r.DBSYSTEMVALUES_MSSQL=r.DBSYSTEMVALUES_OTHER_SQL=r.SemanticAttributes=r.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=r.SEMATTRS_MESSAGE_COMPRESSED_SIZE=r.SEMATTRS_MESSAGE_ID=r.SEMATTRS_MESSAGE_TYPE=r.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=r.SEMATTRS_RPC_JSONRPC_ERROR_CODE=r.SEMATTRS_RPC_JSONRPC_REQUEST_ID=r.SEMATTRS_RPC_JSONRPC_VERSION=r.SEMATTRS_RPC_GRPC_STATUS_CODE=r.SEMATTRS_RPC_METHOD=r.SEMATTRS_RPC_SERVICE=r.SEMATTRS_RPC_SYSTEM=r.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=r.SEMATTRS_MESSAGING_KAFKA_PARTITION=r.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=r.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=r.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=r.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=r.SEMATTRS_MESSAGING_CONSUMER_ID=r.SEMATTRS_MESSAGING_OPERATION=r.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=r.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=r.SEMATTRS_MESSAGING_CONVERSATION_ID=r.SEMATTRS_MESSAGING_MESSAGE_ID=r.SEMATTRS_MESSAGING_URL=r.SEMATTRS_MESSAGING_PROTOCOL_VERSION=r.SEMATTRS_MESSAGING_PROTOCOL=r.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;r.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=r.FaasDocumentOperationValues=r.FAASDOCUMENTOPERATIONVALUES_DELETE=r.FAASDOCUMENTOPERATIONVALUES_EDIT=r.FAASDOCUMENTOPERATIONVALUES_INSERT=r.FaasTriggerValues=r.FAASTRIGGERVALUES_OTHER=r.FAASTRIGGERVALUES_TIMER=r.FAASTRIGGERVALUES_PUBSUB=r.FAASTRIGGERVALUES_HTTP=r.FAASTRIGGERVALUES_DATASOURCE=r.DbCassandraConsistencyLevelValues=r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=r.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=r.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=r.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=r.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=r.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=r.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=r.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=r.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=r.DbSystemValues=r.DBSYSTEMVALUES_COCKROACHDB=r.DBSYSTEMVALUES_MEMCACHED=r.DBSYSTEMVALUES_ELASTICSEARCH=r.DBSYSTEMVALUES_GEODE=r.DBSYSTEMVALUES_NEO4J=r.DBSYSTEMVALUES_DYNAMODB=r.DBSYSTEMVALUES_COSMOSDB=r.DBSYSTEMVALUES_COUCHDB=r.DBSYSTEMVALUES_COUCHBASE=r.DBSYSTEMVALUES_REDIS=r.DBSYSTEMVALUES_MONGODB=r.DBSYSTEMVALUES_HBASE=r.DBSYSTEMVALUES_CASSANDRA=r.DBSYSTEMVALUES_COLDFUSION=r.DBSYSTEMVALUES_H2=r.DBSYSTEMVALUES_VERTICA=r.DBSYSTEMVALUES_TERADATA=r.DBSYSTEMVALUES_SYBASE=r.DBSYSTEMVALUES_SQLITE=r.DBSYSTEMVALUES_POINTBASE=r.DBSYSTEMVALUES_PERVASIVE=r.DBSYSTEMVALUES_NETEZZA=r.DBSYSTEMVALUES_MARIADB=r.DBSYSTEMVALUES_INTERBASE=r.DBSYSTEMVALUES_INSTANTDB=r.DBSYSTEMVALUES_INFORMIX=void 0;r.MESSAGINGOPERATIONVALUES_RECEIVE=r.MessagingDestinationKindValues=r.MESSAGINGDESTINATIONKINDVALUES_TOPIC=r.MESSAGINGDESTINATIONKINDVALUES_QUEUE=r.HttpFlavorValues=r.HTTPFLAVORVALUES_QUIC=r.HTTPFLAVORVALUES_SPDY=r.HTTPFLAVORVALUES_HTTP_2_0=r.HTTPFLAVORVALUES_HTTP_1_1=r.HTTPFLAVORVALUES_HTTP_1_0=r.NetHostConnectionSubtypeValues=r.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=r.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=r.NETHOSTCONNECTIONSUBTYPEVALUES_NR=r.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=r.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=r.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=r.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=r.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=r.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=r.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=r.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=r.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=r.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=r.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=r.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=r.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=r.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=r.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=r.NetHostConnectionTypeValues=r.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=r.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=r.NETHOSTCONNECTIONTYPEVALUES_CELL=r.NETHOSTCONNECTIONTYPEVALUES_WIRED=r.NETHOSTCONNECTIONTYPEVALUES_WIFI=r.NetTransportValues=r.NETTRANSPORTVALUES_OTHER=r.NETTRANSPORTVALUES_INPROC=r.NETTRANSPORTVALUES_PIPE=r.NETTRANSPORTVALUES_UNIX=r.NETTRANSPORTVALUES_IP=r.NETTRANSPORTVALUES_IP_UDP=r.NETTRANSPORTVALUES_IP_TCP=r.FaasInvokedProviderValues=r.FAASINVOKEDPROVIDERVALUES_GCP=r.FAASINVOKEDPROVIDERVALUES_AZURE=r.FAASINVOKEDPROVIDERVALUES_AWS=void 0;r.MessageTypeValues=r.MESSAGETYPEVALUES_RECEIVED=r.MESSAGETYPEVALUES_SENT=r.RpcGrpcStatusCodeValues=r.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=r.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=r.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=r.RPCGRPCSTATUSCODEVALUES_INTERNAL=r.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=r.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=r.RPCGRPCSTATUSCODEVALUES_ABORTED=r.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=r.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=r.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=r.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=r.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=r.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=r.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=r.RPCGRPCSTATUSCODEVALUES_UNKNOWN=r.RPCGRPCSTATUSCODEVALUES_CANCELLED=r.RPCGRPCSTATUSCODEVALUES_OK=r.MessagingOperationValues=r.MESSAGINGOPERATIONVALUES_PROCESS=void 0;const n=e("../internal/utils");const o="aws.lambda.invoked_arn";const i="db.system";const s="db.connection_string";const a="db.user";const c="db.jdbc.driver_classname";const u="db.name";const l="db.statement";const d="db.operation";const p="db.mssql.instance_name";const f="db.cassandra.keyspace";const m="db.cassandra.page_size";const h="db.cassandra.consistency_level";const E="db.cassandra.table";const _="db.cassandra.idempotence";const S="db.cassandra.speculative_execution_count";const g="db.cassandra.coordinator.id";const T="db.cassandra.coordinator.dc";const A="db.hbase.namespace";const y="db.redis.database_index";const v="db.mongodb.collection";const O="db.sql.table";const R="exception.type";const N="exception.message";const b="exception.stacktrace";const C="exception.escaped";const I="faas.trigger";const M="faas.execution";const P="faas.document.collection";const L="faas.document.operation";const D="faas.document.time";const w="faas.document.name";const U="faas.time";const x="faas.cron";const B="faas.coldstart";const V="faas.invoked_name";const k="faas.invoked_provider";const G="faas.invoked_region";const F="net.transport";const H="net.peer.ip";const j="net.peer.port";const Y="net.peer.name";const W="net.host.ip";const K="net.host.port";const X="net.host.name";const z="net.host.connection.type";const $="net.host.connection.subtype";const Z="net.host.carrier.name";const q="net.host.carrier.mcc";const Q="net.host.carrier.mnc";const J="net.host.carrier.icc";const ee="peer.service";const te="enduser.id";const re="enduser.role";const ne="enduser.scope";const oe="thread.id";const ie="thread.name";const se="code.function";const ae="code.namespace";const ce="code.filepath";const ue="code.lineno";const le="http.method";const de="http.url";const pe="http.target";const fe="http.host";const me="http.scheme";const he="http.status_code";const Ee="http.flavor";const _e="http.user_agent";const Se="http.request_content_length";const ge="http.request_content_length_uncompressed";const Te="http.response_content_length";const Ae="http.response_content_length_uncompressed";const ye="http.server_name";const ve="http.route";const Oe="http.client_ip";const Re="aws.dynamodb.table_names";const Ne="aws.dynamodb.consumed_capacity";const be="aws.dynamodb.item_collection_metrics";const Ce="aws.dynamodb.provisioned_read_capacity";const Ie="aws.dynamodb.provisioned_write_capacity";const Me="aws.dynamodb.consistent_read";const Pe="aws.dynamodb.projection";const Le="aws.dynamodb.limit";const De="aws.dynamodb.attributes_to_get";const we="aws.dynamodb.index_name";const Ue="aws.dynamodb.select";const xe="aws.dynamodb.global_secondary_indexes";const Be="aws.dynamodb.local_secondary_indexes";const Ve="aws.dynamodb.exclusive_start_table";const ke="aws.dynamodb.table_count";const Ge="aws.dynamodb.scan_forward";const Fe="aws.dynamodb.segment";const He="aws.dynamodb.total_segments";const je="aws.dynamodb.count";const Ye="aws.dynamodb.scanned_count";const We="aws.dynamodb.attribute_definitions";const Ke="aws.dynamodb.global_secondary_index_updates";const Xe="messaging.system";const ze="messaging.destination";const $e="messaging.destination_kind";const Ze="messaging.temp_destination";const qe="messaging.protocol";const Qe="messaging.protocol_version";const Je="messaging.url";const et="messaging.message_id";const tt="messaging.conversation_id";const rt="messaging.message_payload_size_bytes";const nt="messaging.message_payload_compressed_size_bytes";const ot="messaging.operation";const it="messaging.consumer_id";const st="messaging.rabbitmq.routing_key";const at="messaging.kafka.message_key";const ct="messaging.kafka.consumer_group";const ut="messaging.kafka.client_id";const lt="messaging.kafka.partition";const dt="messaging.kafka.tombstone";const pt="rpc.system";const ft="rpc.service";const mt="rpc.method";const ht="rpc.grpc.status_code";const Et="rpc.jsonrpc.version";const _t="rpc.jsonrpc.request_id";const St="rpc.jsonrpc.error_code";const gt="rpc.jsonrpc.error_message";const Tt="message.type";const At="message.id";const yt="message.compressed_size";const vt="message.uncompressed_size";r.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=o;r.SEMATTRS_DB_SYSTEM=i;r.SEMATTRS_DB_CONNECTION_STRING=s;r.SEMATTRS_DB_USER=a;r.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=c;r.SEMATTRS_DB_NAME=u;r.SEMATTRS_DB_STATEMENT=l;r.SEMATTRS_DB_OPERATION=d;r.SEMATTRS_DB_MSSQL_INSTANCE_NAME=p;r.SEMATTRS_DB_CASSANDRA_KEYSPACE=f;r.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=m;r.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=h;r.SEMATTRS_DB_CASSANDRA_TABLE=E;r.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=_;r.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=S;r.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=g;r.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=T;r.SEMATTRS_DB_HBASE_NAMESPACE=A;r.SEMATTRS_DB_REDIS_DATABASE_INDEX=y;r.SEMATTRS_DB_MONGODB_COLLECTION=v;r.SEMATTRS_DB_SQL_TABLE=O;r.SEMATTRS_EXCEPTION_TYPE=R;r.SEMATTRS_EXCEPTION_MESSAGE=N;r.SEMATTRS_EXCEPTION_STACKTRACE=b;r.SEMATTRS_EXCEPTION_ESCAPED=C;r.SEMATTRS_FAAS_TRIGGER=I;r.SEMATTRS_FAAS_EXECUTION=M;r.SEMATTRS_FAAS_DOCUMENT_COLLECTION=P;r.SEMATTRS_FAAS_DOCUMENT_OPERATION=L;r.SEMATTRS_FAAS_DOCUMENT_TIME=D;r.SEMATTRS_FAAS_DOCUMENT_NAME=w;r.SEMATTRS_FAAS_TIME=U;r.SEMATTRS_FAAS_CRON=x;r.SEMATTRS_FAAS_COLDSTART=B;r.SEMATTRS_FAAS_INVOKED_NAME=V;r.SEMATTRS_FAAS_INVOKED_PROVIDER=k;r.SEMATTRS_FAAS_INVOKED_REGION=G;r.SEMATTRS_NET_TRANSPORT=F;r.SEMATTRS_NET_PEER_IP=H;r.SEMATTRS_NET_PEER_PORT=j;r.SEMATTRS_NET_PEER_NAME=Y;r.SEMATTRS_NET_HOST_IP=W;r.SEMATTRS_NET_HOST_PORT=K;r.SEMATTRS_NET_HOST_NAME=X;r.SEMATTRS_NET_HOST_CONNECTION_TYPE=z;r.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=$;r.SEMATTRS_NET_HOST_CARRIER_NAME=Z;r.SEMATTRS_NET_HOST_CARRIER_MCC=q;r.SEMATTRS_NET_HOST_CARRIER_MNC=Q;r.SEMATTRS_NET_HOST_CARRIER_ICC=J;r.SEMATTRS_PEER_SERVICE=ee;r.SEMATTRS_ENDUSER_ID=te;r.SEMATTRS_ENDUSER_ROLE=re;r.SEMATTRS_ENDUSER_SCOPE=ne;r.SEMATTRS_THREAD_ID=oe;r.SEMATTRS_THREAD_NAME=ie;r.SEMATTRS_CODE_FUNCTION=se;r.SEMATTRS_CODE_NAMESPACE=ae;r.SEMATTRS_CODE_FILEPATH=ce;r.SEMATTRS_CODE_LINENO=ue;r.SEMATTRS_HTTP_METHOD=le;r.SEMATTRS_HTTP_URL=de;r.SEMATTRS_HTTP_TARGET=pe;r.SEMATTRS_HTTP_HOST=fe;r.SEMATTRS_HTTP_SCHEME=me;r.SEMATTRS_HTTP_STATUS_CODE=he;r.SEMATTRS_HTTP_FLAVOR=Ee;r.SEMATTRS_HTTP_USER_AGENT=_e;r.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=Se;r.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=ge;r.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=Te;r.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=Ae;r.SEMATTRS_HTTP_SERVER_NAME=ye;r.SEMATTRS_HTTP_ROUTE=ve;r.SEMATTRS_HTTP_CLIENT_IP=Oe;r.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=Re;r.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Ne;r.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=be;r.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=Ce;r.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Ie;r.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=Me;r.SEMATTRS_AWS_DYNAMODB_PROJECTION=Pe;r.SEMATTRS_AWS_DYNAMODB_LIMIT=Le;r.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=De;r.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=we;r.SEMATTRS_AWS_DYNAMODB_SELECT=Ue;r.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=xe;r.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=Be;r.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=Ve;r.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=ke;r.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=Ge;r.SEMATTRS_AWS_DYNAMODB_SEGMENT=Fe;r.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=He;r.SEMATTRS_AWS_DYNAMODB_COUNT=je;r.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=Ye;r.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=We;r.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=Ke;r.SEMATTRS_MESSAGING_SYSTEM=Xe;r.SEMATTRS_MESSAGING_DESTINATION=ze;r.SEMATTRS_MESSAGING_DESTINATION_KIND=$e;r.SEMATTRS_MESSAGING_TEMP_DESTINATION=Ze;r.SEMATTRS_MESSAGING_PROTOCOL=qe;r.SEMATTRS_MESSAGING_PROTOCOL_VERSION=Qe;r.SEMATTRS_MESSAGING_URL=Je;r.SEMATTRS_MESSAGING_MESSAGE_ID=et;r.SEMATTRS_MESSAGING_CONVERSATION_ID=tt;r.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=rt;r.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=nt;r.SEMATTRS_MESSAGING_OPERATION=ot;r.SEMATTRS_MESSAGING_CONSUMER_ID=it;r.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=st;r.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=at;r.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=ct;r.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=ut;r.SEMATTRS_MESSAGING_KAFKA_PARTITION=lt;r.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=dt;r.SEMATTRS_RPC_SYSTEM=pt;r.SEMATTRS_RPC_SERVICE=ft;r.SEMATTRS_RPC_METHOD=mt;r.SEMATTRS_RPC_GRPC_STATUS_CODE=ht;r.SEMATTRS_RPC_JSONRPC_VERSION=Et;r.SEMATTRS_RPC_JSONRPC_REQUEST_ID=_t;r.SEMATTRS_RPC_JSONRPC_ERROR_CODE=St;r.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=gt;r.SEMATTRS_MESSAGE_TYPE=Tt;r.SEMATTRS_MESSAGE_ID=At;r.SEMATTRS_MESSAGE_COMPRESSED_SIZE=yt;r.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=vt;r.SemanticAttributes=(0,n.createConstMap)([o,i,s,a,c,u,l,d,p,f,m,h,E,_,S,g,T,A,y,v,O,R,N,b,C,I,M,P,L,D,w,U,x,B,V,k,G,F,H,j,Y,W,K,X,z,$,Z,q,Q,J,ee,te,re,ne,oe,ie,se,ae,ce,ue,le,de,pe,fe,me,he,Ee,_e,Se,ge,Te,Ae,ye,ve,Oe,Re,Ne,be,Ce,Ie,Me,Pe,Le,De,we,Ue,xe,Be,Ve,ke,Ge,Fe,He,je,Ye,We,Ke,Xe,ze,$e,Ze,qe,Qe,Je,et,tt,rt,nt,ot,it,st,at,ct,ut,lt,dt,pt,ft,mt,ht,Et,_t,St,gt,Tt,At,yt,vt]);const Ot="other_sql";const Rt="mssql";const Nt="mysql";const bt="oracle";const Ct="db2";const It="postgresql";const Mt="redshift";const Pt="hive";const Lt="cloudscape";const Dt="hsqldb";const wt="progress";const Ut="maxdb";const xt="hanadb";const Bt="ingres";const Vt="firstsql";const kt="edb";const Gt="cache";const Ft="adabas";const Ht="firebird";const jt="derby";const Yt="filemaker";const Wt="informix";const Kt="instantdb";const Xt="interbase";const zt="mariadb";const $t="netezza";const Zt="pervasive";const qt="pointbase";const Qt="sqlite";const Jt="sybase";const er="teradata";const tr="vertica";const rr="h2";const nr="coldfusion";const or="cassandra";const ir="hbase";const sr="mongodb";const ar="redis";const cr="couchbase";const ur="couchdb";const lr="cosmosdb";const dr="dynamodb";const pr="neo4j";const fr="geode";const mr="elasticsearch";const hr="memcached";const Er="cockroachdb";r.DBSYSTEMVALUES_OTHER_SQL=Ot;r.DBSYSTEMVALUES_MSSQL=Rt;r.DBSYSTEMVALUES_MYSQL=Nt;r.DBSYSTEMVALUES_ORACLE=bt;r.DBSYSTEMVALUES_DB2=Ct;r.DBSYSTEMVALUES_POSTGRESQL=It;r.DBSYSTEMVALUES_REDSHIFT=Mt;r.DBSYSTEMVALUES_HIVE=Pt;r.DBSYSTEMVALUES_CLOUDSCAPE=Lt;r.DBSYSTEMVALUES_HSQLDB=Dt;r.DBSYSTEMVALUES_PROGRESS=wt;r.DBSYSTEMVALUES_MAXDB=Ut;r.DBSYSTEMVALUES_HANADB=xt;r.DBSYSTEMVALUES_INGRES=Bt;r.DBSYSTEMVALUES_FIRSTSQL=Vt;r.DBSYSTEMVALUES_EDB=kt;r.DBSYSTEMVALUES_CACHE=Gt;r.DBSYSTEMVALUES_ADABAS=Ft;r.DBSYSTEMVALUES_FIREBIRD=Ht;r.DBSYSTEMVALUES_DERBY=jt;r.DBSYSTEMVALUES_FILEMAKER=Yt;r.DBSYSTEMVALUES_INFORMIX=Wt;r.DBSYSTEMVALUES_INSTANTDB=Kt;r.DBSYSTEMVALUES_INTERBASE=Xt;r.DBSYSTEMVALUES_MARIADB=zt;r.DBSYSTEMVALUES_NETEZZA=$t;r.DBSYSTEMVALUES_PERVASIVE=Zt;r.DBSYSTEMVALUES_POINTBASE=qt;r.DBSYSTEMVALUES_SQLITE=Qt;r.DBSYSTEMVALUES_SYBASE=Jt;r.DBSYSTEMVALUES_TERADATA=er;r.DBSYSTEMVALUES_VERTICA=tr;r.DBSYSTEMVALUES_H2=rr;r.DBSYSTEMVALUES_COLDFUSION=nr;r.DBSYSTEMVALUES_CASSANDRA=or;r.DBSYSTEMVALUES_HBASE=ir;r.DBSYSTEMVALUES_MONGODB=sr;r.DBSYSTEMVALUES_REDIS=ar;r.DBSYSTEMVALUES_COUCHBASE=cr;r.DBSYSTEMVALUES_COUCHDB=ur;r.DBSYSTEMVALUES_COSMOSDB=lr;r.DBSYSTEMVALUES_DYNAMODB=dr;r.DBSYSTEMVALUES_NEO4J=pr;r.DBSYSTEMVALUES_GEODE=fr;r.DBSYSTEMVALUES_ELASTICSEARCH=mr;r.DBSYSTEMVALUES_MEMCACHED=hr;r.DBSYSTEMVALUES_COCKROACHDB=Er;r.DbSystemValues=(0,n.createConstMap)([Ot,Rt,Nt,bt,Ct,It,Mt,Pt,Lt,Dt,wt,Ut,xt,Bt,Vt,kt,Gt,Ft,Ht,jt,Yt,Wt,Kt,Xt,zt,$t,Zt,qt,Qt,Jt,er,tr,rr,nr,or,ir,sr,ar,cr,ur,lr,dr,pr,fr,mr,hr,Er]);const _r="all";const Sr="each_quorum";const gr="quorum";const Tr="local_quorum";const Ar="one";const yr="two";const vr="three";const Or="local_one";const Rr="any";const Nr="serial";const br="local_serial";r.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=_r;r.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Sr;r.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=gr;r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=Tr;r.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=Ar;r.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=yr;r.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=vr;r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=Or;r.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=Rr;r.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=Nr;r.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=br;r.DbCassandraConsistencyLevelValues=(0,n.createConstMap)([_r,Sr,gr,Tr,Ar,yr,vr,Or,Rr,Nr,br]);const Cr="datasource";const Ir="http";const Mr="pubsub";const Pr="timer";const Lr="other";r.FAASTRIGGERVALUES_DATASOURCE=Cr;r.FAASTRIGGERVALUES_HTTP=Ir;r.FAASTRIGGERVALUES_PUBSUB=Mr;r.FAASTRIGGERVALUES_TIMER=Pr;r.FAASTRIGGERVALUES_OTHER=Lr;r.FaasTriggerValues=(0,n.createConstMap)([Cr,Ir,Mr,Pr,Lr]);const Dr="insert";const wr="edit";const Ur="delete";r.FAASDOCUMENTOPERATIONVALUES_INSERT=Dr;r.FAASDOCUMENTOPERATIONVALUES_EDIT=wr;r.FAASDOCUMENTOPERATIONVALUES_DELETE=Ur;r.FaasDocumentOperationValues=(0,n.createConstMap)([Dr,wr,Ur]);const xr="alibaba_cloud";const Br="aws";const Vr="azure";const kr="gcp";r.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=xr;r.FAASINVOKEDPROVIDERVALUES_AWS=Br;r.FAASINVOKEDPROVIDERVALUES_AZURE=Vr;r.FAASINVOKEDPROVIDERVALUES_GCP=kr;r.FaasInvokedProviderValues=(0,n.createConstMap)([xr,Br,Vr,kr]);const Gr="ip_tcp";const Fr="ip_udp";const Hr="ip";const jr="unix";const Yr="pipe";const Wr="inproc";const Kr="other";r.NETTRANSPORTVALUES_IP_TCP=Gr;r.NETTRANSPORTVALUES_IP_UDP=Fr;r.NETTRANSPORTVALUES_IP=Hr;r.NETTRANSPORTVALUES_UNIX=jr;r.NETTRANSPORTVALUES_PIPE=Yr;r.NETTRANSPORTVALUES_INPROC=Wr;r.NETTRANSPORTVALUES_OTHER=Kr;r.NetTransportValues=(0,n.createConstMap)([Gr,Fr,Hr,jr,Yr,Wr,Kr]);const Xr="wifi";const zr="wired";const $r="cell";const Zr="unavailable";const qr="unknown";r.NETHOSTCONNECTIONTYPEVALUES_WIFI=Xr;r.NETHOSTCONNECTIONTYPEVALUES_WIRED=zr;r.NETHOSTCONNECTIONTYPEVALUES_CELL=$r;r.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=Zr;r.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=qr;r.NetHostConnectionTypeValues=(0,n.createConstMap)([Xr,zr,$r,Zr,qr]);const Qr="gprs";const Jr="edge";const en="umts";const tn="cdma";const rn="evdo_0";const nn="evdo_a";const on="cdma2000_1xrtt";const sn="hsdpa";const an="hsupa";const cn="hspa";const un="iden";const ln="evdo_b";const dn="lte";const pn="ehrpd";const fn="hspap";const mn="gsm";const hn="td_scdma";const En="iwlan";const _n="nr";const Sn="nrnsa";const gn="lte_ca";r.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=Qr;r.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=Jr;r.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=en;r.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=tn;r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=rn;r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=nn;r.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=on;r.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=sn;r.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=an;r.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=cn;r.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=un;r.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=ln;r.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=dn;r.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=pn;r.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=fn;r.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=mn;r.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=hn;r.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=En;r.NETHOSTCONNECTIONSUBTYPEVALUES_NR=_n;r.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=Sn;r.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=gn;r.NetHostConnectionSubtypeValues=(0,n.createConstMap)([Qr,Jr,en,tn,rn,nn,on,sn,an,cn,un,ln,dn,pn,fn,mn,hn,En,_n,Sn,gn]);const Tn="1.0";const An="1.1";const yn="2.0";const vn="SPDY";const On="QUIC";r.HTTPFLAVORVALUES_HTTP_1_0=Tn;r.HTTPFLAVORVALUES_HTTP_1_1=An;r.HTTPFLAVORVALUES_HTTP_2_0=yn;r.HTTPFLAVORVALUES_SPDY=vn;r.HTTPFLAVORVALUES_QUIC=On;r.HttpFlavorValues={HTTP_1_0:Tn,HTTP_1_1:An,HTTP_2_0:yn,SPDY:vn,QUIC:On};const Rn="queue";const Nn="topic";r.MESSAGINGDESTINATIONKINDVALUES_QUEUE=Rn;r.MESSAGINGDESTINATIONKINDVALUES_TOPIC=Nn;r.MessagingDestinationKindValues=(0,n.createConstMap)([Rn,Nn]);const bn="receive";const Cn="process";r.MESSAGINGOPERATIONVALUES_RECEIVE=bn;r.MESSAGINGOPERATIONVALUES_PROCESS=Cn;r.MessagingOperationValues=(0,n.createConstMap)([bn,Cn]);const In=0;const Mn=1;const Pn=2;const Ln=3;const Dn=4;const wn=5;const Un=6;const xn=7;const Bn=8;const Vn=9;const kn=10;const Gn=11;const Fn=12;const Hn=13;const jn=14;const Yn=15;const Wn=16;r.RPCGRPCSTATUSCODEVALUES_OK=In;r.RPCGRPCSTATUSCODEVALUES_CANCELLED=Mn;r.RPCGRPCSTATUSCODEVALUES_UNKNOWN=Pn;r.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=Ln;r.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=Dn;r.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=wn;r.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=Un;r.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=xn;r.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=Bn;r.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=Vn;r.RPCGRPCSTATUSCODEVALUES_ABORTED=kn;r.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=Gn;r.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=Fn;r.RPCGRPCSTATUSCODEVALUES_INTERNAL=Hn;r.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=jn;r.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=Yn;r.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=Wn;r.RpcGrpcStatusCodeValues={OK:In,CANCELLED:Mn,UNKNOWN:Pn,INVALID_ARGUMENT:Ln,DEADLINE_EXCEEDED:Dn,NOT_FOUND:wn,ALREADY_EXISTS:Un,PERMISSION_DENIED:xn,RESOURCE_EXHAUSTED:Bn,FAILED_PRECONDITION:Vn,ABORTED:kn,OUT_OF_RANGE:Gn,UNIMPLEMENTED:Fn,INTERNAL:Hn,UNAVAILABLE:jn,DATA_LOSS:Yn,UNAUTHENTICATED:Wn};const Kn="SENT";const Xn="RECEIVED";r.MESSAGETYPEVALUES_SENT=Kn;r.MESSAGETYPEVALUES_RECEIVED=Xn;r.MessageTypeValues=(0,n.createConstMap)([Kn,Xn])},{"../internal/utils":129}],133:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./SemanticAttributes"),r)},{"./SemanticAttributes":132}],134:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AttributeNames=void 0;var n;(function(e){e["COMPONENT"]="component";e["HTTP_ERROR_NAME"]="http.error_name";e["HTTP_STATUS_TEXT"]="http.status_text"})(n=r.AttributeNames||(r.AttributeNames={}))},{}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.FetchInstrumentation=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/instrumentation");const i=e("@opentelemetry/core");const s=e("@opentelemetry/sdk-trace-web");const a=e("./enums/AttributeNames");const c=e("@opentelemetry/semantic-conventions");const u=e("./version");const l=e("@opentelemetry/core");const d=300;class p extends o.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-fetch",u.VERSION,e);this.component="fetch";this.version=u.VERSION;this.moduleName=this.component;this._usedResources=new WeakSet;this._tasksCount=0}init(){}_getConfig(){return this._config}_addChildSpan(e,t){const r=this.tracer.startSpan("CORS Preflight",{startTime:t[s.PerformanceTimingNames.FETCH_START]},n.trace.setSpan(n.context.active(),e));if(!this._getConfig().ignoreNetworkEvents){s.addSpanNetworkEvents(r,t)}r.end(t[s.PerformanceTimingNames.RESPONSE_END])}_addFinalSpanAttributes(e,t){const r=s.parseUrl(t.url);e.setAttribute(c.SemanticAttributes.HTTP_STATUS_CODE,t.status);if(t.statusText!=null){e.setAttribute(a.AttributeNames.HTTP_STATUS_TEXT,t.statusText)}e.setAttribute(c.SemanticAttributes.HTTP_HOST,r.host);e.setAttribute(c.SemanticAttributes.HTTP_SCHEME,r.protocol.replace(":",""));if(typeof navigator!=="undefined"){e.setAttribute(c.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}}_addHeaders(e,t){if(!s.shouldPropagateTraceHeaders(t,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};n.propagation.inject(n.context.active(),e);if(Object.keys(e).length>0){this._diag.debug("headers inject skipped due to CORS policy")}return}if(e instanceof Request){n.propagation.inject(n.context.active(),e.headers,{set:(e,t,r)=>e.set(t,typeof r==="string"?r:String(r))})}else if(e.headers instanceof Headers){n.propagation.inject(n.context.active(),e.headers,{set:(e,t,r)=>e.set(t,typeof r==="string"?r:String(r))})}else{const t={};n.propagation.inject(n.context.active(),t);e.headers=Object.assign({},t,e.headers||{})}}_clearResources(){if(this._tasksCount===0&&this._getConfig().clearTimingResources){performance.clearResourceTimings();this._usedResources=new WeakSet}}_createSpan(e,t={}){if(i.isUrlIgnored(e,this._getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}const r=(t.method||"GET").toUpperCase();const o=`HTTP ${r}`;return this.tracer.startSpan(o,{kind:n.SpanKind.CLIENT,attributes:{[a.AttributeNames.COMPONENT]:this.moduleName,[c.SemanticAttributes.HTTP_METHOD]:r,[c.SemanticAttributes.HTTP_URL]:e}})}_findResourceAndAddNetworkEvents(e,t,r){let n=t.entries;if(!n.length){if(!performance.getEntriesByType){return}n=performance.getEntriesByType("resource")}const o=s.getResource(t.spanUrl,t.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){const t=o.mainRequest;this._markResourceAsUsed(t);const r=o.corsPreFlightRequest;if(r){this._addChildSpan(e,r);this._markResourceAsUsed(r)}if(!this._getConfig().ignoreNetworkEvents){s.addSpanNetworkEvents(e,t)}}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,r){const n=i.millisToHrTime(Date.now());const o=i.hrTime();this._addFinalSpanAttributes(e,r);setTimeout((()=>{var r;(r=t.observer)===null||r===void 0?void 0:r.disconnect();this._findResourceAndAddNetworkEvents(e,t,o);this._tasksCount--;this._clearResources();e.end(n)}),d)}_patchConstructor(){return e=>{const t=this;return function r(...o){const i=this;const a=s.parseUrl(o[0]instanceof Request?o[0].url:String(o[0])).href;const c=o[0]instanceof Request?o[0]:o[1]||{};const u=t._createSpan(a,c);if(!u){return e.apply(this,o)}const l=t._prepareSpanData(a);function d(e,r){t._applyAttributesAfterFetch(e,c,r);t._endSpan(e,l,{status:r.status||0,statusText:r.message,url:a})}function p(e,r){t._applyAttributesAfterFetch(e,c,r);if(r.status>=200&&r.status<400){t._endSpan(e,l,r)}else{t._endSpan(e,l,{status:r.status,statusText:r.statusText,url:a})}}function f(e,t,r){try{const t=r.clone();const n=r.clone();const o=t.body;if(o){const t=o.getReader();const r=()=>{t.read().then((({done:t})=>{if(t){p(e,n)}else{r()}}),(t=>{d(e,t)}))};r()}else{p(e,r)}}finally{t(r)}}function m(e,t,r){try{d(e,r)}finally{t(r)}}return new Promise(((r,o)=>n.context.with(n.trace.setSpan(n.context.active(),u),(()=>{t._addHeaders(c,a);t._tasksCount++;return e.apply(i,c instanceof Request?[c]:[a,c]).then(f.bind(i,u,r),m.bind(i,u,o))}))))}}}_applyAttributesAfterFetch(e,t,r){const n=this._getConfig().applyCustomAttributesOnSpan;if(n){(0,o.safeExecuteInTheMiddle)((()=>n(e,t,r)),(e=>{if(!e){return}this._diag.error("applyCustomAttributesOnSpan",e)}),true)}}_prepareSpanData(e){const t=i.hrTime();const r=[];if(typeof PerformanceObserver!=="function"){return{entries:r,startTime:t,spanUrl:e}}const n=new PerformanceObserver((t=>{const n=t.getEntries();n.forEach((t=>{if(t.initiatorType==="fetch"&&t.name===e){r.push(t)}}))}));n.observe({entryTypes:["resource"]});return{entries:r,observer:n,startTime:t,spanUrl:e}}enable(){if((0,o.isWrapped)(fetch)){this._unwrap(l._globalThis,"fetch");this._diag.debug("removing previous patch for constructor")}this._wrap(l._globalThis,"fetch",this._patchConstructor())}disable(){this._unwrap(l._globalThis,"fetch");this._usedResources=new WeakSet}}r.FetchInstrumentation=p},{"./enums/AttributeNames":134,"./version":137,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/instrumentation":299,"@opentelemetry/sdk-trace-web":435,"@opentelemetry/semantic-conventions":438}],136:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./fetch"),r)},{"./fetch":135}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="0.46.0"},{}],138:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./instrumentation"),r);o(e("./types"),r)},{"./instrumentation":139,"./types":140}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LongTaskInstrumentation=void 0;const n=e("@opentelemetry/core");const o=e("@opentelemetry/api");const i=e("@opentelemetry/instrumentation");const s=e("./version");const a="longtask";class c extends i.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-long-task",s.VERSION,e);this.version=s.VERSION}init(){}isSupported(){if(typeof PerformanceObserver==="undefined"||!PerformanceObserver.supportedEntryTypes){return false}return PerformanceObserver.supportedEntryTypes.includes(a)}_createSpanFromEntry(e){const t=this.tracer.startSpan(a,{startTime:(0,n.hrTime)(e.startTime)});if(this._config.observerCallback){try{this._config.observerCallback(t,{longtaskEntry:e})}catch(e){o.diag.error("longtask instrumentation: observer callback failed",e)}}t.setAttribute("longtask.name",e.name);t.setAttribute("longtask.entry_type",e.entryType);t.setAttribute("longtask.duration",e.duration);if(Array.isArray(e.attribution)){e.attribution.forEach(((r,n)=>{const o=e.attribution.length>1?`longtask.attribution[${n}]`:"longtask.attribution";t.setAttribute(`${o}.name`,r.name);t.setAttribute(`${o}.entry_type`,r.entryType);t.setAttribute(`${o}.start_time`,r.startTime);t.setAttribute(`${o}.duration`,r.duration);t.setAttribute(`${o}.container_type`,r.containerType);t.setAttribute(`${o}.container_src`,r.containerSrc);t.setAttribute(`${o}.container_id`,r.containerId);t.setAttribute(`${o}.container_name`,r.containerName)}))}t.end((0,n.hrTime)(e.startTime+e.duration))}enable(){if(!this.isSupported()){this._diag.debug("Environment not supported");return}if(this._observer){return}this._observer=new PerformanceObserver((e=>{e.getEntries().forEach((e=>this._createSpanFromEntry(e)))}));this._observer.observe({type:a,buffered:true})}disable(){if(!this._observer){return}this._observer.disconnect();this._observer=undefined}}r.LongTaskInstrumentation=c},{"./version":141,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/instrumentation":156}],140:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{dup:101}],141:[function(e,t,r){arguments[4][103][0].apply(r,arguments)},{dup:103}],142:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{dup:104}],143:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{"./NoopLogger":142,dup:105}],144:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{"../NoopLoggerProvider":143,"../internal/global-utils":146,dup:106}],145:[function(e,t,r){arguments[4][107][0].apply(r,arguments)},{"./NoopLogger":142,"./NoopLoggerProvider":143,"./api/logs":144,"./types/AnyValue":149,"./types/LogRecord":150,"./types/Logger":151,"./types/LoggerOptions":152,"./types/LoggerProvider":153,dup:107}],146:[function(e,t,r){arguments[4][108][0].apply(r,arguments)},{"../platform":148,dup:108}],147:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{dup:109}],148:[function(e,t,r){arguments[4][27][0].apply(r,arguments)},{"./globalThis":147,dup:27}],149:[function(e,t,r){arguments[4][111][0].apply(r,arguments)},{dup:111}],150:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{dup:112}],151:[function(e,t,r){arguments[4][113][0].apply(r,arguments)},{dup:113}],152:[function(e,t,r){arguments[4][114][0].apply(r,arguments)},{dup:114}],153:[function(e,t,r){arguments[4][115][0].apply(r,arguments)},{dup:115}],154:[function(e,t,r){arguments[4][116][0].apply(r,arguments)},{"./autoLoaderUtils":155,"@opentelemetry/api":19,"@opentelemetry/api-logs":145,dup:116}],155:[function(e,t,r){arguments[4][117][0].apply(r,arguments)},{dup:117}],156:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{"./autoLoader":154,"./instrumentationNodeModuleDefinition":158,"./instrumentationNodeModuleFile":159,"./platform/index":160,"./types":163,"./types_internal":164,"./utils":165,dup:118}],157:[function(e,t,r){arguments[4][119][0].apply(r,arguments)},{"@opentelemetry/api":19,"@opentelemetry/api-logs":145,dup:119,shimmer:449}],158:[function(e,t,r){arguments[4][120][0].apply(r,arguments)},{dup:120}],159:[function(e,t,r){arguments[4][121][0].apply(r,arguments)},{"./platform/index":160,dup:121}],160:[function(e,t,r){arguments[4][122][0].apply(r,arguments)},{"./instrumentation":161,"./noop-normalize":162,dup:122}],161:[function(e,t,r){arguments[4][123][0].apply(r,arguments)},{"../../instrumentation":157,dup:123}],162:[function(e,t,r){arguments[4][124][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:124}],163:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],164:[function(e,t,r){arguments[4][126][0].apply(r,arguments)},{dup:126}],165:[function(e,t,r){arguments[4][127][0].apply(r,arguments)},{dup:127}],166:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AttributeNames=void 0;var n;(function(e){e["HTTP_STATUS_TEXT"]="http.status_text"})(n=r.AttributeNames||(r.AttributeNames={}))},{}],167:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.EventNames=void 0;var n;(function(e){e["METHOD_OPEN"]="open";e["METHOD_SEND"]="send";e["EVENT_ABORT"]="abort";e["EVENT_ERROR"]="error";e["EVENT_LOAD"]="loaded";e["EVENT_TIMEOUT"]="timeout"})(n=r.EventNames||(r.EventNames={}))},{}],168:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./xhr"),r)},{"./xhr":170}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="0.49.1"},{}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.XMLHttpRequestInstrumentation=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/instrumentation");const i=e("@opentelemetry/core");const s=e("@opentelemetry/semantic-conventions");const a=e("@opentelemetry/sdk-trace-web");const c=e("./enums/EventNames");const u=e("./version");const l=e("./enums/AttributeNames");const d=300;class p extends o.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-xml-http-request",u.VERSION,e);this.component="xml-http-request";this.version=u.VERSION;this.moduleName=this.component;this._tasksCount=0;this._xhrMem=new WeakMap;this._usedResources=new WeakSet}init(){}_getConfig(){return this._config}_addHeaders(e,t){const r=(0,a.parseUrl)(t).href;if(!(0,a.shouldPropagateTraceHeaders)(r,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};n.propagation.inject(n.context.active(),e);if(Object.keys(e).length>0){this._diag.debug("headers inject skipped due to CORS policy")}return}const o={};n.propagation.inject(n.context.active(),o);Object.keys(o).forEach((t=>{e.setRequestHeader(t,String(o[t]))}))}_addChildSpan(e,t){n.context.with(n.trace.setSpan(n.context.active(),e),(()=>{const e=this.tracer.startSpan("CORS Preflight",{startTime:t[a.PerformanceTimingNames.FETCH_START]});(0,a.addSpanNetworkEvents)(e,t);e.end(t[a.PerformanceTimingNames.RESPONSE_END])}))}_addFinalSpanAttributes(e,t,r){if(typeof r==="string"){const n=(0,a.parseUrl)(r);if(t.status!==undefined){e.setAttribute(s.SemanticAttributes.HTTP_STATUS_CODE,t.status)}if(t.statusText!==undefined){e.setAttribute(l.AttributeNames.HTTP_STATUS_TEXT,t.statusText)}e.setAttribute(s.SemanticAttributes.HTTP_HOST,n.host);e.setAttribute(s.SemanticAttributes.HTTP_SCHEME,n.protocol.replace(":",""));e.setAttribute(s.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}}_applyAttributesAfterXHR(e,t){const r=this._getConfig().applyCustomAttributesOnSpan;if(typeof r==="function"){(0,o.safeExecuteInTheMiddle)((()=>r(e,t)),(e=>{if(!e){return}this._diag.error("applyCustomAttributesOnSpan",e)}),true)}}_addResourceObserver(e,t){const r=this._xhrMem.get(e);if(!r||typeof PerformanceObserver!=="function"||typeof PerformanceResourceTiming!=="function"){return}r.createdResources={observer:new PerformanceObserver((e=>{const n=e.getEntries();const o=(0,a.parseUrl)(t);n.forEach((e=>{if(e.initiatorType==="xmlhttprequest"&&e.name===o.href){if(r.createdResources){r.createdResources.entries.push(e)}}}))})),entries:[]};r.createdResources.observer.observe({entryTypes:["resource"]})}_clearResources(){if(this._tasksCount===0&&this._getConfig().clearTimingResources){i.otperformance.clearResourceTimings();this._xhrMem=new WeakMap;this._usedResources=new WeakSet}}_findResourceAndAddNetworkEvents(e,t,r,n,o){if(!r||!n||!o||!e.createdResources){return}let s=e.createdResources.entries;if(!s||!s.length){s=i.otperformance.getEntriesByType("resource")}const c=(0,a.getResource)((0,a.parseUrl)(r).href,n,o,s,this._usedResources);if(c.mainRequest){const e=c.mainRequest;this._markResourceAsUsed(e);const r=c.corsPreFlightRequest;if(r){this._addChildSpan(t,r);this._markResourceAsUsed(r)}(0,a.addSpanNetworkEvents)(t,e)}}_cleanPreviousSpanInformation(e){const t=this._xhrMem.get(e);if(t){const r=t.callbackToRemoveEvents;if(r){r()}this._xhrMem.delete(e)}}_createSpan(e,t,r){if((0,i.isUrlIgnored)(t,this._getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}const o=r.toUpperCase();const u=this.tracer.startSpan(o,{kind:n.SpanKind.CLIENT,attributes:{[s.SemanticAttributes.HTTP_METHOD]:r,[s.SemanticAttributes.HTTP_URL]:(0,a.parseUrl)(t).toString()}});u.addEvent(c.EventNames.METHOD_OPEN);this._cleanPreviousSpanInformation(e);this._xhrMem.set(e,{span:u,spanUrl:t});return u}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{const t=this;return function r(...n){const o=n[0];const i=n[1];t._createSpan(this,i,o);return e.apply(this,n)}}}_patchSend(){const e=this;function t(t,r,n,o){const i=r.callbackToRemoveEvents;if(typeof i==="function"){i()}const{span:s,spanUrl:a,sendStartTime:c}=r;if(s){e._findResourceAndAddNetworkEvents(r,s,a,c,n);s.addEvent(t,o);e._addFinalSpanAttributes(s,r,a);s.end(o);e._tasksCount--}e._clearResources()}function r(r,n){const o=e._xhrMem.get(n);if(!o){return}o.status=n.status;o.statusText=n.statusText;e._xhrMem.delete(n);if(o.span){e._applyAttributesAfterXHR(o.span,n)}const s=(0,i.hrTime)();const a=Date.now();setTimeout((()=>{t(r,o,s,a)}),d)}function o(){r(c.EventNames.EVENT_ERROR,this)}function s(){r(c.EventNames.EVENT_ABORT,this)}function a(){r(c.EventNames.EVENT_TIMEOUT,this)}function u(){if(this.status<299){r(c.EventNames.EVENT_LOAD,this)}else{r(c.EventNames.EVENT_ERROR,this)}}function l(t){t.removeEventListener("abort",s);t.removeEventListener("error",o);t.removeEventListener("load",u);t.removeEventListener("timeout",a);const r=e._xhrMem.get(t);if(r){r.callbackToRemoveEvents=undefined}}return t=>function r(...d){const p=e._xhrMem.get(this);if(!p){return t.apply(this,d)}const f=p.span;const m=p.spanUrl;if(f&&m){n.context.with(n.trace.setSpan(n.context.active(),f),(()=>{e._tasksCount++;p.sendStartTime=(0,i.hrTime)();f.addEvent(c.EventNames.METHOD_SEND);this.addEventListener("abort",s);this.addEventListener("error",o);this.addEventListener("load",u);this.addEventListener("timeout",a);p.callbackToRemoveEvents=()=>{l(this);if(p.createdResources){p.createdResources.observer.disconnect()}};e._addHeaders(this,m);e._addResourceObserver(this,m)}))}return t.apply(this,d)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version);if((0,o.isWrapped)(XMLHttpRequest.prototype.open)){this._unwrap(XMLHttpRequest.prototype,"open");this._diag.debug("removing previous patch from method open")}if((0,o.isWrapped)(XMLHttpRequest.prototype.send)){this._unwrap(XMLHttpRequest.prototype,"send");this._diag.debug("removing previous patch from method send")}this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen());this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version);this._unwrap(XMLHttpRequest.prototype,"open");this._unwrap(XMLHttpRequest.prototype,"send");this._tasksCount=0;this._xhrMem=new WeakMap;this._usedResources=new WeakSet}}r.XMLHttpRequestInstrumentation=p},{"./enums/AttributeNames":166,"./enums/EventNames":167,"./version":169,"@opentelemetry/api":19,"@opentelemetry/core":193,"@opentelemetry/instrumentation":226,"@opentelemetry/sdk-trace-web":288,"@opentelemetry/semantic-conventions":291}],171:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{dup:104}],172:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{"./NoopLogger":171,dup:105}],173:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{"../NoopLoggerProvider":172,"../internal/global-utils":175,dup:106}],174:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.logs=void 0;o(e("./types/Logger"),r);o(e("./types/LoggerProvider"),r);o(e("./types/LogRecord"),r);o(e("./types/LoggerOptions"),r);o(e("./NoopLogger"),r);o(e("./NoopLoggerProvider"),r);const i=e("./api/logs");r.logs=i.LogsAPI.getInstance()},{"./NoopLogger":171,"./NoopLoggerProvider":172,"./api/logs":173,"./types/LogRecord":178,"./types/Logger":179,"./types/LoggerOptions":180,"./types/LoggerProvider":181}],175:[function(e,t,r){arguments[4][108][0].apply(r,arguments)},{"../platform":177,dup:108}],176:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{dup:109}],177:[function(e,t,r){arguments[4][27][0].apply(r,arguments)},{"./globalThis":176,dup:27}],178:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{dup:112}],179:[function(e,t,r){arguments[4][113][0].apply(r,arguments)},{dup:113}],180:[function(e,t,r){arguments[4][114][0].apply(r,arguments)},{dup:114}],181:[function(e,t,r){arguments[4][115][0].apply(r,arguments)},{dup:115}],182:[function(e,t,r){arguments[4][48][0].apply(r,arguments)},{dup:48}],183:[function(e,t,r){arguments[4][49][0].apply(r,arguments)},{dup:49}],184:[function(e,t,r){arguments[4][50][0].apply(r,arguments)},{"../../trace/suppress-tracing":213,"../constants":183,"../utils":185,"@opentelemetry/api":19,dup:50}],185:[function(e,t,r){arguments[4][51][0].apply(r,arguments)},{"./constants":183,"@opentelemetry/api":19,dup:51}],186:[function(e,t,r){arguments[4][52][0].apply(r,arguments)},{dup:52}],187:[function(e,t,r){arguments[4][53][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:53}],188:[function(e,t,r){arguments[4][54][0].apply(r,arguments)},{"./logging-error-handler":190,dup:54}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hexToBinary=void 0;function n(e){if(e>=48&&e<=57){return e-48}if(e>=97&&e<=102){return e-87}return e-55}function o(e){const t=new Uint8Array(e.length/2);let r=0;for(let o=0;o<e.length;o+=2){const i=n(e.charCodeAt(o));const s=n(e.charCodeAt(o+1));t[r++]=i<<4|s}return t}r.hexToBinary=o},{}],190:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:55}],191:[function(e,t,r){arguments[4][56][0].apply(r,arguments)},{"../platform":200,dup:56}],192:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],193:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.internal=r.baggageUtils=void 0;o(e("./baggage/propagation/W3CBaggagePropagator"),r);o(e("./common/anchored-clock"),r);o(e("./common/attributes"),r);o(e("./common/global-error-handler"),r);o(e("./common/logging-error-handler"),r);o(e("./common/time"),r);o(e("./common/types"),r);o(e("./common/hex-to-binary"),r);o(e("./ExportResult"),r);r.baggageUtils=e("./baggage/utils");o(e("./platform"),r);o(e("./propagation/composite"),r);o(e("./trace/W3CTraceContextPropagator"),r);o(e("./trace/IdGenerator"),r);o(e("./trace/rpc-metadata"),r);o(e("./trace/sampler/AlwaysOffSampler"),r);o(e("./trace/sampler/AlwaysOnSampler"),r);o(e("./trace/sampler/ParentBasedSampler"),r);o(e("./trace/sampler/TraceIdRatioBasedSampler"),r);o(e("./trace/suppress-tracing"),r);o(e("./trace/TraceState"),r);o(e("./utils/environment"),r);o(e("./utils/merge"),r);o(e("./utils/sampling"),r);o(e("./utils/timeout"),r);o(e("./utils/url"),r);o(e("./utils/wrap"),r);o(e("./utils/callback"),r);o(e("./version"),r);const i=e("./internal/exporter");r.internal={_export:i._export}},{"./ExportResult":182,"./baggage/propagation/W3CBaggagePropagator":184,"./baggage/utils":185,"./common/anchored-clock":186,"./common/attributes":187,"./common/global-error-handler":188,"./common/hex-to-binary":189,"./common/logging-error-handler":190,"./common/time":191,"./common/types":192,"./internal/exporter":194,"./platform":200,"./propagation/composite":204,"./trace/IdGenerator":205,"./trace/TraceState":206,"./trace/W3CTraceContextPropagator":207,"./trace/rpc-metadata":208,"./trace/sampler/AlwaysOffSampler":209,"./trace/sampler/AlwaysOnSampler":210,"./trace/sampler/ParentBasedSampler":211,"./trace/sampler/TraceIdRatioBasedSampler":212,"./trace/suppress-tracing":213,"./utils/callback":214,"./utils/environment":215,"./utils/merge":217,"./utils/sampling":219,"./utils/timeout":220,"./utils/url":221,"./utils/wrap":222,"./version":223}],194:[function(e,t,r){arguments[4][59][0].apply(r,arguments)},{"../trace/suppress-tracing":213,"@opentelemetry/api":19,dup:59}],195:[function(e,t,r){arguments[4][60][0].apply(r,arguments)},{dup:60}],196:[function(e,t,r){arguments[4][61][0].apply(r,arguments)},{dup:61}],197:[function(e,t,r){arguments[4][62][0].apply(r,arguments)},{"../../utils/environment":215,"./globalThis":198,dup:62}],198:[function(e,t,r){arguments[4][63][0].apply(r,arguments)},{dup:63}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hexToBase64=void 0;const n=e("../../common/hex-to-binary");function o(e){return btoa(String.fromCharCode(...(0,n.hexToBinary)(e)))}r.hexToBase64=o},{"../../common/hex-to-binary":189}],200:[function(e,t,r){arguments[4][65][0].apply(r,arguments)},{"./RandomIdGenerator":196,"./environment":197,"./globalThis":198,"./hex-to-base64":199,"./performance":201,"./sdk-info":202,"./timer-util":203,dup:65}],201:[function(e,t,r){arguments[4][66][0].apply(r,arguments)},{dup:66}],202:[function(e,t,r){arguments[4][67][0].apply(r,arguments)},{"../../version":223,"@opentelemetry/semantic-conventions":291,dup:67}],203:[function(e,t,r){arguments[4][68][0].apply(r,arguments)},{dup:68}],204:[function(e,t,r){arguments[4][69][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:69}],205:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],206:[function(e,t,r){arguments[4][71][0].apply(r,arguments)},{"../internal/validators":195,dup:71}],207:[function(e,t,r){arguments[4][72][0].apply(r,arguments)},{"./TraceState":206,"./suppress-tracing":213,"@opentelemetry/api":19,dup:72}],208:[function(e,t,r){arguments[4][73][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:73}],209:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:74}],210:[function(e,t,r){arguments[4][75][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:75}],211:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{"../../common/global-error-handler":188,"./AlwaysOffSampler":209,"./AlwaysOnSampler":210,"@opentelemetry/api":19,dup:76}],212:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:77}],213:[function(e,t,r){arguments[4][78][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:78}],214:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{"./promise":218,dup:79}],215:[function(e,t,r){arguments[4][80][0].apply(r,arguments)},{"../platform/browser/globalThis":198,"./sampling":219,"@opentelemetry/api":19,_process:447,dup:80}],216:[function(e,t,r){arguments[4][81][0].apply(r,arguments)},{dup:81}],217:[function(e,t,r){arguments[4][82][0].apply(r,arguments)},{"./lodash.merge":216,dup:82}],218:[function(e,t,r){arguments[4][83][0].apply(r,arguments)},{dup:83}],219:[function(e,t,r){arguments[4][84][0].apply(r,arguments)},{dup:84}],220:[function(e,t,r){arguments[4][85][0].apply(r,arguments)},{dup:85}],221:[function(e,t,r){arguments[4][86][0].apply(r,arguments)},{dup:86}],222:[function(e,t,r){arguments[4][87][0].apply(r,arguments)},{dup:87}],223:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION=void 0;r.VERSION="1.22.0"},{}],224:[function(e,t,r){arguments[4][116][0].apply(r,arguments)},{"./autoLoaderUtils":225,"@opentelemetry/api":19,"@opentelemetry/api-logs":174,dup:116}],225:[function(e,t,r){arguments[4][117][0].apply(r,arguments)},{dup:117}],226:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{"./autoLoader":224,"./instrumentationNodeModuleDefinition":228,"./instrumentationNodeModuleFile":229,"./platform/index":230,"./types":233,"./types_internal":234,"./utils":235,dup:118}],227:[function(e,t,r){arguments[4][119][0].apply(r,arguments)},{"@opentelemetry/api":19,"@opentelemetry/api-logs":174,dup:119,shimmer:449}],228:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleDefinition=void 0;class n{constructor(e,t,r,n,o){this.name=e;this.supportedVersions=t;this.patch=r;this.unpatch=n;this.files=o||[]}}r.InstrumentationNodeModuleDefinition=n},{}],229:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleFile=void 0;const n=e("./platform/index");class o{constructor(e,t,r,o){this.supportedVersions=t;this.patch=r;this.unpatch=o;this.name=(0,n.normalize)(e)}}r.InstrumentationNodeModuleFile=o},{"./platform/index":230}],230:[function(e,t,r){arguments[4][122][0].apply(r,arguments)},{"./instrumentation":231,"./noop-normalize":232,dup:122}],231:[function(e,t,r){arguments[4][123][0].apply(r,arguments)},{"../../instrumentation":227,dup:123}],232:[function(e,t,r){arguments[4][124][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:124}],233:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],234:[function(e,t,r){arguments[4][126][0].apply(r,arguments)},{dup:126}],235:[function(e,t,r){arguments[4][127][0].apply(r,arguments)},{dup:127}],236:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],237:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Resource=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/semantic-conventions");const i=e("@opentelemetry/core");const s=e("./platform");class a{constructor(e,t){var r;this._attributes=e;this.asyncAttributesPending=t!=null;this._syncAttributes=(r=this._attributes)!==null&&r!==void 0?r:{};this._asyncAttributesPromise=t===null||t===void 0?void 0:t.then((e=>{this._attributes=Object.assign({},this._attributes,e);this.asyncAttributesPending=false;return e}),(e=>{n.diag.debug("a resource's async attributes promise rejected: %s",e);this.asyncAttributesPending=false;return{}}))}static empty(){return a.EMPTY}static default(){return new a({[o.SemanticResourceAttributes.SERVICE_NAME]:(0,s.defaultServiceName)(),[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:i.SDK_INFO[o.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:i.SDK_INFO[o.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:i.SDK_INFO[o.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var e;if(this.asyncAttributesPending){n.diag.error("Accessing resource attributes before async attributes settled")}return(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){if(this.asyncAttributesPending){await this._asyncAttributesPromise}}merge(e){var t;if(!e)return this;const r=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise){return new a(r)}const n=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((([t,r])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),t),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),r)}));return new a(r,n)}}r.Resource=a;a.EMPTY=new a({})},{"./platform":255,"@opentelemetry/api":19,"@opentelemetry/core":193,"@opentelemetry/semantic-conventions":291}],238:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],239:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.detectResourcesSync=r.detectResources=void 0;const n=e("./Resource");const o=e("@opentelemetry/api");const i=e("./utils");const s=async(e={})=>{const t=await Promise.all((e.detectors||[]).map((async t=>{try{const r=await t.detect(e);o.diag.debug(`${t.constructor.name} found resource.`,r);return r}catch(e){o.diag.debug(`${t.constructor.name} failed: ${e.message}`);return n.Resource.empty()}})));c(t);return t.reduce(((e,t)=>e.merge(t)),n.Resource.empty())};r.detectResources=s;const a=(e={})=>{var t;const r=((t=e.detectors)!==null&&t!==void 0?t:[]).map((t=>{try{const r=t.detect(e);let s;if((0,i.isPromiseLike)(r)){const e=async()=>{const e=await r;return e.attributes};s=new n.Resource({},e())}else{s=r}if(s.waitForAsyncAttributes){void s.waitForAsyncAttributes().then((()=>o.diag.debug(`${t.constructor.name} found resource.`,s)))}else{o.diag.debug(`${t.constructor.name} found resource.`,s)}return s}catch(e){o.diag.error(`${t.constructor.name} failed: ${e.message}`);return n.Resource.empty()}}));const s=r.reduce(((e,t)=>e.merge(t)),n.Resource.empty());if(s.waitForAsyncAttributes){void s.waitForAsyncAttributes().then((()=>{c(r)}))}return s};r.detectResourcesSync=a;const c=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){const t=JSON.stringify(e.attributes,null,4);o.diag.verbose(t)}}))}},{"./Resource":237,"./utils":257,"@opentelemetry/api":19}],240:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.browserDetector=void 0;const n=e("..");class o{detect(e){return Promise.resolve(n.browserDetectorSync.detect(e))}}r.browserDetector=new o},{"..":247}],241:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.browserDetectorSync=void 0;const n=e("@opentelemetry/semantic-conventions");const o=e("..");const i=e("@opentelemetry/api");class s{detect(e){const t=typeof navigator!=="undefined";if(!t){return o.Resource.empty()}const r={[n.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[n.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[n.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(r,e)}_getResourceAttributes(e,t){if(e[n.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""){i.diag.debug("BrowserDetector failed: Unable to find required browser resources. ");return o.Resource.empty()}else{return new o.Resource(Object.assign({},e))}}}r.browserDetectorSync=new s},{"..":247,"@opentelemetry/api":19,"@opentelemetry/semantic-conventions":291}],242:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.envDetector=void 0;const n=e("./EnvDetectorSync");class o{detect(e){return Promise.resolve(n.envDetectorSync.detect(e))}}r.envDetector=new o},{"./EnvDetectorSync":243}],243:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.envDetectorSync=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("@opentelemetry/semantic-conventions");const s=e("../Resource");class a{constructor(){this._MAX_LENGTH=255;this._COMMA_SEPARATOR=",";this._LABEL_KEY_VALUE_SPLITTER="=";this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){const t={};const r=(0,o.getEnv)();const a=r.OTEL_RESOURCE_ATTRIBUTES;const c=r.OTEL_SERVICE_NAME;if(a){try{const e=this._parseResourceAttributes(a);Object.assign(t,e)}catch(e){n.diag.debug(`EnvDetector failed: ${e.message}`)}}if(c){t[i.SemanticResourceAttributes.SERVICE_NAME]=c}return new s.Resource(t)}_parseResourceAttributes(e){if(!e)return{};const t={};const r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(r.length!==2){continue}let[n,o]=r;n=n.trim();o=o.trim().split(/^"|"$/).join("");if(!this._isValidAndNotEmpty(n)){throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`)}if(!this._isValid(o)){throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`)}t[n]=decodeURIComponent(o)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||r===44||r===59||r===92||r>126){return false}}return true}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}r.envDetectorSync=new a},{"../Resource":237,"@opentelemetry/api":19,"@opentelemetry/core":193,"@opentelemetry/semantic-conventions":291}],244:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.noopDetector=r.NoopDetector=void 0;const n=e("./NoopDetectorSync");class o{detect(){return Promise.resolve(n.noopDetectorSync.detect())}}r.NoopDetector=o;r.noopDetector=new o},{"./NoopDetectorSync":245}],245:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.noopDetectorSync=r.NoopDetectorSync=void 0;const n=e("../Resource");class o{detect(){return new n.Resource({})}}r.NoopDetectorSync=o;r.noopDetectorSync=new o},{"../Resource":237}],246:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./BrowserDetector"),r);o(e("./EnvDetector"),r);o(e("./BrowserDetectorSync"),r);o(e("./EnvDetectorSync"),r)},{"./BrowserDetector":240,"./BrowserDetectorSync":241,"./EnvDetector":242,"./EnvDetectorSync":243}],247:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./Resource"),r);o(e("./IResource"),r);o(e("./platform"),r);o(e("./types"),r);o(e("./config"),r);o(e("./detectors"),r);o(e("./detect-resources"),r)},{"./IResource":236,"./Resource":237,"./config":238,"./detect-resources":239,"./detectors":246,"./platform":255,"./types":256}],248:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hostDetector=void 0;const n=e("../../detectors/NoopDetector");r.hostDetector=n.noopDetector},{"../../detectors/NoopDetector":244}],249:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.hostDetectorSync=void 0;const n=e("../../detectors/NoopDetectorSync");r.hostDetectorSync=n.noopDetectorSync},{"../../detectors/NoopDetectorSync":245}],250:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.osDetector=void 0;const n=e("../../detectors/NoopDetector");r.osDetector=n.noopDetector},{"../../detectors/NoopDetector":244}],251:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.osDetectorSync=void 0;const n=e("../../detectors/NoopDetectorSync");r.osDetectorSync=n.noopDetectorSync},{"../../detectors/NoopDetectorSync":245}],252:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.processDetector=void 0;const n=e("../../detectors/NoopDetector");r.processDetector=n.noopDetector},{"../../detectors/NoopDetector":244}],253:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.processDetectorSync=void 0;const n=e("../../detectors/NoopDetector");r.processDetectorSync=n.noopDetector},{"../../detectors/NoopDetector":244}],254:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.defaultServiceName=void 0;function n(){return"unknown_service"}r.defaultServiceName=n},{}],255:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./default-service-name"),r);o(e("./HostDetector"),r);o(e("./OSDetector"),r);o(e("./HostDetectorSync"),r);o(e("./OSDetectorSync"),r);o(e("./ProcessDetector"),r);o(e("./ProcessDetectorSync"),r)},{"./HostDetector":248,"./HostDetectorSync":249,"./OSDetector":250,"./OSDetectorSync":251,"./ProcessDetector":252,"./ProcessDetectorSync":253,"./default-service-name":254}],256:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],257:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isPromiseLike=void 0;const n=e=>e!==null&&typeof e==="object"&&typeof e.then==="function";r.isPromiseLike=n},{}],258:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BasicTracerProvider=r.ForceFlushState=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("@opentelemetry/resources");const s=e(".");const a=e("./config");const c=e("./MultiSpanProcessor");const u=e("./export/NoopSpanProcessor");const l=e("./platform");const d=e("./utility");var p;(function(e){e[e["resolved"]=0]="resolved";e[e["timeout"]=1]="timeout";e[e["error"]=2]="error";e[e["unresolved"]=3]="unresolved"})(p=r.ForceFlushState||(r.ForceFlushState={}));class f{constructor(e={}){var t;this._registeredSpanProcessors=[];this._tracers=new Map;const r=(0,o.merge)({},(0,a.loadDefaultConfig)(),(0,d.reconfigureLimits)(e));this.resource=(t=r.resource)!==null&&t!==void 0?t:i.Resource.empty();this.resource=i.Resource.default().merge(this.resource);this._config=Object.assign({},r,{resource:this.resource});const n=this._buildExporterFromEnv();if(n!==undefined){const e=new l.BatchSpanProcessor(n);this.activeSpanProcessor=e}else{this.activeSpanProcessor=new u.NoopSpanProcessor}}getTracer(e,t,r){const n=`${e}@${t||""}:${(r===null||r===void 0?void 0:r.schemaUrl)||""}`;if(!this._tracers.has(n)){this._tracers.set(n,new s.Tracer({name:e,version:t,schemaUrl:r===null||r===void 0?void 0:r.schemaUrl},this._config,this))}return this._tracers.get(n)}addSpanProcessor(e){if(this._registeredSpanProcessors.length===0){this.activeSpanProcessor.shutdown().catch((e=>n.diag.error("Error while trying to shutdown current span processor",e)))}this._registeredSpanProcessors.push(e);this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this);if(e.propagator===undefined){e.propagator=this._buildPropagatorFromEnv()}if(e.contextManager){n.context.setGlobalContextManager(e.contextManager)}if(e.propagator){n.propagation.setGlobalPropagator(e.propagator)}}forceFlush(){const e=this._config.forceFlushTimeoutMillis;const t=this._registeredSpanProcessors.map((t=>new Promise((r=>{let n;const o=setTimeout((()=>{r(new Error(`Span processor did not completed within timeout period of ${e} ms`));n=p.timeout}),e);t.forceFlush().then((()=>{clearTimeout(o);if(n!==p.timeout){n=p.resolved;r(n)}})).catch((e=>{clearTimeout(o);n=p.error;r(e)}))}))));return new Promise(((e,r)=>{Promise.all(t).then((t=>{const n=t.filter((e=>e!==p.resolved));if(n.length>0){r(n)}else{e()}})).catch((e=>r([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){const e=Array.from(new Set((0,o.getEnv)().OTEL_PROPAGATORS));const t=e.map((e=>{const t=this._getPropagator(e);if(!t){n.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`)}return t}));const r=t.reduce(((e,t)=>{if(t){e.push(t)}return e}),[]);if(r.length===0){return}else if(e.length===1){return r[0]}else{return new o.CompositePropagator({propagators:r})}}_buildExporterFromEnv(){const e=(0,o.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;const t=this._getSpanExporter(e);if(!t){n.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`)}return t}}r.BasicTracerProvider=f;f._registeredPropagators=new Map([["tracecontext",()=>new o.W3CTraceContextPropagator],["baggage",()=>new o.W3CBaggagePropagator]]);f._registeredExporters=new Map},{".":275,"./MultiSpanProcessor":260,"./config":266,"./export/NoopSpanProcessor":271,"./platform":278,"./utility":284,"@opentelemetry/api":19,"@opentelemetry/core":193,"@opentelemetry/resources":247}],259:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],260:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MultiSpanProcessor=void 0;const n=e("@opentelemetry/core");class o{constructor(e){this._spanProcessors=e}forceFlush(){const e=[];for(const t of this._spanProcessors){e.push(t.forceFlush())}return new Promise((t=>{Promise.all(e).then((()=>{t()})).catch((e=>{(0,n.globalErrorHandler)(e||new Error("MultiSpanProcessor: forceFlush failed"));t()}))}))}onStart(e,t){for(const r of this._spanProcessors){r.onStart(e,t)}}onEnd(e){for(const t of this._spanProcessors){t.onEnd(e)}}shutdown(){const e=[];for(const t of this._spanProcessors){e.push(t.shutdown())}return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}}r.MultiSpanProcessor=o},{"@opentelemetry/core":193}],261:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SamplingDecision=void 0;var n;(function(e){e[e["NOT_RECORD"]=0]="NOT_RECORD";e[e["RECORD"]=1]="RECORD";e[e["RECORD_AND_SAMPLED"]=2]="RECORD_AND_SAMPLED"})(n=r.SamplingDecision||(r.SamplingDecision={}))},{}],262:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Span=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("@opentelemetry/semantic-conventions");const s=e("./enums");class a{constructor(e,t,r,i,s,a,c=[],u,l,d){this.attributes={};this.links=[];this.events=[];this._droppedAttributesCount=0;this._droppedEventsCount=0;this._droppedLinksCount=0;this.status={code:n.SpanStatusCode.UNSET};this.endTime=[0,0];this._ended=false;this._duration=[-1,-1];this.name=r;this._spanContext=i;this.parentSpanId=a;this.kind=s;this.links=c;const p=Date.now();this._performanceStartTime=o.otperformance.now();this._performanceOffset=p-(this._performanceStartTime+(0,o.getTimeOrigin)());this._startTimeProvided=u!=null;this.startTime=this._getTime(u!==null&&u!==void 0?u:p);this.resource=e.resource;this.instrumentationLibrary=e.instrumentationLibrary;this._spanLimits=e.getSpanLimits();this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0;if(d!=null){this.setAttributes(d)}this._spanProcessor=e.getActiveSpanProcessor();this._spanProcessor.onStart(this,t)}spanContext(){return this._spanContext}setAttribute(e,t){if(t==null||this._isSpanEnded())return this;if(e.length===0){n.diag.warn(`Invalid attribute key: ${e}`);return this}if(!(0,o.isAttributeValue)(t)){n.diag.warn(`Invalid attribute value set for key: ${e}`);return this}if(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)){this._droppedAttributesCount++;return this}this.attributes[e]=this._truncateToSize(t);return this}setAttributes(e){for(const[t,r]of Object.entries(e)){this.setAttribute(t,r)}return this}addEvent(e,t,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0){n.diag.warn("No events allowed.");this._droppedEventsCount++;return this}if(this.events.length>=this._spanLimits.eventCountLimit){if(this._droppedEventsCount===0){n.diag.debug("Dropping extra events.")}this.events.shift();this._droppedEventsCount++}if((0,o.isTimeInput)(t)){if(!(0,o.isTimeInput)(r)){r=t}t=undefined}const i=(0,o.sanitizeAttributes)(t);this.events.push({name:e,attributes:i,time:this._getTime(r),droppedAttributesCount:0});return this}setStatus(e){if(this._isSpanEnded())return this;this.status=e;return this}updateName(e){if(this._isSpanEnded())return this;this.name=e;return this}end(e){if(this._isSpanEnded()){n.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=true;this.endTime=this._getTime(e);this._duration=(0,o.hrTimeDuration)(this.startTime,this.endTime);if(this._duration[0]<0){n.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime);this.endTime=this.startTime.slice();this._duration=[0,0]}if(this._droppedEventsCount>0){n.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`)}this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e==="number"&&e<o.otperformance.now()){return(0,o.hrTime)(e+this._performanceOffset)}if(typeof e==="number"){return(0,o.millisToHrTime)(e)}if(e instanceof Date){return(0,o.millisToHrTime)(e.getTime())}if((0,o.isTimeInputHrTime)(e)){return e}if(this._startTimeProvided){return(0,o.millisToHrTime)(Date.now())}const t=o.otperformance.now()-this._performanceStartTime;return(0,o.addHrTimes)(this.startTime,(0,o.millisToHrTime)(t))}isRecording(){return this._ended===false}recordException(e,t){const r={};if(typeof e==="string"){r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e}else if(e){if(e.code){r[i.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString()}else if(e.name){r[i.SemanticAttributes.EXCEPTION_TYPE]=e.name}if(e.message){r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e.message}if(e.stack){r[i.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack}}if(r[i.SemanticAttributes.EXCEPTION_TYPE]||r[i.SemanticAttributes.EXCEPTION_MESSAGE]){this.addEvent(s.ExceptionEventName,r,t)}else{n.diag.warn(`Failed to record an exception ${e}`)}}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){n.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`)}return this._ended}_truncateToLimitUtil(e,t){if(e.length<=t){return e}return e.substr(0,t)}_truncateToSize(e){const t=this._attributeValueLengthLimit;if(t<=0){n.diag.warn(`Attribute value limit must be positive, got ${t}`);return e}if(typeof e==="string"){return this._truncateToLimitUtil(e,t)}if(Array.isArray(e)){return e.map((e=>typeof e==="string"?this._truncateToLimitUtil(e,t):e))}return e}}r.Span=a},{"./enums":267,"@opentelemetry/api":19,"@opentelemetry/core":193,"@opentelemetry/semantic-conventions":291}],263:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],264:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],265:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Tracer=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./Span");const s=e("./utility");const a=e("./platform");class c{constructor(e,t,r){this._tracerProvider=r;const n=(0,s.mergeConfig)(t);this._sampler=n.sampler;this._generalLimits=n.generalLimits;this._spanLimits=n.spanLimits;this._idGenerator=t.idGenerator||new a.RandomIdGenerator;this.resource=r.resource;this.instrumentationLibrary=e}startSpan(e,t={},r=n.context.active()){var s,a,c;if(t.root){r=n.trace.deleteSpan(r)}const u=n.trace.getSpan(r);if((0,o.isTracingSuppressed)(r)){n.diag.debug("Instrumentation suppressed, returning Noop Span");const e=n.trace.wrapSpanContext(n.INVALID_SPAN_CONTEXT);return e}const l=u===null||u===void 0?void 0:u.spanContext();const d=this._idGenerator.generateSpanId();let p;let f;let m;if(!l||!n.trace.isSpanContextValid(l)){p=this._idGenerator.generateTraceId()}else{p=l.traceId;f=l.traceState;m=l.spanId}const h=(s=t.kind)!==null&&s!==void 0?s:n.SpanKind.INTERNAL;const E=((a=t.links)!==null&&a!==void 0?a:[]).map((e=>({context:e.context,attributes:(0,o.sanitizeAttributes)(e.attributes)})));const _=(0,o.sanitizeAttributes)(t.attributes);const S=this._sampler.shouldSample(r,p,e,h,_,E);f=(c=S.traceState)!==null&&c!==void 0?c:f;const g=S.decision===n.SamplingDecision.RECORD_AND_SAMPLED?n.TraceFlags.SAMPLED:n.TraceFlags.NONE;const T={traceId:p,spanId:d,traceFlags:g,traceState:f};if(S.decision===n.SamplingDecision.NOT_RECORD){n.diag.debug("Recording is off, propagating context in a non-recording span");const e=n.trace.wrapSpanContext(T);return e}const A=(0,o.sanitizeAttributes)(Object.assign(_,S.attributes));const y=new i.Span(this,r,e,T,h,m,E,t.startTime,undefined,A);return y}startActiveSpan(e,t,r,o){let i;let s;let a;if(arguments.length<2){return}else if(arguments.length===2){a=t}else if(arguments.length===3){i=t;a=r}else{i=t;s=r;a=o}const c=s!==null&&s!==void 0?s:n.context.active();const u=this.startSpan(e,i,c);const l=n.trace.setSpan(c,u);return n.context.with(l,a,undefined,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}r.Tracer=c},{"./Span":262,"./platform":278,"./utility":284,"@opentelemetry/api":19,"@opentelemetry/core":193}],266:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.buildSamplerFromEnv=r.loadDefaultConfig=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./sampler/AlwaysOffSampler");const s=e("./sampler/AlwaysOnSampler");const a=e("./sampler/ParentBasedSampler");const c=e("./sampler/TraceIdRatioBasedSampler");const u=(0,o.getEnv)();const l=o.TracesSamplerValues.AlwaysOn;const d=1;function p(){return{sampler:f(u),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,o.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}r.loadDefaultConfig=p;function f(e=(0,o.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case o.TracesSamplerValues.AlwaysOn:return new s.AlwaysOnSampler;case o.TracesSamplerValues.AlwaysOff:return new i.AlwaysOffSampler;case o.TracesSamplerValues.ParentBasedAlwaysOn:return new a.ParentBasedSampler({root:new s.AlwaysOnSampler});case o.TracesSamplerValues.ParentBasedAlwaysOff:return new a.ParentBasedSampler({root:new i.AlwaysOffSampler});case o.TracesSamplerValues.TraceIdRatio:return new c.TraceIdRatioBasedSampler(m(e));case o.TracesSamplerValues.ParentBasedTraceIdRatio:return new a.ParentBasedSampler({root:new c.TraceIdRatioBasedSampler(m(e))});default:n.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${l}".`);return new s.AlwaysOnSampler}}r.buildSamplerFromEnv=f;function m(e){if(e.OTEL_TRACES_SAMPLER_ARG===undefined||e.OTEL_TRACES_SAMPLER_ARG===""){n.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${d}.`);return d}const t=Number(e.OTEL_TRACES_SAMPLER_ARG);if(isNaN(t)){n.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${d}.`);return d}if(t<0||t>1){n.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${d}.`);return d}return t}},{"./sampler/AlwaysOffSampler":279,"./sampler/AlwaysOnSampler":280,"./sampler/ParentBasedSampler":281,"./sampler/TraceIdRatioBasedSampler":282,"@opentelemetry/api":19,"@opentelemetry/core":193}],267:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExceptionEventName=void 0;r.ExceptionEventName="exception"},{}],268:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BatchSpanProcessorBase=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");class i{constructor(e,t){this._exporter=e;this._isExporting=false;this._finishedSpans=[];this._droppedSpansCount=0;const r=(0,o.getEnv)();this._maxExportBatchSize=typeof(t===null||t===void 0?void 0:t.maxExportBatchSize)==="number"?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE;this._maxQueueSize=typeof(t===null||t===void 0?void 0:t.maxQueueSize)==="number"?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE;this._scheduledDelayMillis=typeof(t===null||t===void 0?void 0:t.scheduledDelayMillis)==="number"?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY;this._exportTimeoutMillis=typeof(t===null||t===void 0?void 0:t.exportTimeoutMillis)==="number"?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT;this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this);if(this._maxExportBatchSize>this._maxQueueSize){n.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize");this._maxExportBatchSize=this._maxQueueSize}}forceFlush(){if(this._shutdownOnce.isCalled){return this._shutdownOnce.promise}return this._flushAll()}onStart(e,t){}onEnd(e){if(this._shutdownOnce.isCalled){return}if((e.spanContext().traceFlags&n.TraceFlags.SAMPLED)===0){return}this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown()))}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0){n.diag.debug("maxQueueSize reached, dropping spans")}this._droppedSpansCount++;return}if(this._droppedSpansCount>0){n.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`);this._droppedSpansCount=0}this._finishedSpans.push(e);this._maybeStartTimer()}_flushAll(){return new Promise(((e,t)=>{const r=[];const n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0,t=n;e<t;e++){r.push(this._flushOneBatch())}Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){this._clearTimer();if(this._finishedSpans.length===0){return Promise.resolve()}return new Promise(((e,t)=>{const r=setTimeout((()=>{t(new Error("Timeout"))}),this._exportTimeoutMillis);n.context.with((0,o.suppressTracing)(n.context.active()),(()=>{const n=this._finishedSpans.splice(0,this._maxExportBatchSize);const i=()=>this._exporter.export(n,(n=>{var i;clearTimeout(r);if(n.code===o.ExportResultCode.SUCCESS){e()}else{t((i=n.error)!==null&&i!==void 0?i:new Error("BatchSpanProcessor: span export failed"))}}));const s=n.map((e=>e.resource)).filter((e=>e.asyncAttributesPending));if(s.length===0){i()}else{Promise.all(s.map((e=>{var t;return(t=e.waitForAsyncAttributes)===null||t===void 0?void 0:t.call(e)}))).then(i,(e=>{(0,o.globalErrorHandler)(e);t(e)}))}}))}))}_maybeStartTimer(){if(this._isExporting)return;const e=()=>{this._isExporting=true;this._flushOneBatch().finally((()=>{this._isExporting=false;if(this._finishedSpans.length>0){this._clearTimer();this._maybeStartTimer()}})).catch((e=>{this._isExporting=false;(0,o.globalErrorHandler)(e)}))};if(this._finishedSpans.length>=this._maxExportBatchSize){return e()}if(this._timer!==undefined)return;this._timer=setTimeout((()=>e()),this._scheduledDelayMillis);(0,o.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==undefined){clearTimeout(this._timer);this._timer=undefined}}}r.BatchSpanProcessorBase=i},{"@opentelemetry/api":19,"@opentelemetry/core":193}],269:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ConsoleSpanExporter=void 0;const n=e("@opentelemetry/core");class o{export(e,t){return this._sendSpans(e,t)}shutdown(){this._sendSpans([]);return this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,n.hrTimeToMicroseconds)(e.startTime),duration:(0,n.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(const t of e){console.dir(this._exportInfo(t),{depth:3})}if(t){return t({code:n.ExportResultCode.SUCCESS})}}}r.ConsoleSpanExporter=o},{"@opentelemetry/core":193}],270:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InMemorySpanExporter=void 0;const n=e("@opentelemetry/core");class o{constructor(){this._finishedSpans=[];this._stopped=false}export(e,t){if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e);setTimeout((()=>t({code:n.ExportResultCode.SUCCESS})),0)}shutdown(){this._stopped=true;this._finishedSpans=[];return this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}r.InMemorySpanExporter=o},{"@opentelemetry/core":193}],271:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NoopSpanProcessor=void 0;class n{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}r.NoopSpanProcessor=n},{}],272:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],273:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SimpleSpanProcessor=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");class i{constructor(e){this._exporter=e;this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this);this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports));if(this._exporter.forceFlush){await this._exporter.forceFlush()}}onStart(e,t){}onEnd(e){var t,r;if(this._shutdownOnce.isCalled){return}if((e.spanContext().traceFlags&n.TraceFlags.SAMPLED)===0){return}const i=()=>o.internal._export(this._exporter,[e]).then((e=>{var t;if(e.code!==o.ExportResultCode.SUCCESS){(0,o.globalErrorHandler)((t=e.error)!==null&&t!==void 0?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}})).catch((e=>{(0,o.globalErrorHandler)(e)}));if(e.resource.asyncAttributesPending){const n=(r=(t=e.resource).waitForAsyncAttributes)===null||r===void 0?void 0:r.call(t).then((()=>{if(n!=null){this._unresolvedExports.delete(n)}return i()}),(e=>(0,o.globalErrorHandler)(e)));if(n!=null){this._unresolvedExports.add(n)}}else{void i()}}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}r.SimpleSpanProcessor=i},{"@opentelemetry/api":19,"@opentelemetry/core":193}],274:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true})},{}],275:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./Tracer"),r);o(e("./BasicTracerProvider"),r);o(e("./platform"),r);o(e("./export/ConsoleSpanExporter"),r);o(e("./export/InMemorySpanExporter"),r);o(e("./export/ReadableSpan"),r);o(e("./export/SimpleSpanProcessor"),r);o(e("./export/SpanExporter"),r);o(e("./export/NoopSpanProcessor"),r);o(e("./sampler/AlwaysOffSampler"),r);o(e("./sampler/AlwaysOnSampler"),r);o(e("./sampler/ParentBasedSampler"),r);o(e("./sampler/TraceIdRatioBasedSampler"),r);o(e("./Sampler"),r);o(e("./Span"),r);o(e("./SpanProcessor"),r);o(e("./TimedEvent"),r);o(e("./types"),r);o(e("./IdGenerator"),r)},{"./BasicTracerProvider":258,"./IdGenerator":259,"./Sampler":261,"./Span":262,"./SpanProcessor":263,"./TimedEvent":264,"./Tracer":265,"./export/ConsoleSpanExporter":269,"./export/InMemorySpanExporter":270,"./export/NoopSpanProcessor":271,"./export/ReadableSpan":272,"./export/SimpleSpanProcessor":273,"./export/SpanExporter":274,"./platform":278,"./sampler/AlwaysOffSampler":279,"./sampler/AlwaysOnSampler":280,"./sampler/ParentBasedSampler":281,"./sampler/TraceIdRatioBasedSampler":282,"./types":283}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.RandomIdGenerator=void 0;const n=8;const o=16;class i{constructor(){this.generateTraceId=a(o);this.generateSpanId=a(n)}}r.RandomIdGenerator=i;const s=Array(32);function a(e){return function t(){for(let t=0;t<e*2;t++){s[t]=Math.floor(Math.random()*16)+48;if(s[t]>=58){s[t]+=39}}return String.fromCharCode.apply(null,s.slice(0,e*2))}}},{}],277:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BatchSpanProcessor=void 0;const n=e("../../../export/BatchSpanProcessorBase");class o extends n.BatchSpanProcessorBase{constructor(e,t){super(e,t);this.onInit(t)}onInit(e){if((e===null||e===void 0?void 0:e.disableAutoFlushOnDocumentHide)!==true&&typeof document!=="undefined"){this._visibilityChangeListener=()=>{if(document.visibilityState==="hidden"){void this.forceFlush()}};this._pageHideListener=()=>{void this.forceFlush()};document.addEventListener("visibilitychange",this._visibilityChangeListener);document.addEventListener("pagehide",this._pageHideListener)}}onShutdown(){if(typeof document!=="undefined"){if(this._visibilityChangeListener){document.removeEventListener("visibilitychange",this._visibilityChangeListener)}if(this._pageHideListener){document.removeEventListener("pagehide",this._pageHideListener)}}}}r.BatchSpanProcessor=o},{"../../../export/BatchSpanProcessorBase":268}],278:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./export/BatchSpanProcessor"),r);o(e("./RandomIdGenerator"),r)},{"./RandomIdGenerator":276,"./export/BatchSpanProcessor":277}],279:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AlwaysOffSampler=void 0;const n=e("../Sampler");class o{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}r.AlwaysOffSampler=o},{"../Sampler":261}],280:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AlwaysOnSampler=void 0;const n=e("../Sampler");class o{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}r.AlwaysOnSampler=o},{"../Sampler":261}],281:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ParentBasedSampler=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./AlwaysOffSampler");const s=e("./AlwaysOnSampler");class a{constructor(e){var t,r,n,a;this._root=e.root;if(!this._root){(0,o.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured"));this._root=new s.AlwaysOnSampler}this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new s.AlwaysOnSampler;this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new i.AlwaysOffSampler;this._localParentSampled=(n=e.localParentSampled)!==null&&n!==void 0?n:new s.AlwaysOnSampler;this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new i.AlwaysOffSampler}shouldSample(e,t,r,o,i,s){const a=n.trace.getSpanContext(e);if(!a||!(0,n.isSpanContextValid)(a)){return this._root.shouldSample(e,t,r,o,i,s)}if(a.isRemote){if(a.traceFlags&n.TraceFlags.SAMPLED){return this._remoteParentSampled.shouldSample(e,t,r,o,i,s)}return this._remoteParentNotSampled.shouldSample(e,t,r,o,i,s)}if(a.traceFlags&n.TraceFlags.SAMPLED){return this._localParentSampled.shouldSample(e,t,r,o,i,s)}return this._localParentNotSampled.shouldSample(e,t,r,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}r.ParentBasedSampler=a},{"./AlwaysOffSampler":279,"./AlwaysOnSampler":280,"@opentelemetry/api":19,"@opentelemetry/core":193}],282:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TraceIdRatioBasedSampler=void 0;const n=e("@opentelemetry/api");const o=e("../Sampler");class i{constructor(e=0){this._ratio=e;this._ratio=this._normalize(e);this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?o.SamplingDecision.RECORD_AND_SAMPLED:o.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){if(typeof e!=="number"||isNaN(e))return 0;return e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=r*8;const o=parseInt(e.slice(n,n+8),16);t=(t^o)>>>0}return t}}r.TraceIdRatioBasedSampler=i},{"../Sampler":261,"@opentelemetry/api":19}],283:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],284:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.reconfigureLimits=r.mergeConfig=void 0;const n=e("./config");const o=e("@opentelemetry/core");function i(e){const t={sampler:(0,n.buildSamplerFromEnv)()};const r=(0,n.loadDefaultConfig)();const o=Object.assign({},r,t,e);o.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{});o.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{});return o}r.mergeConfig=i;function s(e){var t,r,n,i,s,a,c,u,l,d,p,f;const m=Object.assign({},e.spanLimits);const h=(0,o.getEnvWithoutDefaults)();m.attributeCountLimit=(a=(s=(i=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:h.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:o.DEFAULT_ATTRIBUTE_COUNT_LIMIT;m.attributeValueLengthLimit=(f=(p=(d=(u=(c=e.spanLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=e.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&d!==void 0?d:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:o.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT;return Object.assign({},e,{spanLimits:m})}r.reconfigureLimits=s},{"./config":266,"@opentelemetry/core":193}],285:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.StackContextManager=void 0;const n=e("@opentelemetry/api");class o{constructor(){this._enabled=false;this._currentContext=n.ROOT_CONTEXT}_bindFunction(e=n.ROOT_CONTEXT,t){const r=this;const o=function(...n){return r.with(e,(()=>t.apply(this,n)))};Object.defineProperty(o,"length",{enumerable:false,configurable:true,writable:false,value:t.length});return o}active(){return this._currentContext}bind(e,t){if(e===undefined){e=this.active()}if(typeof t==="function"){return this._bindFunction(e,t)}return t}disable(){this._currentContext=n.ROOT_CONTEXT;this._enabled=false;return this}enable(){if(this._enabled){return this}this._enabled=true;this._currentContext=n.ROOT_CONTEXT;return this}with(e,t,r,...o){const i=this._currentContext;this._currentContext=e||n.ROOT_CONTEXT;try{return t.call(r,...o)}finally{this._currentContext=i}}}r.StackContextManager=o},{"@opentelemetry/api":19}],286:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WebTracerProvider=void 0;const n=e("@opentelemetry/sdk-trace-base");const o=e("./StackContextManager");class i extends n.BasicTracerProvider{constructor(e={}){super(e);if(e.contextManager){throw"contextManager should be defined in register method not in"+" constructor"}if(e.propagator){throw"propagator should be defined in register method not in constructor"}}register(e={}){if(e.contextManager===undefined){e.contextManager=new o.StackContextManager}if(e.contextManager){e.contextManager.enable()}super.register(e)}}r.WebTracerProvider=i},{"./StackContextManager":285,"@opentelemetry/sdk-trace-base":275}],287:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PerformanceTimingNames=void 0;var n;(function(e){e["CONNECT_END"]="connectEnd";e["CONNECT_START"]="connectStart";e["DECODED_BODY_SIZE"]="decodedBodySize";e["DOM_COMPLETE"]="domComplete";e["DOM_CONTENT_LOADED_EVENT_END"]="domContentLoadedEventEnd";e["DOM_CONTENT_LOADED_EVENT_START"]="domContentLoadedEventStart";e["DOM_INTERACTIVE"]="domInteractive";e["DOMAIN_LOOKUP_END"]="domainLookupEnd";e["DOMAIN_LOOKUP_START"]="domainLookupStart";e["ENCODED_BODY_SIZE"]="encodedBodySize";e["FETCH_START"]="fetchStart";e["LOAD_EVENT_END"]="loadEventEnd";e["LOAD_EVENT_START"]="loadEventStart";e["NAVIGATION_START"]="navigationStart";e["REDIRECT_END"]="redirectEnd";e["REDIRECT_START"]="redirectStart";e["REQUEST_START"]="requestStart";e["RESPONSE_END"]="responseEnd";e["RESPONSE_START"]="responseStart";e["SECURE_CONNECTION_START"]="secureConnectionStart";e["UNLOAD_EVENT_END"]="unloadEventEnd";e["UNLOAD_EVENT_START"]="unloadEventStart"})(n=r.PerformanceTimingNames||(r.PerformanceTimingNames={}))},{}],288:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./WebTracerProvider"),r);o(e("./StackContextManager"),r);o(e("./enums/PerformanceTimingNames"),r);o(e("./types"),r);o(e("./utils"),r);o(e("@opentelemetry/sdk-trace-base"),r)},{"./StackContextManager":285,"./WebTracerProvider":286,"./enums/PerformanceTimingNames":287,"./types":289,"./utils":290,"@opentelemetry/sdk-trace-base":275}],289:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});const n=e("./enums/PerformanceTimingNames")},{"./enums/PerformanceTimingNames":287}],290:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.shouldPropagateTraceHeaders=r.getElementXPath=r.normalizeUrl=r.parseUrl=r.getResource=r.sortResources=r.addSpanNetworkEvents=r.addSpanNetworkEvent=r.hasKey=void 0;const n=e("./enums/PerformanceTimingNames");const o=e("@opentelemetry/core");const i=e("@opentelemetry/semantic-conventions");let s;function a(){if(!s){s=document.createElement("a")}return s}function c(e,t){return t in e}r.hasKey=c;function u(e,t,r){if(c(r,t)&&typeof r[t]==="number"){e.addEvent(t,r[t]);return e}return undefined}r.addSpanNetworkEvent=u;function l(e,t){u(e,n.PerformanceTimingNames.FETCH_START,t);u(e,n.PerformanceTimingNames.DOMAIN_LOOKUP_START,t);u(e,n.PerformanceTimingNames.DOMAIN_LOOKUP_END,t);u(e,n.PerformanceTimingNames.CONNECT_START,t);if(c(t,"name")&&t["name"].startsWith("https:")){u(e,n.PerformanceTimingNames.SECURE_CONNECTION_START,t)}u(e,n.PerformanceTimingNames.CONNECT_END,t);u(e,n.PerformanceTimingNames.REQUEST_START,t);u(e,n.PerformanceTimingNames.RESPONSE_START,t);u(e,n.PerformanceTimingNames.RESPONSE_END,t);const r=t[n.PerformanceTimingNames.ENCODED_BODY_SIZE];if(r!==undefined){e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH,r)}const o=t[n.PerformanceTimingNames.DECODED_BODY_SIZE];if(o!==undefined&&r!==o){e.setAttribute(i.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,o)}}r.addSpanNetworkEvents=l;function d(e){return e.slice().sort(((e,t)=>{const r=e[n.PerformanceTimingNames.FETCH_START];const o=t[n.PerformanceTimingNames.FETCH_START];if(r>o){return 1}else if(r<o){return-1}return 0}))}r.sortResources=d;function p(){return typeof location!=="undefined"?location.origin:undefined}function f(e,t,r,o,i=new WeakSet,s){const a=E(e);e=a.toString();const c=h(e,t,r,o,i,s);if(c.length===0){return{mainRequest:undefined}}if(c.length===1){return{mainRequest:c[0]}}const u=d(c);if(a.origin!==p()&&u.length>1){let e=u[0];let t=m(u,e[n.PerformanceTimingNames.RESPONSE_END],r);const o=e[n.PerformanceTimingNames.RESPONSE_END];const i=t[n.PerformanceTimingNames.FETCH_START];if(i<o){t=e;e=undefined}return{corsPreFlightRequest:e,mainRequest:t}}else{return{mainRequest:c[0]}}}r.getResource=f;function m(e,t,r){const i=(0,o.hrTimeToNanoseconds)(r);const s=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t));let a=e[1];let c;const u=e.length;for(let t=1;t<u;t++){const r=e[t];const u=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(r[n.PerformanceTimingNames.FETCH_START]));const l=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(r[n.PerformanceTimingNames.RESPONSE_END]));const d=i-l;if(u>=s&&(!c||d<c)){c=d;a=r}}return a}function h(e,t,r,i,s,a){const c=(0,o.hrTimeToNanoseconds)(t);const u=(0,o.hrTimeToNanoseconds)(r);let l=i.filter((t=>{const r=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t[n.PerformanceTimingNames.FETCH_START]));const i=(0,o.hrTimeToNanoseconds)((0,o.timeInputToHrTime)(t[n.PerformanceTimingNames.RESPONSE_END]));return t.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&t.name===e&&r>=c&&i<=u}));if(l.length>0){l=l.filter((e=>!s.has(e)))}return l}function E(e){if(typeof URL==="function"){return new URL(e,typeof document!=="undefined"?document.baseURI:typeof location!=="undefined"?location.href:undefined)}const t=a();t.href=e;return t}r.parseUrl=E;function _(e){const t=E(e);return t.href}r.normalizeUrl=_;function S(e,t){if(e.nodeType===Node.DOCUMENT_NODE){return"/"}const r=T(e,t);if(t&&r.indexOf("@id")>0){return r}let n="";if(e.parentNode){n+=S(e.parentNode,false)}n+=r;return n}r.getElementXPath=S;function g(e){if(!e.parentNode){return 0}const t=[e.nodeType];if(e.nodeType===Node.CDATA_SECTION_NODE){t.push(Node.TEXT_NODE)}let r=Array.from(e.parentNode.childNodes);r=r.filter((r=>{const n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName}));if(r.length>=1){return r.indexOf(e)+1}return 0}function T(e,t){const r=e.nodeType;const n=g(e);let o="";if(r===Node.ELEMENT_NODE){const r=e.getAttribute("id");if(t&&r){return`//*[@id="${r}"]`}o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE){o="text()"}else if(r===Node.COMMENT_NODE){o="comment()"}else{return""}if(o&&n>1){return`/${o}[${n}]`}return`/${o}`}function A(e,t){let r=t||[];if(typeof r==="string"||r instanceof RegExp){r=[r]}const n=E(e);if(n.origin===p()){return true}else{return r.some((t=>(0,o.urlMatches)(e,t)))}}r.shouldPropagateTraceHeaders=A},{"./enums/PerformanceTimingNames":287,"@opentelemetry/core":193,"@opentelemetry/semantic-conventions":291}],291:[function(e,t,r){arguments[4][128][0].apply(r,arguments)},{"./resource":294,"./trace":296,dup:128}],292:[function(e,t,r){arguments[4][129][0].apply(r,arguments)},{dup:129}],293:[function(e,t,r){arguments[4][130][0].apply(r,arguments)},{"../internal/utils":292,dup:130}],294:[function(e,t,r){arguments[4][131][0].apply(r,arguments)},{"./SemanticResourceAttributes":293,dup:131}],295:[function(e,t,r){arguments[4][132][0].apply(r,arguments)},{"../internal/utils":292,dup:132}],296:[function(e,t,r){arguments[4][133][0].apply(r,arguments)},{"./SemanticAttributes":295,dup:133}],297:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.registerInstrumentations=void 0;const n=e("@opentelemetry/api");const o=e("./autoLoaderUtils");function i(e){const{instrumentations:t}=(0,o.parseInstrumentationOptions)(e.instrumentations);const r=e.tracerProvider||n.trace.getTracerProvider();const i=e.meterProvider||n.metrics.getMeterProvider();(0,o.enableInstrumentations)(t,r,i);return()=>{(0,o.disableInstrumentations)(t)}}r.registerInstrumentations=i},{"./autoLoaderUtils":298,"@opentelemetry/api":19}],298:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.disableInstrumentations=r.enableInstrumentations=r.parseInstrumentationOptions=void 0;function n(e=[]){let t=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];if(Array.isArray(o)){const e=n(o);t=t.concat(e.instrumentations)}else if(typeof o==="function"){t.push(new o)}else if(o.instrumentationName){t.push(o)}}return{instrumentations:t}}r.parseInstrumentationOptions=n;function o(e,t,r){for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t){o.setTracerProvider(t)}if(r){o.setMeterProvider(r)}if(!o.getConfig().enabled){o.enable()}}}r.enableInstrumentations=o;function i(e){e.forEach((e=>e.disable()))}r.disableInstrumentations=i},{}],299:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{"./autoLoader":297,"./instrumentationNodeModuleDefinition":301,"./instrumentationNodeModuleFile":302,"./platform/index":303,"./types":305,"./types_internal":306,"./utils":307,dup:118}],300:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationAbstract=void 0;const n=e("@opentelemetry/api");const o=e("shimmer");class i{constructor(e,t,r={}){this.instrumentationName=e;this.instrumentationVersion=t;this._wrap=o.wrap;this._unwrap=o.unwrap;this._massWrap=o.massWrap;this._massUnwrap=o.massUnwrap;this._config=Object.assign({enabled:true},r);this._diag=n.diag.createComponentLogger({namespace:e});this._tracer=n.trace.getTracer(e,t);this._meter=n.metrics.getMeter(e,t);this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion);this._updateMetricInstruments()}_updateMetricInstruments(){return}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}}r.InstrumentationAbstract=i},{"@opentelemetry/api":19,shimmer:449}],301:[function(e,t,r){arguments[4][228][0].apply(r,arguments)},{dup:228}],302:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationNodeModuleFile=void 0;const n=e("path");class o{constructor(e,t,r,o){this.supportedVersions=t;this.patch=r;this.unpatch=o;this.name=(0,n.normalize)(e)}}r.InstrumentationNodeModuleFile=o},{path:446}],303:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentationBase=void 0;var n=e("./instrumentation");Object.defineProperty(r,"InstrumentationBase",{enumerable:true,get:function(){return n.InstrumentationBase}})},{"./instrumentation":304}],304:[function(e,t,r){arguments[4][123][0].apply(r,arguments)},{"../../instrumentation":300,dup:123}],305:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],306:[function(e,t,r){arguments[4][126][0].apply(r,arguments)},{dup:126}],307:[function(e,t,r){arguments[4][127][0].apply(r,arguments)},{dup:127}],308:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPExporterBase=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./util");class s{constructor(e={}){this._sendingPromises=[];this.url=this.getDefaultUrl(e);if(typeof e.hostname==="string"){this.hostname=e.hostname}this.shutdown=this.shutdown.bind(this);this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this);this._concurrencyLimit=typeof e.concurrencyLimit==="number"?e.concurrencyLimit:30;this.timeoutMillis=(0,i.configureExporterTimeout)(e.timeoutMillis);this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:o.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:o.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then((()=>{t({code:o.ExportResultCode.SUCCESS})})).catch((e=>{t({code:o.ExportResultCode.FAILED,error:e})}))}_export(e){return new Promise(((t,r)=>{try{n.diag.debug("items to be sent",e);this.send(e,t,r)}catch(e){r(e)}}))}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then((()=>{}))}_shutdown(){n.diag.debug("shutdown started");this.onShutdown();return this.forceFlush()}}r.OTLPExporterBase=s},{"./util":314,"@opentelemetry/api":19,"@opentelemetry/core":58}],309:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.invalidTimeout=r.configureExporterTimeout=r.appendRootPathToUrlIfNeeded=r.appendResourcePathToUrl=r.parseHeaders=r.OTLPExporterError=r.OTLPExporterBase=void 0;o(e("./platform"),r);var i=e("./OTLPExporterBase");Object.defineProperty(r,"OTLPExporterBase",{enumerable:true,get:function(){return i.OTLPExporterBase}});var s=e("./types");Object.defineProperty(r,"OTLPExporterError",{enumerable:true,get:function(){return s.OTLPExporterError}});var a=e("./util");Object.defineProperty(r,"parseHeaders",{enumerable:true,get:function(){return a.parseHeaders}});Object.defineProperty(r,"appendResourcePathToUrl",{enumerable:true,get:function(){return a.appendResourcePathToUrl}});Object.defineProperty(r,"appendRootPathToUrlIfNeeded",{enumerable:true,get:function(){return a.appendRootPathToUrlIfNeeded}});Object.defineProperty(r,"configureExporterTimeout",{enumerable:true,get:function(){return a.configureExporterTimeout}});Object.defineProperty(r,"invalidTimeout",{enumerable:true,get:function(){return a.invalidTimeout}})},{"./OTLPExporterBase":308,"./platform":311,"./types":313,"./util":314}],310:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPExporterBrowserBase=void 0;const n=e("../../OTLPExporterBase");const o=e("../../util");const i=e("./util");const s=e("@opentelemetry/api");const a=e("@opentelemetry/core");class c extends n.OTLPExporterBase{constructor(e={}){super(e);this._useXHR=false;this._useXHR=!!e.headers||typeof navigator.sendBeacon!=="function";if(this._useXHR){this._headers=Object.assign({},(0,o.parseHeaders)(e.headers),a.baggageUtils.parseKeyPairsIntoRecord((0,a.getEnv)().OTEL_EXPORTER_OTLP_HEADERS))}else{this._headers={}}}onInit(){a._globalThis.addEventListener("unload",this.shutdown)}onShutdown(){a._globalThis.removeEventListener("unload",this.shutdown)}send(e,t,r){if(this._shutdownOnce.isCalled){s.diag.debug("Shutdown already started. Cannot send objects");return}const n=this.convert(e);const o=JSON.stringify(n);const a=new Promise(((e,t)=>{if(this._useXHR){(0,i.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,e,t)}else{(0,i.sendWithBeacon)(o,this.url,{type:"application/json"},e,t)}})).then(t,r);this._sendingPromises.push(a);const c=()=>{const e=this._sendingPromises.indexOf(a);this._sendingPromises.splice(e,1)};a.then(c,c)}}r.OTLPExporterBrowserBase=c},{"../../OTLPExporterBase":308,"../../util":314,"./util":312,"@opentelemetry/api":19,"@opentelemetry/core":58}],311:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.sendWithXhr=r.OTLPExporterBrowserBase=void 0;var n=e("./OTLPExporterBrowserBase");Object.defineProperty(r,"OTLPExporterBrowserBase",{enumerable:true,get:function(){return n.OTLPExporterBrowserBase}});var o=e("./util");Object.defineProperty(r,"sendWithXhr",{enumerable:true,get:function(){return o.sendWithXhr}})},{"./OTLPExporterBrowserBase":310,"./util":312}],312:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.sendWithXhr=r.sendWithBeacon=void 0;const n=e("@opentelemetry/api");const o=e("../../types");const i=e("../../util");function s(e,t,r,i,s){if(navigator.sendBeacon(t,new Blob([e],r))){n.diag.debug("sendBeacon - can send",e);i()}else{const t=new o.OTLPExporterError(`sendBeacon - cannot send ${e}`);s(t)}}r.sendWithBeacon=s;function a(e,t,r,s,a,c){let u;let l;let d=false;const p=setTimeout((()=>{clearTimeout(u);d=true;if(l.readyState===XMLHttpRequest.DONE){const e=new o.OTLPExporterError("Request Timeout");c(e)}else{l.abort()}}),s);const f=(s=i.DEFAULT_EXPORT_MAX_ATTEMPTS,m=i.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{l=new XMLHttpRequest;l.open("POST",t);const h={Accept:"application/json","Content-Type":"application/json"};Object.entries(Object.assign(Object.assign({},h),r)).forEach((([e,t])=>{l.setRequestHeader(e,t)}));l.send(e);l.onreadystatechange=()=>{if(l.readyState===XMLHttpRequest.DONE&&d===false){if(l.status>=200&&l.status<=299){n.diag.debug("xhr success",e);a();clearTimeout(p);clearTimeout(u)}else if(l.status&&(0,i.isExportRetryable)(l.status)&&s>0){let e;m=i.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*m;if(l.getResponseHeader("Retry-After")){e=(0,i.parseRetryAfterToMills)(l.getResponseHeader("Retry-After"))}else{e=Math.round(Math.random()*(i.DEFAULT_EXPORT_MAX_BACKOFF-m)+m)}u=setTimeout((()=>{f(s-1,m)}),e)}else{const e=new o.OTLPExporterError(`Failed to export with XHR (status: ${l.status})`,l.status);c(e);clearTimeout(p);clearTimeout(u)}}};l.onabort=()=>{if(d){const e=new o.OTLPExporterError("Request Timeout");c(e)}clearTimeout(p);clearTimeout(u)};l.onerror=()=>{if(d){const e=new o.OTLPExporterError("Request Timeout");c(e)}clearTimeout(p);clearTimeout(u)}};f()}r.sendWithXhr=a},{"../../types":313,"../../util":314,"@opentelemetry/api":19}],313:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OTLPExporterError=void 0;class n extends Error{constructor(e,t,r){super(e);this.name="OTLPExporterError";this.data=r;this.code=t}}r.OTLPExporterError=n},{}],314:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.parseRetryAfterToMills=r.isExportRetryable=r.invalidTimeout=r.configureExporterTimeout=r.appendRootPathToUrlIfNeeded=r.appendResourcePathToUrl=r.parseHeaders=r.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=r.DEFAULT_EXPORT_MAX_BACKOFF=r.DEFAULT_EXPORT_INITIAL_BACKOFF=r.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=1e4;r.DEFAULT_EXPORT_MAX_ATTEMPTS=5;r.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3;r.DEFAULT_EXPORT_MAX_BACKOFF=5e3;r.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5;function s(e={}){const t={};Object.entries(e).forEach((([e,r])=>{if(typeof r!=="undefined"){t[e]=String(r)}else{n.diag.warn(`Header "${e}" has wrong value and will be ignored`)}}));return t}r.parseHeaders=s;function a(e,t){if(!e.endsWith("/")){e=e+"/"}return e+t}r.appendResourcePathToUrl=a;function c(e){try{const t=new URL(e);if(t.pathname===""){t.pathname=t.pathname+"/"}return t.toString()}catch(t){n.diag.warn(`Could not parse export URL: '${e}'`);return e}}r.appendRootPathToUrlIfNeeded=c;function u(e){if(typeof e==="number"){if(e<=0){return d(e,i)}return e}else{return l()}}r.configureExporterTimeout=u;function l(){var e;const t=Number((e=(0,o.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,o.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);if(t<=0){return d(t,i)}else{return t}}function d(e,t){n.diag.warn("Timeout must be greater than 0",e);return t}r.invalidTimeout=d;function p(e){const t=[429,502,503,504];return t.includes(e)}r.isExportRetryable=p;function f(e){if(e==null){return-1}const t=Number.parseInt(e,10);if(Number.isInteger(t)){return t>0?t*1e3:-1}const r=new Date(e).getTime()-Date.now();if(r>=0){return r}return 0}r.parseRetryAfterToMills=f},{"@opentelemetry/api":19,"@opentelemetry/core":58}],315:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getOtlpEncoder=r.encodeAsString=r.encodeAsLongBits=r.toLongBits=r.hrTimeToNanos=void 0;const n=e("@opentelemetry/core");const o=BigInt(1e9);function i(e){return BigInt(e[0])*o+BigInt(e[1])}r.hrTimeToNanos=i;function s(e){const t=Number(BigInt.asUintN(32,e));const r=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:r}}r.toLongBits=s;function a(e){const t=i(e);return s(t)}r.encodeAsLongBits=a;function c(e){const t=i(e);return t.toString()}r.encodeAsString=c;const u=typeof BigInt!=="undefined"?c:n.hrTimeToNanoseconds;function l(e){return e}function d(e){if(e===undefined)return undefined;return(0,n.hexToBase64)(e)}const p={encodeHrTime:a,encodeSpanContext:n.hexToBase64,encodeOptionalSpanContext:d};function f(e){var t,r;if(e===undefined){return p}const o=(t=e.useLongBits)!==null&&t!==void 0?t:true;const i=(r=e.useHex)!==null&&r!==void 0?r:false;return{encodeHrTime:o?a:u,encodeSpanContext:i?l:n.hexToBase64,encodeOptionalSpanContext:i?l:d}}r.getOtlpEncoder=f},{"@opentelemetry/core":58}],316:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toAnyValue=r.toKeyValue=r.toAttributes=void 0;function n(e){return Object.keys(e).map((t=>o(t,e[t])))}r.toAttributes=n;function o(e,t){return{key:e,value:i(t)}}r.toKeyValue=o;function i(e){const t=typeof e;if(t==="string")return{stringValue:e};if(t==="number"){if(!Number.isInteger(e))return{doubleValue:e};return{intValue:e}}if(t==="boolean")return{boolValue:e};if(e instanceof Uint8Array)return{bytesValue:e};if(Array.isArray(e))return{arrayValue:{values:e.map(i)}};if(t==="object"&&e!=null)return{kvlistValue:{values:Object.entries(e).map((([e,t])=>o(e,t)))}};return{}}r.toAnyValue=i},{}],317:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],318:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});r.createExportLogsServiceRequest=r.createExportMetricsServiceRequest=r.createExportTraceServiceRequest=void 0;o(e("./common/types"),r);o(e("./common"),r);o(e("./metrics/types"),r);o(e("./resource/types"),r);o(e("./trace/types"),r);o(e("./logs/types"),r);var i=e("./trace");Object.defineProperty(r,"createExportTraceServiceRequest",{enumerable:true,get:function(){return i.createExportTraceServiceRequest}});var s=e("./metrics");Object.defineProperty(r,"createExportMetricsServiceRequest",{enumerable:true,get:function(){return s.createExportMetricsServiceRequest}});var a=e("./logs");Object.defineProperty(r,"createExportLogsServiceRequest",{enumerable:true,get:function(){return a.createExportLogsServiceRequest}})},{"./common":315,"./common/types":317,"./logs":319,"./logs/types":320,"./metrics":321,"./metrics/types":323,"./resource/types":324,"./trace":325,"./trace/types":327}],319:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toLogAttributes=r.createExportLogsServiceRequest=void 0;const n=e("../common");const o=e("../common/internal");function i(e,t){const r=(0,n.getOtlpEncoder)(t);return{resourceLogs:a(e,r)}}r.createExportLogsServiceRequest=i;function s(e){const t=new Map;for(const r of e){const{resource:e,instrumentationScope:{name:n,version:o="",schemaUrl:i=""}}=r;let s=t.get(e);if(!s){s=new Map;t.set(e,s)}const a=`${n}@${o}:${i}`;let c=s.get(a);if(!c){c=[];s.set(a,c)}c.push(r)}return t}function a(e,t){const r=s(e);return Array.from(r,(([e,r])=>({resource:{attributes:(0,o.toAttributes)(e.attributes),droppedAttributesCount:0},scopeLogs:Array.from(r,(([,e])=>{const{instrumentationScope:{name:r,version:n,schemaUrl:o}}=e[0];return{scope:{name:r,version:n},logRecords:e.map((e=>c(e,t))),schemaUrl:o}})),schemaUrl:undefined})))}function c(e,t){var r,n,i;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:u(e.severityNumber),severityText:e.severityText,body:(0,o.toAnyValue)(e.body),attributes:l(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:(r=e.spanContext)===null||r===void 0?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext((n=e.spanContext)===null||n===void 0?void 0:n.traceId),spanId:t.encodeOptionalSpanContext((i=e.spanContext)===null||i===void 0?void 0:i.spanId)}}function u(e){return e}function l(e){return Object.keys(e).map((t=>(0,o.toKeyValue)(t,e[t])))}r.toLogAttributes=l},{"../common":315,"../common/internal":316}],320:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],321:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createExportMetricsServiceRequest=void 0;const n=e("./internal");function o(e,t){return{resourceMetrics:e.map((e=>(0,n.toResourceMetrics)(e,t)))}}r.createExportMetricsServiceRequest=o},{"./internal":322}],322:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toMetric=r.toScopeMetrics=r.toResourceMetrics=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/sdk-metrics");const i=e("../common/internal");const s=e("../common");function a(e,t){const r=(0,s.getOtlpEncoder)(t);return{resource:{attributes:(0,i.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:undefined,scopeMetrics:c(e.scopeMetrics,r)}}r.toResourceMetrics=a;function c(e,t){return Array.from(e.map((e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map((e=>u(e,t))),schemaUrl:e.scope.schemaUrl}))))}r.toScopeMetrics=c;function u(e,t){const r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit};const n=m(e.aggregationTemporality);switch(e.dataPointType){case o.DataPointType.SUM:r.sum={aggregationTemporality:n,isMonotonic:e.isMonotonic,dataPoints:d(e,t)};break;case o.DataPointType.GAUGE:r.gauge={dataPoints:d(e,t)};break;case o.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:n,dataPoints:p(e,t)};break;case o.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:n,dataPoints:f(e,t)};break}return r}r.toMetric=u;function l(e,t,r){const o={attributes:(0,i.toAttributes)(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case n.ValueType.INT:o.asInt=e.value;break;case n.ValueType.DOUBLE:o.asDouble=e.value;break}return o}function d(e,t){return e.dataPoints.map((r=>l(r,e.descriptor.valueType,t)))}function p(e,t){return e.dataPoints.map((e=>{const r=e.value;return{attributes:(0,i.toAttributes)(e.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}}))}function f(e,t){return e.dataPoints.map((e=>{const r=e.value;return{attributes:(0,i.toAttributes)(e.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}}))}function m(e){switch(e){case o.AggregationTemporality.DELTA:return 1;case o.AggregationTemporality.CUMULATIVE:return 2}}},{"../common":315,"../common/internal":316,"@opentelemetry/api":19,"@opentelemetry/sdk-metrics":383}],323:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{dup:101}],324:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],325:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createExportTraceServiceRequest=void 0;const n=e("../common/internal");const o=e("./internal");const i=e("../common");function s(e,t){const r=(0,i.getOtlpEncoder)(t);return{resourceSpans:c(e,r)}}r.createExportTraceServiceRequest=s;function a(e){const t=new Map;for(const r of e){let e=t.get(r.resource);if(!e){e=new Map;t.set(r.resource,e)}const n=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`;let o=e.get(n);if(!o){o=[];e.set(n,o)}o.push(r)}return t}function c(e,t){const r=a(e);const i=[];const s=r.entries();let c=s.next();while(!c.done){const[e,r]=c.value;const a=[];const u=r.values();let l=u.next();while(!l.done){const e=l.value;if(e.length>0){const{name:r,version:n,schemaUrl:i}=e[0].instrumentationLibrary;const s=e.map((e=>(0,o.sdkSpanToOtlpSpan)(e,t)));a.push({scope:{name:r,version:n},spans:s,schemaUrl:i})}l=u.next()}const d={resource:{attributes:(0,n.toAttributes)(e.attributes),droppedAttributesCount:0},scopeSpans:a,schemaUrl:undefined};i.push(d);c=s.next()}return i}},{"../common":315,"../common/internal":316,"./internal":326}],326:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toOtlpSpanEvent=r.toOtlpLink=r.sdkSpanToOtlpSpan=void 0;const n=e("../common/internal");function o(e,t){var r;const o=e.spanContext();const a=e.status;return{traceId:t.encodeSpanContext(o.traceId),spanId:t.encodeSpanContext(o.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(r=o.traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,n.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map((e=>s(e,t))),droppedEventsCount:e.droppedEventsCount,status:{code:a.code,message:a.message},links:e.links.map((e=>i(e,t))),droppedLinksCount:e.droppedLinksCount}}r.sdkSpanToOtlpSpan=o;function i(e,t){var r;return{attributes:e.attributes?(0,n.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(r=e.context.traceState)===null||r===void 0?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}r.toOtlpLink=i;function s(e,t){return{attributes:e.attributes?(0,n.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}r.toOtlpSpanEvent=s},{"../common/internal":316}],327:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ESpanKind=void 0;var n;(function(e){e[e["SPAN_KIND_UNSPECIFIED"]=0]="SPAN_KIND_UNSPECIFIED";e[e["SPAN_KIND_INTERNAL"]=1]="SPAN_KIND_INTERNAL";e[e["SPAN_KIND_SERVER"]=2]="SPAN_KIND_SERVER";e[e["SPAN_KIND_CLIENT"]=3]="SPAN_KIND_CLIENT";e[e["SPAN_KIND_PRODUCER"]=4]="SPAN_KIND_PRODUCER";e[e["SPAN_KIND_CONSUMER"]=5]="SPAN_KIND_CONSUMER"})(n=r.ESpanKind||(r.ESpanKind={}))},{}],328:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.B3MultiPropagator=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./common");const s=e("./constants");const a=new Set([true,"true","True","1",1]);const c=new Set([false,"false","False","0",0]);function u(e){return e===n.TraceFlags.SAMPLED||e===n.TraceFlags.NONE}function l(e){return Array.isArray(e)?e[0]:e}function d(e,t,r){const n=t.get(e,r);return l(n)}function p(e,t){const r=d(e,t,s.X_B3_TRACE_ID);if(typeof r==="string"){return r.padStart(32,"0")}return""}function f(e,t){const r=d(e,t,s.X_B3_SPAN_ID);if(typeof r==="string"){return r}return""}function m(e,t){const r=d(e,t,s.X_B3_FLAGS);return r==="1"?"1":undefined}function h(e,t){const r=d(e,t,s.X_B3_SAMPLED);const o=m(e,t);if(o==="1"||a.has(r)){return n.TraceFlags.SAMPLED}if(r===undefined||c.has(r)){return n.TraceFlags.NONE}return}class E{inject(e,t,r){const a=n.trace.getSpanContext(e);if(!a||!(0,n.isSpanContextValid)(a)||(0,o.isTracingSuppressed)(e))return;const c=e.getValue(i.B3_DEBUG_FLAG_KEY);r.set(t,s.X_B3_TRACE_ID,a.traceId);r.set(t,s.X_B3_SPAN_ID,a.spanId);if(c==="1"){r.set(t,s.X_B3_FLAGS,c)}else if(a.traceFlags!==undefined){r.set(t,s.X_B3_SAMPLED,(n.TraceFlags.SAMPLED&a.traceFlags)===n.TraceFlags.SAMPLED?"1":"0")}}extract(e,t,r){const o=p(t,r);const s=f(t,r);const a=h(t,r);const c=m(t,r);if((0,n.isValidTraceId)(o)&&(0,n.isValidSpanId)(s)&&u(a)){e=e.setValue(i.B3_DEBUG_FLAG_KEY,c);return n.trace.setSpanContext(e,{traceId:o,spanId:s,isRemote:true,traceFlags:a})}return e}fields(){return[s.X_B3_TRACE_ID,s.X_B3_SPAN_ID,s.X_B3_FLAGS,s.X_B3_SAMPLED,s.X_B3_PARENT_SPAN_ID]}}r.B3MultiPropagator=E},{"./common":331,"./constants":332,"@opentelemetry/api":19,"@opentelemetry/core":58}],329:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.B3Propagator=void 0;const n=e("@opentelemetry/core");const o=e("./B3MultiPropagator");const i=e("./B3SinglePropagator");const s=e("./constants");const a=e("./types");class c{constructor(e={}){this._b3MultiPropagator=new o.B3MultiPropagator;this._b3SinglePropagator=new i.B3SinglePropagator;if(e.injectEncoding===a.B3InjectEncoding.MULTI_HEADER){this._inject=this._b3MultiPropagator.inject;this._fields=this._b3MultiPropagator.fields()}else{this._inject=this._b3SinglePropagator.inject;this._fields=this._b3SinglePropagator.fields()}}inject(e,t,r){if((0,n.isTracingSuppressed)(e)){return}this._inject(e,t,r)}extract(e,t,r){const n=r.get(t,s.B3_CONTEXT_HEADER);const o=Array.isArray(n)?n[0]:n;if(o){return this._b3SinglePropagator.extract(e,t,r)}else{return this._b3MultiPropagator.extract(e,t,r)}}fields(){return this._fields}}r.B3Propagator=c},{"./B3MultiPropagator":328,"./B3SinglePropagator":330,"./constants":332,"./types":334,"@opentelemetry/core":58}],330:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.B3SinglePropagator=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./common");const s=e("./constants");const a=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/;const c="0".repeat(16);const u=new Set(["d","1"]);const l="d";function d(e){return e.length===32?e:`${c}${e}`}function p(e){if(e&&u.has(e)){return n.TraceFlags.SAMPLED}return n.TraceFlags.NONE}class f{inject(e,t,r){const a=n.trace.getSpanContext(e);if(!a||!(0,n.isSpanContextValid)(a)||(0,o.isTracingSuppressed)(e))return;const c=e.getValue(i.B3_DEBUG_FLAG_KEY)||a.traceFlags&1;const u=`${a.traceId}-${a.spanId}-${c}`;r.set(t,s.B3_CONTEXT_HEADER,u)}extract(e,t,r){const o=r.get(t,s.B3_CONTEXT_HEADER);const c=Array.isArray(o)?o[0]:o;if(typeof c!=="string")return e;const u=c.match(a);if(!u)return e;const[,f,m,h]=u;const E=d(f);if(!(0,n.isValidTraceId)(E)||!(0,n.isValidSpanId)(m))return e;const _=p(h);if(h===l){e=e.setValue(i.B3_DEBUG_FLAG_KEY,h)}return n.trace.setSpanContext(e,{traceId:E,spanId:m,isRemote:true,traceFlags:_})}fields(){return[s.B3_CONTEXT_HEADER]}}r.B3SinglePropagator=f},{"./common":331,"./constants":332,"@opentelemetry/api":19,"@opentelemetry/core":58}],331:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.B3_DEBUG_FLAG_KEY=void 0;const n=e("@opentelemetry/api");r.B3_DEBUG_FLAG_KEY=(0,n.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")},{"@opentelemetry/api":19}],332:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.X_B3_FLAGS=r.X_B3_PARENT_SPAN_ID=r.X_B3_SAMPLED=r.X_B3_SPAN_ID=r.X_B3_TRACE_ID=r.B3_CONTEXT_HEADER=void 0;r.B3_CONTEXT_HEADER="b3";r.X_B3_TRACE_ID="x-b3-traceid";r.X_B3_SPAN_ID="x-b3-spanid";r.X_B3_SAMPLED="x-b3-sampled";r.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";r.X_B3_FLAGS="x-b3-flags"},{}],333:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./B3Propagator"),r);o(e("./constants"),r);o(e("./types"),r)},{"./B3Propagator":329,"./constants":332,"./types":334}],334:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.B3InjectEncoding=void 0;var n;(function(e){e[e["SINGLE_HEADER"]=0]="SINGLE_HEADER";e[e["MULTI_HEADER"]=1]="MULTI_HEADER"})(n=r.B3InjectEncoding||(r.B3InjectEncoding={}))},{}],335:[function(e,t,r){arguments[4][236][0].apply(r,arguments)},{dup:236}],336:[function(e,t,r){arguments[4][237][0].apply(r,arguments)},{"./platform":354,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/semantic-conventions":438,dup:237}],337:[function(e,t,r){arguments[4][238][0].apply(r,arguments)},{dup:238}],338:[function(e,t,r){arguments[4][239][0].apply(r,arguments)},{"./Resource":336,"./utils":356,"@opentelemetry/api":19,dup:239}],339:[function(e,t,r){arguments[4][240][0].apply(r,arguments)},{"..":346,dup:240}],340:[function(e,t,r){arguments[4][241][0].apply(r,arguments)},{"..":346,"@opentelemetry/api":19,"@opentelemetry/semantic-conventions":438,dup:241}],341:[function(e,t,r){arguments[4][242][0].apply(r,arguments)},{"./EnvDetectorSync":342,dup:242}],342:[function(e,t,r){arguments[4][243][0].apply(r,arguments)},{"../Resource":336,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/semantic-conventions":438,dup:243}],343:[function(e,t,r){arguments[4][244][0].apply(r,arguments)},{"./NoopDetectorSync":344,dup:244}],344:[function(e,t,r){arguments[4][245][0].apply(r,arguments)},{"../Resource":336,dup:245}],345:[function(e,t,r){arguments[4][246][0].apply(r,arguments)},{"./BrowserDetector":339,"./BrowserDetectorSync":340,"./EnvDetector":341,"./EnvDetectorSync":342,dup:246}],346:[function(e,t,r){arguments[4][247][0].apply(r,arguments)},{"./IResource":335,"./Resource":336,"./config":337,"./detect-resources":338,"./detectors":345,"./platform":354,"./types":355,dup:247}],347:[function(e,t,r){arguments[4][248][0].apply(r,arguments)},{"../../detectors/NoopDetector":343,dup:248}],348:[function(e,t,r){arguments[4][249][0].apply(r,arguments)},{"../../detectors/NoopDetectorSync":344,dup:249}],349:[function(e,t,r){arguments[4][250][0].apply(r,arguments)},{"../../detectors/NoopDetector":343,dup:250}],350:[function(e,t,r){arguments[4][251][0].apply(r,arguments)},{"../../detectors/NoopDetectorSync":344,dup:251}],351:[function(e,t,r){arguments[4][252][0].apply(r,arguments)},{"../../detectors/NoopDetector":343,dup:252}],352:[function(e,t,r){arguments[4][253][0].apply(r,arguments)},{"../../detectors/NoopDetector":343,dup:253}],353:[function(e,t,r){arguments[4][254][0].apply(r,arguments)},{dup:254}],354:[function(e,t,r){arguments[4][255][0].apply(r,arguments)},{"./HostDetector":347,"./HostDetectorSync":348,"./OSDetector":349,"./OSDetectorSync":350,"./ProcessDetector":351,"./ProcessDetectorSync":352,"./default-service-name":353,dup:255}],355:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],356:[function(e,t,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],357:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isValidName=r.isDescriptorCompatibleWith=r.createInstrumentDescriptorWithView=r.createInstrumentDescriptor=r.InstrumentType=void 0;const n=e("@opentelemetry/api");const o=e("./utils");var i;(function(e){e["COUNTER"]="COUNTER";e["HISTOGRAM"]="HISTOGRAM";e["UP_DOWN_COUNTER"]="UP_DOWN_COUNTER";e["OBSERVABLE_COUNTER"]="OBSERVABLE_COUNTER";e["OBSERVABLE_GAUGE"]="OBSERVABLE_GAUGE";e["OBSERVABLE_UP_DOWN_COUNTER"]="OBSERVABLE_UP_DOWN_COUNTER"})(i=r.InstrumentType||(r.InstrumentType={}));function s(e,t,r){var o,i,s,a;if(!l(e)){n.diag.warn(`Invalid metric name: "${e}". The metric name should be a ASCII string with a length no greater than 255 characters.`)}return{name:e,type:t,description:(o=r===null||r===void 0?void 0:r.description)!==null&&o!==void 0?o:"",unit:(i=r===null||r===void 0?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(s=r===null||r===void 0?void 0:r.valueType)!==null&&s!==void 0?s:n.ValueType.DOUBLE,advice:(a=r===null||r===void 0?void 0:r.advice)!==null&&a!==void 0?a:{}}}r.createInstrumentDescriptor=s;function a(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType,advice:t.advice}}r.createInstrumentDescriptorWithView=a;function c(e,t){return(0,o.equalsCaseInsensitive)(e.name,t.name)&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}r.isDescriptorCompatibleWith=c;const u=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function l(e){return e.match(u)!=null}r.isValidName=l},{"./utils":396,"@opentelemetry/api":19}],358:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isObservableInstrument=r.ObservableUpDownCounterInstrument=r.ObservableGaugeInstrument=r.ObservableCounterInstrument=r.ObservableInstrument=r.HistogramInstrument=r.CounterInstrument=r.UpDownCounterInstrument=r.SyncInstrument=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");class i{constructor(e,t){this._writableMetricStorage=e;this._descriptor=t}_record(e,t={},r=n.context.active()){if(typeof e!=="number"){n.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}if(this._descriptor.valueType===n.ValueType.INT&&!Number.isInteger(e)){n.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`);e=Math.trunc(e);if(!Number.isInteger(e)){return}}this._writableMetricStorage.record(e,t,r,(0,o.millisToHrTime)(Date.now()))}}r.SyncInstrument=i;class s extends i{add(e,t,r){this._record(e,t,r)}}r.UpDownCounterInstrument=s;class a extends i{add(e,t,r){if(e<0){n.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,r)}}r.CounterInstrument=a;class c extends i{record(e,t,r){if(e<0){n.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,r)}}r.HistogramInstrument=c;class u{constructor(e,t,r){this._observableRegistry=r;this._descriptor=e;this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}}r.ObservableInstrument=u;class l extends u{}r.ObservableCounterInstrument=l;class d extends u{}r.ObservableGaugeInstrument=d;class p extends u{}r.ObservableUpDownCounterInstrument=p;function f(e){return e instanceof u}r.isObservableInstrument=f},{"@opentelemetry/api":19,"@opentelemetry/core":58}],359:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Meter=void 0;const n=e("./InstrumentDescriptor");const o=e("./Instruments");class i{constructor(e){this._meterSharedState=e}createHistogram(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.HISTOGRAM,t);const i=this._meterSharedState.registerMetricStorage(r);return new o.HistogramInstrument(i,r)}createCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.COUNTER,t);const i=this._meterSharedState.registerMetricStorage(r);return new o.CounterInstrument(i,r)}createUpDownCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.UP_DOWN_COUNTER,t);const i=this._meterSharedState.registerMetricStorage(r);return new o.UpDownCounterInstrument(i,r)}createObservableGauge(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_GAUGE,t);const i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableGaugeInstrument(r,i,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_COUNTER,t);const i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableCounterInstrument(r,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){const r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t);const i=this._meterSharedState.registerAsyncMetricStorage(r);return new o.ObservableUpDownCounterInstrument(r,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}r.Meter=i},{"./InstrumentDescriptor":357,"./Instruments":358}],360:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MeterProvider=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/resources");const i=e("./state/MeterProviderSharedState");const s=e("./state/MetricCollector");class a{constructor(e){var t;this._shutdown=false;const r=o.Resource.default().merge((t=e===null||e===void 0?void 0:e.resource)!==null&&t!==void 0?t:o.Resource.empty());this._sharedState=new i.MeterProviderSharedState(r);if((e===null||e===void 0?void 0:e.views)!=null&&e.views.length>0){for(const t of e.views){this._sharedState.viewRegistry.addView(t)}}}getMeter(e,t="",r={}){if(this._shutdown){n.diag.warn("A shutdown MeterProvider cannot provide a Meter");return(0,n.createNoopMeter)()}return this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:r.schemaUrl}).meter}addMetricReader(e){const t=new s.MetricCollector(this._sharedState,e);e.setMetricProducer(t);this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){n.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=true;await Promise.all(this._sharedState.metricCollectors.map((t=>t.shutdown(e))))}async forceFlush(e){if(this._shutdown){n.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map((t=>t.forceFlush(e))))}}r.MeterProvider=a},{"./state/MeterProviderSharedState":387,"./state/MetricCollector":389,"@opentelemetry/api":19,"@opentelemetry/resources":346}],361:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BatchObservableResultImpl=r.ObservableResultImpl=void 0;const n=e("@opentelemetry/api");const o=e("./state/HashMap");const i=e("./Instruments");class s{constructor(e,t){this._instrumentName=e;this._valueType=t;this._buffer=new o.AttributeHashMap}observe(e,t={}){if(typeof e!=="number"){n.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}if(this._valueType===n.ValueType.INT&&!Number.isInteger(e)){n.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`);e=Math.trunc(e);if(!Number.isInteger(e)){return}}this._buffer.set(t,e)}}r.ObservableResultImpl=s;class a{constructor(){this._buffer=new Map}observe(e,t,r={}){if(!(0,i.isObservableInstrument)(e)){return}let s=this._buffer.get(e);if(s==null){s=new o.AttributeHashMap;this._buffer.set(e,s)}if(typeof t!=="number"){n.diag.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`);return}if(e._descriptor.valueType===n.ValueType.INT&&!Number.isInteger(t)){n.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`);t=Math.trunc(t);if(!Number.isInteger(t)){return}}s.set(r,t)}}r.BatchObservableResultImpl=a},{"./Instruments":358,"./state/HashMap":386,"@opentelemetry/api":19}],362:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DropAggregator=void 0;const n=e("./types");class o{constructor(){this.kind=n.AggregatorKind.DROP}createAccumulation(){return undefined}merge(e,t){return undefined}diff(e,t){return undefined}toMetricData(e,t,r,n){return undefined}}r.DropAggregator=o},{"./types":375}],363:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExponentialHistogramAggregator=r.ExponentialHistogramAccumulation=void 0;const n=e("./types");const o=e("../export/MetricData");const i=e("@opentelemetry/api");const s=e("../InstrumentDescriptor");const a=e("./exponential-histogram/Buckets");const c=e("./exponential-histogram/mapping/getMapping");const u=e("./exponential-histogram/util");class l{constructor(e,t){this.low=e;this.high=t}static combine(e,t){return new l(Math.min(e.low,t.low),Math.max(e.high,t.high))}}const d=20;const p=160;const f=2;class m{constructor(e=e,t=p,r=true,n=0,o=0,s=0,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,m=new a.Buckets,h=new a.Buckets,E=(0,c.getMapping)(d)){this.startTime=e;this._maxSize=t;this._recordMinMax=r;this._sum=n;this._count=o;this._zeroCount=s;this._min=u;this._max=l;this._positive=m;this._negative=h;this._mapping=E;if(this._maxSize<f){i.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${f}`);this._maxSize=f}}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){if(this._count===this._zeroCount){return 0}return this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(e>this._max){this._max=e}if(e<this._min){this._min=e}this._count+=t;if(e===0){this._zeroCount+=t;return}this._sum+=e*t;if(e>0){this._updateBuckets(this._positive,e,t)}else{this._updateBuckets(this._negative,-e,t)}}merge(e){if(this._count===0){this._min=e.min;this._max=e.max}else if(e.count!==0){if(e.min<this.min){this._min=e.min}if(e.max>this.max){this._max=e.max}}this.startTime=e.startTime;this._sum+=e.sum;this._count+=e.count;this._zeroCount+=e.zeroCount;const t=this._minScale(e);this._downscale(this.scale-t);this._mergeBuckets(this.positive,e,e.positive,t);this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=Infinity;this._max=-Infinity;this._sum-=e.sum;this._count-=e.count;this._zeroCount-=e.zeroCount;const t=this._minScale(e);this._downscale(this.scale-t);this._diffBuckets(this.positive,e,e.positive,t);this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new m(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,r){let n=this._mapping.mapToIndex(t);let o=false;let i=0;let s=0;if(e.length===0){e.indexStart=n;e.indexEnd=e.indexStart;e.indexBase=e.indexStart}else if(n<e.indexStart&&e.indexEnd-n>=this._maxSize){o=true;s=n;i=e.indexEnd}else if(n>e.indexEnd&&n-e.indexStart>=this._maxSize){o=true;s=e.indexStart;i=n}if(o){const e=this._changeScale(i,s);this._downscale(e);n=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,n,r)}_incrementIndexBy(e,t,r){if(r===0){return}if(t<e.indexStart){const r=e.indexEnd-t;if(r>=e.backing.length){this._grow(e,r+1)}e.indexStart=t}else if(t>e.indexEnd){const r=t-e.indexStart;if(r>=e.backing.length){this._grow(e,r+1)}e.indexEnd=t}let n=t-e.indexBase;if(n<0){n+=e.backing.length}e.incrementBucket(n,r)}_grow(e,t){const r=e.backing.length;const n=e.indexBase-e.indexStart;const o=r-n;let i=(0,u.nextGreaterSquare)(t);if(i>this._maxSize){i=this._maxSize}const s=i-n;e.backing.growTo(i,o,s)}_changeScale(e,t){let r=0;while(e-t>=this._maxSize){e>>=1;t>>=1;r++}return r}_downscale(e){if(e===0){return}if(e<0){throw new Error(`impossible change of scale: ${this.scale}`)}const t=this._mapping.scale-e;this._positive.downscale(e);this._negative.downscale(e);this._mapping=(0,c.getMapping)(t)}_minScale(e){const t=Math.min(this.scale,e.scale);const r=l.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t));const n=l.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(r.high,r.low),t-this._changeScale(n.high,n.low))}_highLowAtScale(e,t,r){if(e.length===0){return new l(0,-1)}const n=t-r;return new l(e.indexStart>>n,e.indexEnd>>n)}_mergeBuckets(e,t,r,n){const o=r.offset;const i=t.scale-n;for(let t=0;t<r.length;t++){this._incrementIndexBy(e,o+t>>i,r.at(t))}}_diffBuckets(e,t,r,n){const o=r.offset;const i=t.scale-n;for(let t=0;t<r.length;t++){const n=o+t>>i;let s=n-e.indexBase;if(s<0){s+=e.backing.length}e.decrementBucket(s,r.at(t))}e.trim()}}r.ExponentialHistogramAccumulation=m;class h{constructor(e,t){this._maxSize=e;this._recordMinMax=t;this.kind=n.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new m(e,this._maxSize,this._recordMinMax)}merge(e,t){const r=t.clone();r.merge(e);return r}diff(e,t){const r=t.clone();r.diff(e);return r}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:r.map((([t,r])=>{const o=r.toPointValue();const i=e.type===s.InstrumentType.UP_DOWN_COUNTER||e.type===s.InstrumentType.OBSERVABLE_GAUGE||e.type===s.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:undefined,max:o.hasMinMax?o.max:undefined,sum:!i?o.sum:undefined,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},count:o.count,scale:o.scale,zeroCount:o.zeroCount}}}))}}}r.ExponentialHistogramAggregator=h},{"../InstrumentDescriptor":357,"../export/MetricData":380,"./exponential-histogram/Buckets":367,"./exponential-histogram/mapping/getMapping":370,"./exponential-histogram/util":373,"./types":375,"@opentelemetry/api":19}],364:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.HistogramAggregator=r.HistogramAccumulation=void 0;const n=e("./types");const o=e("../export/MetricData");const i=e("../InstrumentDescriptor");const s=e("../utils");function a(e){const t=e.map((()=>0));t.push(0);return{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:false,min:Infinity,max:-Infinity}}class c{constructor(e,t,r=true,n=a(t)){this.startTime=e;this._boundaries=t;this._recordMinMax=r;this._current=n}record(e){this._current.count+=1;this._current.sum+=e;if(this._recordMinMax){this._current.min=Math.min(e,this._current.min);this._current.max=Math.max(e,this._current.max);this._current.hasMinMax=true}const t=(0,s.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.HistogramAccumulation=c;class u{constructor(e,t){this._boundaries=e;this._recordMinMax=t;this.kind=n.AggregatorKind.HISTOGRAM}createAccumulation(e){return new c(e,this._boundaries,this._recordMinMax)}merge(e,t){const r=e.toPointValue();const n=t.toPointValue();const o=r.buckets.counts;const i=n.buckets.counts;const s=new Array(o.length);for(let e=0;e<o.length;e++){s[e]=o[e]+i[e]}let a=Infinity;let u=-Infinity;if(this._recordMinMax){if(r.hasMinMax&&n.hasMinMax){a=Math.min(r.min,n.min);u=Math.max(r.max,n.max)}else if(r.hasMinMax){a=r.min;u=r.max}else if(n.hasMinMax){a=n.min;u=n.max}}return new c(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:r.count+n.count,sum:r.sum+n.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||n.hasMinMax),min:a,max:u})}diff(e,t){const r=e.toPointValue();const n=t.toPointValue();const o=r.buckets.counts;const i=n.buckets.counts;const s=new Array(o.length);for(let e=0;e<o.length;e++){s[e]=i[e]-o[e]}return new c(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:n.count-r.count,sum:n.sum-r.sum,hasMinMax:false,min:Infinity,max:-Infinity})}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.HISTOGRAM,dataPoints:r.map((([t,r])=>{const o=r.toPointValue();const s=e.type===i.InstrumentType.UP_DOWN_COUNTER||e.type===i.InstrumentType.OBSERVABLE_GAUGE||e.type===i.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:undefined,max:o.hasMinMax?o.max:undefined,sum:!s?o.sum:undefined,buckets:o.buckets,count:o.count}}}))}}}r.HistogramAggregator=u},{"../InstrumentDescriptor":357,"../export/MetricData":380,"../utils":396,"./types":375}],365:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LastValueAggregator=r.LastValueAccumulation=void 0;const n=e("./types");const o=e("@opentelemetry/core");const i=e("../export/MetricData");class s{constructor(e,t=0,r=[0,0]){this.startTime=e;this._current=t;this.sampleTime=r}record(e){this._current=e;this.sampleTime=(0,o.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.LastValueAccumulation=s;class a{constructor(){this.kind=n.AggregatorKind.LAST_VALUE}createAccumulation(e){return new s(e)}merge(e,t){const r=(0,o.hrTimeToMicroseconds)(t.sampleTime)>=(0,o.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new s(e.startTime,r.toPointValue(),r.sampleTime)}diff(e,t){const r=(0,o.hrTimeToMicroseconds)(t.sampleTime)>=(0,o.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new s(t.startTime,r.toPointValue(),r.sampleTime)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:i.DataPointType.GAUGE,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()})))}}}r.LastValueAggregator=a},{"../export/MetricData":380,"./types":375,"@opentelemetry/core":58}],366:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SumAggregator=r.SumAccumulation=void 0;const n=e("./types");const o=e("../export/MetricData");class i{constructor(e,t,r=0,n=false){this.startTime=e;this.monotonic=t;this._current=r;this.reset=n}record(e){if(this.monotonic&&e<0){return}this._current+=e}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}r.SumAccumulation=i;class s{constructor(e){this.monotonic=e;this.kind=n.AggregatorKind.SUM}createAccumulation(e){return new i(e,this.monotonic)}merge(e,t){const r=e.toPointValue();const n=t.toPointValue();if(t.reset){return new i(t.startTime,this.monotonic,n,t.reset)}return new i(e.startTime,this.monotonic,r+n)}diff(e,t){const r=e.toPointValue();const n=t.toPointValue();if(this.monotonic&&r>n){return new i(t.startTime,this.monotonic,n,true)}return new i(t.startTime,this.monotonic,n-r)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.SUM,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()}))),isMonotonic:this.monotonic}}}r.SumAggregator=s},{"../export/MetricData":380,"./types":375}],367:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Buckets=void 0;class n{constructor(e=new o,t=0,r=0,n=0){this.backing=e;this.indexBase=t;this.indexStart=r;this.indexEnd=n}get offset(){return this.indexStart}get length(){if(this.backing.length===0){return 0}if(this.indexEnd===this.indexStart&&this.at(0)===0){return 0}return this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},((e,t)=>this.at(t)))}at(e){const t=this.indexBase-this.indexStart;if(e<t){e+=this.backing.length}e-=t;return this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++){if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}}for(let e=this.length-1;e>=0;e--){if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}}this._rotate()}downscale(e){this._rotate();const t=1+this.indexEnd-this.indexStart;const r=1<<e;let n=0;let o=0;for(let e=this.indexStart;e<=this.indexEnd;){let i=e%r;if(i<0){i+=r}for(let s=i;s<r&&n<t;s++){this._relocateBucket(o,n);n++;e++}o++}this.indexStart>>=e;this.indexEnd>>=e;this.indexBase=this.indexStart}clone(){return new n(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){const e=this.indexBase-this.indexStart;if(e===0){return}else if(e>0){this.backing.reverse(0,this.backing.length);this.backing.reverse(0,e);this.backing.reverse(e,this.backing.length)}else{this.backing.reverse(0,this.backing.length);this.backing.reverse(0,this.backing.length+e)}this.indexBase=this.indexStart}_relocateBucket(e,t){if(e===t){return}this.incrementBucket(e,this.backing.emptyBucket(t))}}r.Buckets=n;class o{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,r){const n=new Array(e).fill(0);n.splice(r,this._counts.length-t,...this._counts.slice(t));n.splice(0,t,...this._counts.slice(0,t));this._counts=n}reverse(e,t){const r=Math.floor((e+t)/2)-e;for(let n=0;n<r;n++){const r=this._counts[e+n];this._counts[e+n]=this._counts[t-n-1];this._counts[t-n-1]=r}}emptyBucket(e){const t=this._counts[e];this._counts[e]=0;return t}increment(e,t){this._counts[e]+=t}decrement(e,t){if(this._counts[e]>=t){this._counts[e]-=t}else{this._counts[e]=0}}clone(){return new o([...this._counts])}}},{}],368:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExponentMapping=void 0;const n=e("./ieee754");const o=e("../util");const i=e("./types");class s{constructor(e){this._shift=-e}mapToIndex(e){if(e<n.MIN_VALUE){return this._minNormalLowerBoundaryIndex()}const t=n.getNormalBase2(e);const r=this._rightShift(n.getSignificand(e)-1,n.SIGNIFICAND_WIDTH);return t+r>>this._shift}lowerBoundary(e){const t=this._minNormalLowerBoundaryIndex();if(e<t){throw new i.MappingError(`underflow: ${e} is < minimum lower boundary: ${t}`)}const r=this._maxNormalLowerBoundaryIndex();if(e>r){throw new i.MappingError(`overflow: ${e} is > maximum lower boundary: ${r}`)}return o.ldexp(1,e<<this._shift)}get scale(){if(this._shift===0){return 0}return-this._shift}_minNormalLowerBoundaryIndex(){let e=n.MIN_NORMAL_EXPONENT>>this._shift;if(this._shift<2){e--}return e}_maxNormalLowerBoundaryIndex(){return n.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}r.ExponentMapping=s},{"../util":373,"./ieee754":371,"./types":372}],369:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LogarithmMapping=void 0;const n=e("./ieee754");const o=e("../util");const i=e("./types");class s{constructor(e){this._scale=e;this._scaleFactor=o.ldexp(Math.LOG2E,e);this._inverseFactor=o.ldexp(Math.LN2,-e)}mapToIndex(e){if(e<=n.MIN_VALUE){return this._minNormalLowerBoundaryIndex()-1}if(n.getSignificand(e)===0){const t=n.getNormalBase2(e);return(t<<this._scale)-1}const t=Math.floor(Math.log(e)*this._scaleFactor);const r=this._maxNormalLowerBoundaryIndex();if(t>=r){return r}return t}lowerBoundary(e){const t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t){return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor)}throw new i.MappingError(`overflow: ${e} is > maximum lower boundary: ${t}`)}const r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r){return n.MIN_VALUE}else if(e===r-1){return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2}throw new i.MappingError(`overflow: ${e} is < minimum lower boundary: ${r}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return n.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(n.MAX_NORMAL_EXPONENT+1<<this._scale)-1}}r.LogarithmMapping=s},{"../util":373,"./ieee754":371,"./types":372}],370:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getMapping=void 0;const n=e("./ExponentMapping");const o=e("./LogarithmMapping");const i=e("./types");const s=-10;const a=20;const c=Array.from({length:31},((e,t)=>{if(t>10){return new o.LogarithmMapping(t-10)}return new n.ExponentMapping(t-10)}));function u(e){if(e>a||e<s){throw new i.MappingError(`expected scale >= ${s} && <= ${a}, got: ${e}`)}return c[e+10]}r.getMapping=u},{"./ExponentMapping":368,"./LogarithmMapping":369,"./types":372}],371:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getSignificand=r.getNormalBase2=r.MIN_VALUE=r.MAX_NORMAL_EXPONENT=r.MIN_NORMAL_EXPONENT=r.SIGNIFICAND_WIDTH=void 0;r.SIGNIFICAND_WIDTH=52;const n=2146435072;const o=1048575;const i=1023;r.MIN_NORMAL_EXPONENT=-i+1;r.MAX_NORMAL_EXPONENT=i;r.MIN_VALUE=Math.pow(2,-1022);function s(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);const r=t.getUint32(0);const o=(r&n)>>20;return o-i}r.getNormalBase2=s;function a(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);const r=t.getUint32(0);const n=t.getUint32(4);const i=(r&o)*Math.pow(2,32);return i+n}r.getSignificand=a},{}],372:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MappingError=void 0;class n extends Error{}r.MappingError=n},{}],373:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.nextGreaterSquare=r.ldexp=void 0;function n(e,t){if(e===0||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||Number.isNaN(e)){return e}return e*Math.pow(2,t)}r.ldexp=n;function o(e){e--;e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;e++;return e}r.nextGreaterSquare=o},{}],374:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var o=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(r,"__esModule",{value:true});o(e("./Drop"),r);o(e("./Histogram"),r);o(e("./ExponentialHistogram"),r);o(e("./LastValue"),r);o(e("./Sum"),r)},{"./Drop":362,"./ExponentialHistogram":363,"./Histogram":364,"./LastValue":365,"./Sum":366}],375:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AggregatorKind=void 0;var n;(function(e){e[e["DROP"]=0]="DROP";e[e["SUM"]=1]="SUM";e[e["LAST_VALUE"]=2]="LAST_VALUE";e[e["HISTOGRAM"]=3]="HISTOGRAM";e[e["EXPONENTIAL_HISTOGRAM"]=4]="EXPONENTIAL_HISTOGRAM"})(n=r.AggregatorKind||(r.AggregatorKind={}))},{}],376:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=r.DEFAULT_AGGREGATION_SELECTOR=void 0;const n=e("../view/Aggregation");const o=e("./AggregationTemporality");const i=e=>n.Aggregation.Default();r.DEFAULT_AGGREGATION_SELECTOR=i;const s=e=>o.AggregationTemporality.CUMULATIVE;r.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=s},{"../view/Aggregation":397,"./AggregationTemporality":377}],377:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AggregationTemporality=void 0;var n;(function(e){e[e["DELTA"]=0]="DELTA";e[e["CUMULATIVE"]=1]="CUMULATIVE"})(n=r.AggregationTemporality||(r.AggregationTemporality={}))},{}],378:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ConsoleMetricExporter=void 0;const n=e("@opentelemetry/core");const o=e("./AggregationSelector");class i{constructor(e){var t;this._shutdown=false;this._temporalitySelector=(t=e===null||e===void 0?void 0:e.temporalitySelector)!==null&&t!==void 0?t:o.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(e,r){if(this._shutdown){t(r,{code:n.ExportResultCode.FAILED});return}return i._sendMetrics(e,r)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){this._shutdown=true;return Promise.resolve()}static _sendMetrics(e,t){for(const t of e.scopeMetrics){for(const e of t.metrics){console.dir({descriptor:e.descriptor,dataPointType:e.dataPointType,dataPoints:e.dataPoints})}}t({code:n.ExportResultCode.SUCCESS})}}r.ConsoleMetricExporter=i}).call(this)}).call(this,e("timers").setImmediate)},{"./AggregationSelector":376,"@opentelemetry/core":58,timers:450}],379:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InMemoryMetricExporter=void 0;const n=e("@opentelemetry/core");class o{constructor(e){this._shutdown=false;this._metrics=[];this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout((()=>t({code:n.ExportResultCode.FAILED})),0);return}this._metrics.push(e);setTimeout((()=>t({code:n.ExportResultCode.SUCCESS})),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){this._shutdown=true;return Promise.resolve()}}r.InMemoryMetricExporter=o},{"@opentelemetry/core":58}],380:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DataPointType=void 0;var n;(function(e){e[e["HISTOGRAM"]=0]="HISTOGRAM";e[e["EXPONENTIAL_HISTOGRAM"]=1]="EXPONENTIAL_HISTOGRAM";e[e["GAUGE"]=2]="GAUGE";e[e["SUM"]=3]="SUM"})(n=r.DataPointType||(r.DataPointType={}))},{}],381:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MetricReader=void 0;const n=e("@opentelemetry/api");const o=e("../utils");const i=e("./AggregationSelector");class s{constructor(e){var t,r,n;this._shutdown=false;this._aggregationSelector=(t=e===null||e===void 0?void 0:e.aggregationSelector)!==null&&t!==void 0?t:i.DEFAULT_AGGREGATION_SELECTOR;this._aggregationTemporalitySelector=(r=e===null||e===void 0?void 0:e.aggregationTemporalitySelector)!==null&&r!==void 0?r:i.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR;this._metricProducers=(n=e===null||e===void 0?void 0:e.metricProducers)!==null&&n!==void 0?n:[]}setMetricProducer(e){if(this._sdkMetricProducer){throw new Error("MetricReader can not be bound to a MeterProvider again.")}this._sdkMetricProducer=e;this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._sdkMetricProducer===undefined){throw new Error("MetricReader is not bound to a MetricProducer")}if(this._shutdown){throw new Error("MetricReader is shutdown")}const[t,...r]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e===null||e===void 0?void 0:e.timeoutMillis}),...this._metricProducers.map((t=>t.collect({timeoutMillis:e===null||e===void 0?void 0:e.timeoutMillis})))]);const n=t.errors.concat((0,o.FlatMap)(r,(e=>e.errors)));const i=t.resourceMetrics.resource;const s=t.resourceMetrics.scopeMetrics.concat((0,o.FlatMap)(r,(e=>e.resourceMetrics.scopeMetrics)));return{resourceMetrics:{resource:i,scopeMetrics:s},errors:n}}async shutdown(e){if(this._shutdown){n.diag.error("Cannot call shutdown twice.");return}if((e===null||e===void 0?void 0:e.timeoutMillis)==null){await this.onShutdown()}else{await(0,o.callWithTimeout)(this.onShutdown(),e.timeoutMillis)}this._shutdown=true}async forceFlush(e){if(this._shutdown){n.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e===null||e===void 0?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await(0,o.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}}r.MetricReader=s},{"../utils":396,"./AggregationSelector":376,"@opentelemetry/api":19}],382:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PeriodicExportingMetricReader=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("./MetricReader");const s=e("../utils");const a=e("@opentelemetry/api");class c extends i.MetricReader{constructor(e){var t,r,n,o;super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(r=e.exporter.selectAggregationTemporality)===null||r===void 0?void 0:r.bind(e.exporter),metricProducers:e.metricProducers});if(e.exportIntervalMillis!==undefined&&e.exportIntervalMillis<=0){throw Error("exportIntervalMillis must be greater than 0")}if(e.exportTimeoutMillis!==undefined&&e.exportTimeoutMillis<=0){throw Error("exportTimeoutMillis must be greater than 0")}if(e.exportTimeoutMillis!==undefined&&e.exportIntervalMillis!==undefined&&e.exportIntervalMillis<e.exportTimeoutMillis){throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis")}this._exportInterval=(n=e.exportIntervalMillis)!==null&&n!==void 0?n:6e4;this._exportTimeout=(o=e.exportTimeoutMillis)!==null&&o!==void 0?o:3e4;this._exporter=e.exporter}async _runOnce(){try{await(0,s.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof s.TimeoutError){n.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,o.globalErrorHandler)(e)}}async _doRun(){var e,t;const{resourceMetrics:r,errors:i}=await this.collect({timeoutMillis:this._exportTimeout});if(i.length>0){n.diag.error("PeriodicExportingMetricReader: metrics collection errors",...i)}const s=async()=>{const e=await o.internal._export(this._exporter,r);if(e.code!==o.ExportResultCode.SUCCESS){throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${e.error})`)}};if(r.resource.asyncAttributesPending){(t=(e=r.resource).waitForAsyncAttributes)===null||t===void 0?void 0:t.call(e).then(s,(e=>a.diag.debug("Error while resolving async portion of resource: ",e)))}else{await s()}}onInitialized(){this._interval=setInterval((()=>{void this._runOnce()}),this._exportInterval);(0,o.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce();await this._exporter.forceFlush()}async onShutdown(){if(this._interval){clearInterval(this._interval)}await this._exporter.shutdown()}}r.PeriodicExportingMetricReader=c},{"../utils":396,"./MetricReader":381,"@opentelemetry/api":19,"@opentelemetry/core":58}],383:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TimeoutError=r.View=r.Aggregation=r.SumAggregation=r.LastValueAggregation=r.HistogramAggregation=r.DropAggregation=r.ExponentialHistogramAggregation=r.ExplicitBucketHistogramAggregation=r.DefaultAggregation=r.MeterProvider=r.InstrumentType=r.ConsoleMetricExporter=r.InMemoryMetricExporter=r.PeriodicExportingMetricReader=r.MetricReader=r.DataPointType=r.AggregationTemporality=void 0;var n=e("./export/AggregationTemporality");Object.defineProperty(r,"AggregationTemporality",{enumerable:true,get:function(){return n.AggregationTemporality}});var o=e("./export/MetricData");Object.defineProperty(r,"DataPointType",{enumerable:true,get:function(){return o.DataPointType}});var i=e("./export/MetricReader");Object.defineProperty(r,"MetricReader",{enumerable:true,get:function(){return i.MetricReader}});var s=e("./export/PeriodicExportingMetricReader");Object.defineProperty(r,"PeriodicExportingMetricReader",{enumerable:true,get:function(){return s.PeriodicExportingMetricReader}});var a=e("./export/InMemoryMetricExporter");Object.defineProperty(r,"InMemoryMetricExporter",{enumerable:true,get:function(){return a.InMemoryMetricExporter}});var c=e("./export/ConsoleMetricExporter");Object.defineProperty(r,"ConsoleMetricExporter",{enumerable:true,get:function(){return c.ConsoleMetricExporter}});var u=e("./InstrumentDescriptor");Object.defineProperty(r,"InstrumentType",{enumerable:true,get:function(){return u.InstrumentType}});var l=e("./MeterProvider");Object.defineProperty(r,"MeterProvider",{enumerable:true,get:function(){return l.MeterProvider}});var d=e("./view/Aggregation");Object.defineProperty(r,"DefaultAggregation",{enumerable:true,get:function(){return d.DefaultAggregation}});Object.defineProperty(r,"ExplicitBucketHistogramAggregation",{enumerable:true,get:function(){return d.ExplicitBucketHistogramAggregation}});Object.defineProperty(r,"ExponentialHistogramAggregation",{enumerable:true,get:function(){return d.ExponentialHistogramAggregation}});Object.defineProperty(r,"DropAggregation",{enumerable:true,get:function(){return d.DropAggregation}});Object.defineProperty(r,"HistogramAggregation",{enumerable:true,get:function(){return d.HistogramAggregation}});Object.defineProperty(r,"LastValueAggregation",{enumerable:true,get:function(){return d.LastValueAggregation}});Object.defineProperty(r,"SumAggregation",{enumerable:true,get:function(){return d.SumAggregation}});Object.defineProperty(r,"Aggregation",{enumerable:true,get:function(){return d.Aggregation}});var p=e("./view/View");Object.defineProperty(r,"View",{enumerable:true,get:function(){return p.View}});var f=e("./utils");Object.defineProperty(r,"TimeoutError",{enumerable:true,get:function(){return f.TimeoutError}})},{"./InstrumentDescriptor":357,"./MeterProvider":360,"./export/AggregationTemporality":377,"./export/ConsoleMetricExporter":378,"./export/InMemoryMetricExporter":379,"./export/MetricData":380,"./export/MetricReader":381,"./export/PeriodicExportingMetricReader":382,"./utils":396,"./view/Aggregation":397,"./view/View":403}],384:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AsyncMetricStorage=void 0;const n=e("./MetricStorage");const o=e("./DeltaMetricProcessor");const i=e("./TemporalMetricProcessor");const s=e("./HashMap");class a extends n.MetricStorage{constructor(e,t,r,n){super(e);this._attributesProcessor=r;this._deltaMetricStorage=new o.DeltaMetricProcessor(t);this._temporalMetricStorage=new i.TemporalMetricProcessor(t,n)}record(e,t){const r=new s.AttributeHashMap;Array.from(e.entries()).forEach((([e,t])=>{r.set(this._attributesProcessor.process(e),t)}));this._deltaMetricStorage.batchCumulate(r,t)}collect(e,t){const r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)}}r.AsyncMetricStorage=a},{"./DeltaMetricProcessor":385,"./HashMap":386,"./MetricStorage":390,"./TemporalMetricProcessor":395}],385:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DeltaMetricProcessor=void 0;const n=e("./HashMap");class o{constructor(e){this._aggregator=e;this._activeCollectionStorage=new n.AttributeHashMap;this._cumulativeMemoStorage=new n.AttributeHashMap}record(e,t,r,n){const o=this._activeCollectionStorage.getOrDefault(t,(()=>this._aggregator.createAccumulation(n)));o===null||o===void 0?void 0:o.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach((([e,r,n])=>{const o=this._aggregator.createAccumulation(t);o===null||o===void 0?void 0:o.record(r);let i=o;if(this._cumulativeMemoStorage.has(e,n)){const t=this._cumulativeMemoStorage.get(e,n);i=this._aggregator.diff(t,o)}if(this._activeCollectionStorage.has(e,n)){const t=this._activeCollectionStorage.get(e,n);i=this._aggregator.merge(t,i)}this._cumulativeMemoStorage.set(e,o,n);this._activeCollectionStorage.set(e,i,n)}))}collect(){const e=this._activeCollectionStorage;this._activeCollectionStorage=new n.AttributeHashMap;return e}}r.DeltaMetricProcessor=o},{"./HashMap":386}],386:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AttributeHashMap=r.HashMap=void 0;const n=e("../utils");class o{constructor(e){this._hash=e;this._valueMap=new Map;this._keyMap=new Map}get(e,t){t!==null&&t!==void 0?t:t=this._hash(e);return this._valueMap.get(t)}getOrDefault(e,t){const r=this._hash(e);if(this._valueMap.has(r)){return this._valueMap.get(r)}const n=t();if(!this._keyMap.has(r)){this._keyMap.set(r,e)}this._valueMap.set(r,n);return n}set(e,t,r){r!==null&&r!==void 0?r:r=this._hash(e);if(!this._keyMap.has(r)){this._keyMap.set(r,e)}this._valueMap.set(r,t)}has(e,t){t!==null&&t!==void 0?t:t=this._hash(e);return this._valueMap.has(t)}*keys(){const e=this._keyMap.entries();let t=e.next();while(t.done!==true){yield[t.value[1],t.value[0]];t=e.next()}}*entries(){const e=this._valueMap.entries();let t=e.next();while(t.done!==true){yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]];t=e.next()}}get size(){return this._valueMap.size}}r.HashMap=o;class i extends o{constructor(){super(n.hashAttributes)}}r.AttributeHashMap=i},{"../utils":396}],387:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MeterProviderSharedState=void 0;const n=e("../utils");const o=e("../view/ViewRegistry");const i=e("./MeterSharedState");class s{constructor(e){this.resource=e;this.viewRegistry=new o.ViewRegistry;this.metricCollectors=[];this.meterSharedStates=new Map}getMeterSharedState(e){const t=(0,n.instrumentationScopeId)(e);let r=this.meterSharedStates.get(t);if(r==null){r=new i.MeterSharedState(this,e);this.meterSharedStates.set(t,r)}return r}selectAggregations(e){const t=[];for(const r of this.metricCollectors){t.push([r,r.selectAggregation(e)])}return t}}r.MeterProviderSharedState=s},{"../utils":396,"../view/ViewRegistry":404,"./MeterSharedState":388}],388:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MeterSharedState=void 0;const n=e("../InstrumentDescriptor");const o=e("../Meter");const i=e("../utils");const s=e("./AsyncMetricStorage");const a=e("./MetricStorageRegistry");const c=e("./MultiWritableMetricStorage");const u=e("./ObservableRegistry");const l=e("./SyncMetricStorage");const d=e("../view/AttributesProcessor");class p{constructor(e,t){this._meterProviderSharedState=e;this._instrumentationScope=t;this.metricStorageRegistry=new a.MetricStorageRegistry;this.observableRegistry=new u.ObservableRegistry;this.meter=new o.Meter(this)}registerMetricStorage(e){const t=this._registerMetricStorage(e,l.SyncMetricStorage);if(t.length===1){return t[0]}return new c.MultiMetricStorage(t)}registerAsyncMetricStorage(e){const t=this._registerMetricStorage(e,s.AsyncMetricStorage);return t}async collect(e,t,r){const n=await this.observableRegistry.observe(t,r===null||r===void 0?void 0:r.timeoutMillis);const o=this.metricStorageRegistry.getStorages(e);if(o.length===0){return null}const s=o.map((r=>r.collect(e,t))).filter(i.isNotNullish);if(s.length===0){return{errors:n}}return{scopeMetrics:{scope:this._instrumentationScope,metrics:s},errors:n}}_registerMetricStorage(e,t){const r=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope);let o=r.map((r=>{const o=(0,n.createInstrumentDescriptorWithView)(r,e);const i=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(i!=null){return i}const s=r.aggregation.createAggregator(o);const a=new t(o,s,r.attributesProcessor,this._meterProviderSharedState.metricCollectors);this.metricStorageRegistry.register(a);return a}));if(o.length===0){const r=this._meterProviderSharedState.selectAggregations(e.type);const n=r.map((([r,n])=>{const o=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(r,e);if(o!=null){return o}const i=n.createAggregator(e);const s=new t(e,i,d.AttributesProcessor.Noop(),[r]);this.metricStorageRegistry.registerForCollector(r,s);return s}));o=o.concat(n)}return o}}r.MeterSharedState=p},{"../InstrumentDescriptor":357,"../Meter":359,"../utils":396,"../view/AttributesProcessor":398,"./AsyncMetricStorage":384,"./MetricStorageRegistry":391,"./MultiWritableMetricStorage":392,"./ObservableRegistry":393,"./SyncMetricStorage":394}],389:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MetricCollector=void 0;const n=e("@opentelemetry/core");class o{constructor(e,t){this._sharedState=e;this._metricReader=t}async collect(e){const t=(0,n.millisToHrTime)(Date.now());const r=[];const o=[];const i=Array.from(this._sharedState.meterSharedStates.values()).map((async n=>{const i=await n.collect(this,t,e);if((i===null||i===void 0?void 0:i.scopeMetrics)!=null){r.push(i.scopeMetrics)}if((i===null||i===void 0?void 0:i.errors)!=null){o.push(...i.errors)}}));await Promise.all(i);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:r},errors:o}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}}r.MetricCollector=o},{"@opentelemetry/core":58}],390:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MetricStorage=void 0;const n=e("../InstrumentDescriptor");class o{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,n.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}r.MetricStorage=o},{"../InstrumentDescriptor":357}],391:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MetricStorageRegistry=void 0;const n=e("../InstrumentDescriptor");const o=e("@opentelemetry/api");const i=e("../view/RegistrationConflicts");class s{constructor(){this._sharedRegistry=new Map;this._perCollectorRegistry=new Map}static create(){return new s}getStorages(e){let t=[];for(const e of this._sharedRegistry.values()){t=t.concat(e)}const r=this._perCollectorRegistry.get(e);if(r!=null){for(const e of r.values()){t=t.concat(e)}}return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let r=this._perCollectorRegistry.get(e);if(r==null){r=new Map;this._perCollectorRegistry.set(e,r)}this._registerStorage(t,r)}findOrUpdateCompatibleStorage(e){const t=this._sharedRegistry.get(e.name);if(t===undefined){return null}return this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){const r=this._perCollectorRegistry.get(e);if(r===undefined){return null}const n=r.get(t.name);if(n===undefined){return null}return this._findOrUpdateCompatibleStorage(t,n)}_registerStorage(e,t){const r=e.getInstrumentDescriptor();const n=t.get(r.name);if(n===undefined){t.set(r.name,[e]);return}n.push(e)}_findOrUpdateCompatibleStorage(e,t){let r=null;for(const s of t){const t=s.getInstrumentDescriptor();if((0,n.isDescriptorCompatibleWith)(t,e)){if(t.description!==e.description){if(e.description.length>t.description.length){s.updateDescription(e.description)}o.diag.warn("A view or instrument with the name ",e.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",(0,i.getIncompatibilityDetails)(t,e),"The longer description will be used.\nTo resolve the conflict:",(0,i.getConflictResolutionRecipe)(t,e))}r=s}else{o.diag.warn("A view or instrument with the name ",e.name," has already been registered and is incompatible with another registered view.\n","Details:\n",(0,i.getIncompatibilityDetails)(t,e),"To resolve the conflict:\n",(0,i.getConflictResolutionRecipe)(t,e))}}return r}}r.MetricStorageRegistry=s},{"../InstrumentDescriptor":357,"../view/RegistrationConflicts":402,"@opentelemetry/api":19}],392:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MultiMetricStorage=void 0;class n{constructor(e){this._backingStorages=e}record(e,t,r,n){this._backingStorages.forEach((o=>{o.record(e,t,r,n)}))}}r.MultiMetricStorage=n},{}],393:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ObservableRegistry=void 0;const n=e("@opentelemetry/api");const o=e("../Instruments");const i=e("../ObservableResult");const s=e("../utils");class a{constructor(){this._callbacks=[];this._batchCallbacks=[]}addCallback(e,t){const r=this._findCallback(e,t);if(r>=0){return}this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){const r=this._findCallback(e,t);if(r<0){return}this._callbacks.splice(r,1)}addBatchCallback(e,t){const r=new Set(t.filter(o.isObservableInstrument));if(r.size===0){n.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}const i=this._findBatchCallback(e,r);if(i>=0){return}this._batchCallbacks.push({callback:e,instruments:r})}removeBatchCallback(e,t){const r=new Set(t.filter(o.isObservableInstrument));const n=this._findBatchCallback(e,r);if(n<0){return}this._batchCallbacks.splice(n,1)}async observe(e,t){const r=this._observeCallbacks(e,t);const n=this._observeBatchCallbacks(e,t);const o=await(0,s.PromiseAllSettled)([...r,...n]);const i=o.filter(s.isPromiseAllSettledRejectionResult).map((e=>e.reason));return i}_observeCallbacks(e,t){return this._callbacks.map((async({callback:r,instrument:n})=>{const o=new i.ObservableResultImpl(n._descriptor.name,n._descriptor.valueType);let a=Promise.resolve(r(o));if(t!=null){a=(0,s.callWithTimeout)(a,t)}await a;n._metricStorages.forEach((t=>{t.record(o._buffer,e)}))}))}_observeBatchCallbacks(e,t){return this._batchCallbacks.map((async({callback:r,instruments:n})=>{const o=new i.BatchObservableResultImpl;let a=Promise.resolve(r(o));if(t!=null){a=(0,s.callWithTimeout)(a,t)}await a;n.forEach((t=>{const r=o._buffer.get(t);if(r==null){return}t._metricStorages.forEach((t=>{t.record(r,e)}))}))}))}_findCallback(e,t){return this._callbacks.findIndex((r=>r.callback===e&&r.instrument===t))}_findBatchCallback(e,t){return this._batchCallbacks.findIndex((r=>r.callback===e&&(0,s.setEquals)(r.instruments,t)))}}r.ObservableRegistry=a},{"../Instruments":358,"../ObservableResult":361,"../utils":396,"@opentelemetry/api":19}],394:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SyncMetricStorage=void 0;const n=e("./MetricStorage");const o=e("./DeltaMetricProcessor");const i=e("./TemporalMetricProcessor");class s extends n.MetricStorage{constructor(e,t,r,n){super(e);this._attributesProcessor=r;this._deltaMetricStorage=new o.DeltaMetricProcessor(t);this._temporalMetricStorage=new i.TemporalMetricProcessor(t,n)}record(e,t,r,n){t=this._attributesProcessor.process(t,r);this._deltaMetricStorage.record(e,t,r,n)}collect(e,t){const r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)}}r.SyncMetricStorage=s},{"./DeltaMetricProcessor":385,"./MetricStorage":390,"./TemporalMetricProcessor":395}],395:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TemporalMetricProcessor=void 0;const n=e("../export/AggregationTemporality");const o=e("./HashMap");class i{constructor(e,t){this._aggregator=e;this._unreportedAccumulations=new Map;this._reportHistory=new Map;t.forEach((e=>{this._unreportedAccumulations.set(e,[])}))}buildMetrics(e,t,r,o){this._stashAccumulations(r);const a=this._getMergedUnreportedAccumulations(e);let c=a;let u;if(this._reportHistory.has(e)){const t=this._reportHistory.get(e);const r=t.collectionTime;u=t.aggregationTemporality;if(u===n.AggregationTemporality.CUMULATIVE){c=i.merge(t.accumulations,a,this._aggregator)}else{c=i.calibrateStartTime(t.accumulations,a,r)}}else{u=e.selectAggregationTemporality(t.type)}this._reportHistory.set(e,{accumulations:c,collectionTime:o,aggregationTemporality:u});const l=s(c);if(l.length===0){return undefined}return this._aggregator.toMetricData(t,u,l,o)}_stashAccumulations(e){const t=this._unreportedAccumulations.keys();for(const r of t){let t=this._unreportedAccumulations.get(r);if(t===undefined){t=[];this._unreportedAccumulations.set(r,t)}t.push(e)}}_getMergedUnreportedAccumulations(e){let t=new o.AttributeHashMap;const r=this._unreportedAccumulations.get(e);this._unreportedAccumulations.set(e,[]);if(r===undefined){return t}for(const e of r){t=i.merge(t,e,this._aggregator)}return t}static merge(e,t,r){const n=e;const o=t.entries();let i=o.next();while(i.done!==true){const[t,s,a]=i.value;if(e.has(t,a)){const o=e.get(t,a);const i=r.merge(o,s);n.set(t,i,a)}else{n.set(t,s,a)}i=o.next()}return n}static calibrateStartTime(e,t,r){for(const[n,o]of e.keys()){const e=t.get(n,o);e===null||e===void 0?void 0:e.setStartTime(r)}return t}}r.TemporalMetricProcessor=i;function s(e){return Array.from(e.entries())}},{"../export/AggregationTemporality":377,"./HashMap":386}],396:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.equalsCaseInsensitive=r.binarySearchLB=r.setEquals=r.FlatMap=r.isPromiseAllSettledRejectionResult=r.PromiseAllSettled=r.callWithTimeout=r.TimeoutError=r.instrumentationScopeId=r.hashAttributes=r.isNotNullish=void 0;function n(e){return e!==undefined&&e!==null}r.isNotNullish=n;function o(e){let t=Object.keys(e);if(t.length===0)return"";t=t.sort();return JSON.stringify(t.map((t=>[t,e[t]])))}r.hashAttributes=o;function i(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}r.instrumentationScopeId=i;class s extends Error{constructor(e){super(e);Object.setPrototypeOf(this,s.prototype)}}r.TimeoutError=s;function a(e,t){let r;const n=new Promise((function e(n,o){r=setTimeout((function e(){o(new s("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>{clearTimeout(r);return e}),(e=>{clearTimeout(r);throw e}))}r.callWithTimeout=a;async function c(e){return Promise.all(e.map((async e=>{try{const t=await e;return{status:"fulfilled",value:t}}catch(e){return{status:"rejected",reason:e}}})))}r.PromiseAllSettled=c;function u(e){return e.status==="rejected"}r.isPromiseAllSettledRejectionResult=u;function l(e,t){const r=[];e.forEach((e=>{r.push(...t(e))}));return r}r.FlatMap=l;function d(e,t){if(e.size!==t.size){return false}for(const r of e){if(!t.has(r)){return false}}return true}r.setEquals=d;function p(e,t){let r=0;let n=e.length-1;while(n-r>1){const o=Math.trunc((n+r)/2);if(e[o]<=t){r=o}else{n=o-1}}if(e[n]<=t){return n}else if(e[r]<=t){return r}return-1}r.binarySearchLB=p;function f(e,t){return e.toLowerCase()===t.toLowerCase()}r.equalsCaseInsensitive=f},{}],397:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DefaultAggregation=r.ExponentialHistogramAggregation=r.ExplicitBucketHistogramAggregation=r.HistogramAggregation=r.LastValueAggregation=r.SumAggregation=r.DropAggregation=r.Aggregation=void 0;const n=e("@opentelemetry/api");const o=e("../aggregator");const i=e("../InstrumentDescriptor");class s{static Drop(){return m}static Sum(){return h}static LastValue(){return E}static Histogram(){return _}static ExponentialHistogram(){return S}static Default(){return g}}r.Aggregation=s;class a extends s{createAggregator(e){return a.DEFAULT_INSTANCE}}r.DropAggregation=a;a.DEFAULT_INSTANCE=new o.DropAggregator;class c extends s{createAggregator(e){switch(e.type){case i.InstrumentType.COUNTER:case i.InstrumentType.OBSERVABLE_COUNTER:case i.InstrumentType.HISTOGRAM:{return c.MONOTONIC_INSTANCE}default:{return c.NON_MONOTONIC_INSTANCE}}}}r.SumAggregation=c;c.MONOTONIC_INSTANCE=new o.SumAggregator(true);c.NON_MONOTONIC_INSTANCE=new o.SumAggregator(false);class u extends s{createAggregator(e){return u.DEFAULT_INSTANCE}}r.LastValueAggregation=u;u.DEFAULT_INSTANCE=new o.LastValueAggregator;class l extends s{createAggregator(e){return l.DEFAULT_INSTANCE}}r.HistogramAggregation=l;l.DEFAULT_INSTANCE=new o.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],true);class d extends s{constructor(e,t=true){super();this._recordMinMax=t;if(e===undefined||e.length===0){throw new Error("HistogramAggregator should be created with boundaries.")}e=e.concat();e=e.sort(((e,t)=>e-t));const r=e.lastIndexOf(-Infinity);let n=e.indexOf(Infinity);if(n===-1){n=undefined}this._boundaries=e.slice(r+1,n)}createAggregator(e){return new o.HistogramAggregator(this._boundaries,this._recordMinMax)}}r.ExplicitBucketHistogramAggregation=d;class p extends s{constructor(e=160,t=true){super();this._maxSize=e;this._recordMinMax=t}createAggregator(e){return new o.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}}r.ExponentialHistogramAggregation=p;class f extends s{_resolve(e){switch(e.type){case i.InstrumentType.COUNTER:case i.InstrumentType.UP_DOWN_COUNTER:case i.InstrumentType.OBSERVABLE_COUNTER:case i.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:{return h}case i.InstrumentType.OBSERVABLE_GAUGE:{return E}case i.InstrumentType.HISTOGRAM:{if(e.advice.explicitBucketBoundaries){return new d(e.advice.explicitBucketBoundaries)}return _}}n.diag.warn(`Unable to recognize instrument type: ${e.type}`);return m}createAggregator(e){return this._resolve(e).createAggregator(e)}}r.DefaultAggregation=f;const m=new a;const h=new c;const E=new u;const _=new l;const S=new p;const g=new f},{"../InstrumentDescriptor":357,"../aggregator":374,"@opentelemetry/api":19}],398:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.FilteringAttributesProcessor=r.NoopAttributesProcessor=r.AttributesProcessor=void 0;class n{static Noop(){return s}}r.AttributesProcessor=n;class o extends n{process(e,t){return e}}r.NoopAttributesProcessor=o;class i extends n{constructor(e){super();this._allowedAttributeNames=e}process(e,t){const r={};Object.keys(e).filter((e=>this._allowedAttributeNames.includes(e))).forEach((t=>r[t]=e[t]));return r}}r.FilteringAttributesProcessor=i;const s=new o},{}],399:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.InstrumentSelector=void 0;const n=e("./Predicate");class o{constructor(e){var t;this._nameFilter=new n.PatternPredicate((t=e===null||e===void 0?void 0:e.name)!==null&&t!==void 0?t:"*");this._type=e===null||e===void 0?void 0:e.type;this._unitFilter=new n.ExactPredicate(e===null||e===void 0?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}r.InstrumentSelector=o},{"./Predicate":401}],400:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MeterSelector=void 0;const n=e("./Predicate");class o{constructor(e){this._nameFilter=new n.ExactPredicate(e===null||e===void 0?void 0:e.name);this._versionFilter=new n.ExactPredicate(e===null||e===void 0?void 0:e.version);this._schemaUrlFilter=new n.ExactPredicate(e===null||e===void 0?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}r.MeterSelector=o},{"./Predicate":401}],401:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExactPredicate=r.PatternPredicate=void 0;const n=/[\^$\\.+?()[\]{}|]/g;class o{constructor(e){if(e==="*"){this._matchAll=true;this._regexp=/.*/}else{this._matchAll=false;this._regexp=new RegExp(o.escapePattern(e))}}match(e){if(this._matchAll){return true}return this._regexp.test(e)}static escapePattern(e){return`^${e.replace(n,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}}r.PatternPredicate=o;class i{constructor(e){this._matchAll=e===undefined;this._pattern=e}match(e){if(this._matchAll){return true}if(e===this._pattern){return true}return false}}r.ExactPredicate=i},{}],402:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getConflictResolutionRecipe=r.getDescriptionResolutionRecipe=r.getTypeConflictResolutionRecipe=r.getUnitConflictResolutionRecipe=r.getValueTypeConflictResolutionRecipe=r.getIncompatibilityDetails=void 0;function n(e,t){let r="";if(e.unit!==t.unit){r+=`\t- Unit '${e.unit}' does not match '${t.unit}'\n`}if(e.type!==t.type){r+=`\t- Type '${e.type}' does not match '${t.type}'\n`}if(e.valueType!==t.valueType){r+=`\t- Value Type '${e.valueType}' does not match '${t.valueType}'\n`}if(e.description!==t.description){r+=`\t- Description '${e.description}' does not match '${t.description}'\n`}return r}r.getIncompatibilityDetails=n;function o(e,t){return`\t- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}r.getValueTypeConflictResolutionRecipe=o;function i(e,t){return`\t- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}r.getUnitConflictResolutionRecipe=i;function s(e,t){const r={name:t.name,type:t.type,unit:t.unit};const n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}r.getTypeConflictResolutionRecipe=s;function a(e,t){const r={name:t.name,type:t.type,unit:t.unit};const n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'\n    \t- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}\n    \t- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}r.getDescriptionResolutionRecipe=a;function c(e,t){if(e.valueType!==t.valueType){return o(e,t)}if(e.unit!==t.unit){return i(e,t)}if(e.type!==t.type){return s(e,t)}if(e.description!==t.description){return a(e,t)}return""}r.getConflictResolutionRecipe=c},{}],403:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.View=void 0;const n=e("./Predicate");const o=e("./AttributesProcessor");const i=e("./InstrumentSelector");const s=e("./MeterSelector");const a=e("./Aggregation");function c(e){return e.instrumentName==null&&e.instrumentType==null&&e.instrumentUnit==null&&e.meterName==null&&e.meterVersion==null&&e.meterSchemaUrl==null}class u{constructor(e){var t;if(c(e)){throw new Error("Cannot create view with no selector arguments supplied")}if(e.name!=null&&((e===null||e===void 0?void 0:e.instrumentName)==null||n.PatternPredicate.hasWildcard(e.instrumentName))){throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.")}if(e.attributeKeys!=null){this.attributesProcessor=new o.FilteringAttributesProcessor(e.attributeKeys)}else{this.attributesProcessor=o.AttributesProcessor.Noop()}this.name=e.name;this.description=e.description;this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:a.Aggregation.Default();this.instrumentSelector=new i.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit});this.meterSelector=new s.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}}r.View=u},{"./Aggregation":397,"./AttributesProcessor":398,"./InstrumentSelector":399,"./MeterSelector":400,"./Predicate":401}],404:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ViewRegistry=void 0;class n{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){const r=this._registeredViews.filter((r=>this._matchInstrument(r.instrumentSelector,e)&&this._matchMeter(r.meterSelector,t)));return r}_matchInstrument(e,t){return(e.getType()===undefined||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===undefined||e.getVersionFilter().match(t.version))&&(t.schemaUrl===undefined||e.getSchemaUrlFilter().match(t.schemaUrl))}}r.ViewRegistry=n},{}],405:[function(e,t,r){arguments[4][258][0].apply(r,arguments)},{".":422,"./MultiSpanProcessor":407,"./config":413,"./export/NoopSpanProcessor":418,"./platform":425,"./utility":431,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/resources":346,dup:258}],406:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],407:[function(e,t,r){arguments[4][260][0].apply(r,arguments)},{"@opentelemetry/core":58,dup:260}],408:[function(e,t,r){arguments[4][261][0].apply(r,arguments)},{dup:261}],409:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Span=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");const i=e("@opentelemetry/semantic-conventions");const s=e("./enums");class a{constructor(e,t,r,i,s,a,c=[],u,l,d){this.attributes={};this.links=[];this.events=[];this._droppedAttributesCount=0;this._droppedEventsCount=0;this._droppedLinksCount=0;this.status={code:n.SpanStatusCode.UNSET};this.endTime=[0,0];this._ended=false;this._duration=[-1,-1];this.name=r;this._spanContext=i;this.parentSpanId=a;this.kind=s;this.links=c;const p=Date.now();this._performanceStartTime=o.otperformance.now();this._performanceOffset=p-(this._performanceStartTime+(0,o.getTimeOrigin)());this._startTimeProvided=u!=null;this.startTime=this._getTime(u!==null&&u!==void 0?u:p);this.resource=e.resource;this.instrumentationLibrary=e.instrumentationLibrary;this._spanLimits=e.getSpanLimits();if(d!=null){this.setAttributes(d)}this._spanProcessor=e.getActiveSpanProcessor();this._spanProcessor.onStart(this,t);this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){if(t==null||this._isSpanEnded())return this;if(e.length===0){n.diag.warn(`Invalid attribute key: ${e}`);return this}if(!(0,o.isAttributeValue)(t)){n.diag.warn(`Invalid attribute value set for key: ${e}`);return this}if(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)){this._droppedAttributesCount++;return this}this.attributes[e]=this._truncateToSize(t);return this}setAttributes(e){for(const[t,r]of Object.entries(e)){this.setAttribute(t,r)}return this}addEvent(e,t,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0){n.diag.warn("No events allowed.");this._droppedEventsCount++;return this}if(this.events.length>=this._spanLimits.eventCountLimit){n.diag.warn("Dropping extra events.");this.events.shift();this._droppedEventsCount++}if((0,o.isTimeInput)(t)){if(!(0,o.isTimeInput)(r)){r=t}t=undefined}const i=(0,o.sanitizeAttributes)(t);this.events.push({name:e,attributes:i,time:this._getTime(r),droppedAttributesCount:0});return this}setStatus(e){if(this._isSpanEnded())return this;this.status=e;return this}updateName(e){if(this._isSpanEnded())return this;this.name=e;return this}end(e){if(this._isSpanEnded()){n.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=true;this.endTime=this._getTime(e);this._duration=(0,o.hrTimeDuration)(this.startTime,this.endTime);if(this._duration[0]<0){n.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime);this.endTime=this.startTime.slice();this._duration=[0,0]}this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e==="number"&&e<o.otperformance.now()){return(0,o.hrTime)(e+this._performanceOffset)}if(typeof e==="number"){return(0,o.millisToHrTime)(e)}if(e instanceof Date){return(0,o.millisToHrTime)(e.getTime())}if((0,o.isTimeInputHrTime)(e)){return e}if(this._startTimeProvided){return(0,o.millisToHrTime)(Date.now())}const t=o.otperformance.now()-this._performanceStartTime;return(0,o.addHrTimes)(this.startTime,(0,o.millisToHrTime)(t))}isRecording(){return this._ended===false}recordException(e,t){const r={};if(typeof e==="string"){r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e}else if(e){if(e.code){r[i.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString()}else if(e.name){r[i.SemanticAttributes.EXCEPTION_TYPE]=e.name}if(e.message){r[i.SemanticAttributes.EXCEPTION_MESSAGE]=e.message}if(e.stack){r[i.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack}}if(r[i.SemanticAttributes.EXCEPTION_TYPE]||r[i.SemanticAttributes.EXCEPTION_MESSAGE]){this.addEvent(s.ExceptionEventName,r,t)}else{n.diag.warn(`Failed to record an exception ${e}`)}}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){n.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`)}return this._ended}_truncateToLimitUtil(e,t){if(e.length<=t){return e}return e.substr(0,t)}_truncateToSize(e){const t=this._attributeValueLengthLimit;if(t<=0){n.diag.warn(`Attribute value limit must be positive, got ${t}`);return e}if(typeof e==="string"){return this._truncateToLimitUtil(e,t)}if(Array.isArray(e)){return e.map((e=>typeof e==="string"?this._truncateToLimitUtil(e,t):e))}return e}}r.Span=a},{"./enums":414,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/semantic-conventions":438}],410:[function(e,t,r){arguments[4][263][0].apply(r,arguments)},{dup:263}],411:[function(e,t,r){arguments[4][264][0].apply(r,arguments)},{dup:264}],412:[function(e,t,r){arguments[4][265][0].apply(r,arguments)},{"./Span":409,"./platform":425,"./utility":431,"@opentelemetry/api":19,"@opentelemetry/core":58,dup:265}],413:[function(e,t,r){arguments[4][266][0].apply(r,arguments)},{"./sampler/AlwaysOffSampler":426,"./sampler/AlwaysOnSampler":427,"./sampler/ParentBasedSampler":428,"./sampler/TraceIdRatioBasedSampler":429,"@opentelemetry/api":19,"@opentelemetry/core":58,dup:266}],414:[function(e,t,r){arguments[4][267][0].apply(r,arguments)},{dup:267}],415:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.BatchSpanProcessorBase=void 0;const n=e("@opentelemetry/api");const o=e("@opentelemetry/core");class i{constructor(e,t){this._exporter=e;this._isExporting=false;this._finishedSpans=[];this._droppedSpansCount=0;const r=(0,o.getEnv)();this._maxExportBatchSize=typeof(t===null||t===void 0?void 0:t.maxExportBatchSize)==="number"?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE;this._maxQueueSize=typeof(t===null||t===void 0?void 0:t.maxQueueSize)==="number"?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE;this._scheduledDelayMillis=typeof(t===null||t===void 0?void 0:t.scheduledDelayMillis)==="number"?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY;this._exportTimeoutMillis=typeof(t===null||t===void 0?void 0:t.exportTimeoutMillis)==="number"?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT;this._shutdownOnce=new o.BindOnceFuture(this._shutdown,this);if(this._maxExportBatchSize>this._maxQueueSize){n.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize");this._maxExportBatchSize=this._maxQueueSize}}forceFlush(){if(this._shutdownOnce.isCalled){return this._shutdownOnce.promise}return this._flushAll()}onStart(e,t){}onEnd(e){if(this._shutdownOnce.isCalled){return}if((e.spanContext().traceFlags&n.TraceFlags.SAMPLED)===0){return}this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown()))}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){if(this._droppedSpansCount===0){n.diag.debug("maxQueueSize reached, dropping spans")}this._droppedSpansCount++;return}if(this._droppedSpansCount>0){n.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`);this._droppedSpansCount=0}this._finishedSpans.push(e);this._maybeStartTimer()}_flushAll(){return new Promise(((e,t)=>{const r=[];const n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let e=0,t=n;e<t;e++){r.push(this._flushOneBatch())}Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){this._clearTimer();if(this._finishedSpans.length===0){return Promise.resolve()}return new Promise(((e,t)=>{const r=setTimeout((()=>{t(new Error("Timeout"))}),this._exportTimeoutMillis);n.context.with((0,o.suppressTracing)(n.context.active()),(()=>{const n=this._finishedSpans.splice(0,this._maxExportBatchSize);const i=()=>this._exporter.export(n,(n=>{var i;clearTimeout(r);if(n.code===o.ExportResultCode.SUCCESS){e()}else{t((i=n.error)!==null&&i!==void 0?i:new Error("BatchSpanProcessor: span export failed"))}}));const s=n.map((e=>e.resource)).filter((e=>e.asyncAttributesPending));if(s.length===0){i()}else{Promise.all(s.map((e=>{var t;return(t=e.waitForAsyncAttributes)===null||t===void 0?void 0:t.call(e)}))).then(i,(e=>{(0,o.globalErrorHandler)(e);t(e)}))}}))}))}_maybeStartTimer(){if(this._isExporting)return;const e=()=>{this._isExporting=true;this._flushOneBatch().then((()=>{this._isExporting=false;if(this._finishedSpans.length>0){this._clearTimer();this._maybeStartTimer()}})).catch((e=>{this._isExporting=false;(0,o.globalErrorHandler)(e)}))};if(this._finishedSpans.length>=this._maxExportBatchSize){return e()}if(this._timer!==undefined)return;this._timer=setTimeout((()=>e()),this._scheduledDelayMillis);(0,o.unrefTimer)(this._timer)}_clearTimer(){if(this._timer!==undefined){clearTimeout(this._timer);this._timer=undefined}}}r.BatchSpanProcessorBase=i},{"@opentelemetry/api":19,"@opentelemetry/core":58}],416:[function(e,t,r){arguments[4][269][0].apply(r,arguments)},{"@opentelemetry/core":58,dup:269}],417:[function(e,t,r){arguments[4][270][0].apply(r,arguments)},{"@opentelemetry/core":58,dup:270}],418:[function(e,t,r){arguments[4][271][0].apply(r,arguments)},{dup:271}],419:[function(e,t,r){arguments[4][272][0].apply(r,arguments)},{dup:272}],420:[function(e,t,r){arguments[4][273][0].apply(r,arguments)},{"@opentelemetry/api":19,"@opentelemetry/core":58,dup:273}],421:[function(e,t,r){arguments[4][274][0].apply(r,arguments)},{dup:274}],422:[function(e,t,r){arguments[4][275][0].apply(r,arguments)},{"./BasicTracerProvider":405,"./IdGenerator":406,"./Sampler":408,"./Span":409,"./SpanProcessor":410,"./TimedEvent":411,"./Tracer":412,"./export/ConsoleSpanExporter":416,"./export/InMemorySpanExporter":417,"./export/NoopSpanProcessor":418,"./export/ReadableSpan":419,"./export/SimpleSpanProcessor":420,"./export/SpanExporter":421,"./platform":425,"./sampler/AlwaysOffSampler":426,"./sampler/AlwaysOnSampler":427,"./sampler/ParentBasedSampler":428,"./sampler/TraceIdRatioBasedSampler":429,"./types":430,dup:275}],423:[function(e,t,r){arguments[4][276][0].apply(r,arguments)},{dup:276}],424:[function(e,t,r){arguments[4][277][0].apply(r,arguments)},{"../../../export/BatchSpanProcessorBase":415,dup:277}],425:[function(e,t,r){arguments[4][278][0].apply(r,arguments)},{"./RandomIdGenerator":423,"./export/BatchSpanProcessor":424,dup:278}],426:[function(e,t,r){arguments[4][279][0].apply(r,arguments)},{"../Sampler":408,dup:279}],427:[function(e,t,r){arguments[4][280][0].apply(r,arguments)},{"../Sampler":408,dup:280}],428:[function(e,t,r){arguments[4][281][0].apply(r,arguments)},{"./AlwaysOffSampler":426,"./AlwaysOnSampler":427,"@opentelemetry/api":19,"@opentelemetry/core":58,dup:281}],429:[function(e,t,r){arguments[4][282][0].apply(r,arguments)},{"../Sampler":408,"@opentelemetry/api":19,dup:282}],430:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],431:[function(e,t,r){arguments[4][284][0].apply(r,arguments)},{"./config":413,"@opentelemetry/core":58,dup:284}],432:[function(e,t,r){arguments[4][285][0].apply(r,arguments)},{"@opentelemetry/api":19,dup:285}],433:[function(e,t,r){arguments[4][286][0].apply(r,arguments)},{"./StackContextManager":432,"@opentelemetry/sdk-trace-base":422,dup:286}],434:[function(e,t,r){arguments[4][287][0].apply(r,arguments)},{dup:287}],435:[function(e,t,r){arguments[4][288][0].apply(r,arguments)},{"./StackContextManager":432,"./WebTracerProvider":433,"./enums/PerformanceTimingNames":434,"./types":436,"./utils":437,"@opentelemetry/sdk-trace-base":422,dup:288}],436:[function(e,t,r){arguments[4][289][0].apply(r,arguments)},{"./enums/PerformanceTimingNames":434,dup:289}],437:[function(e,t,r){arguments[4][290][0].apply(r,arguments)},{"./enums/PerformanceTimingNames":434,"@opentelemetry/core":58,"@opentelemetry/semantic-conventions":438,dup:290}],438:[function(e,t,r){arguments[4][128][0].apply(r,arguments)},{"./resource":440,"./trace":442,dup:128}],439:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TelemetrySdkLanguageValues=r.OsTypeValues=r.HostArchValues=r.AwsEcsLaunchtypeValues=r.CloudPlatformValues=r.CloudProviderValues=r.SemanticResourceAttributes=void 0;r.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};r.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};r.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};r.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};r.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};r.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};r.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}},{}],440:[function(e,t,r){arguments[4][131][0].apply(r,arguments)},{"./SemanticResourceAttributes":439,dup:131}],441:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MessageTypeValues=r.RpcGrpcStatusCodeValues=r.MessagingOperationValues=r.MessagingDestinationKindValues=r.HttpFlavorValues=r.NetHostConnectionSubtypeValues=r.NetHostConnectionTypeValues=r.NetTransportValues=r.FaasInvokedProviderValues=r.FaasDocumentOperationValues=r.FaasTriggerValues=r.DbCassandraConsistencyLevelValues=r.DbSystemValues=r.SemanticAttributes=void 0;r.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};r.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};r.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};r.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};r.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};r.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};r.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};r.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};r.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};r.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};r.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};r.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};r.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};r.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}},{}],442:[function(e,t,r){arguments[4][133][0].apply(r,arguments)},{"./SemanticAttributes":441,dup:133}],443:[function(e,t,r){"use strict";r.byteLength=l;r.toByteArray=p;r.fromByteArray=h;var n=[];var o=[];var i=typeof Uint8Array!=="undefined"?Uint8Array:Array;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,c=s.length;a<c;++a){n[a]=s[a];o[s.charCodeAt(a)]=a}o["-".charCodeAt(0)]=62;o["_".charCodeAt(0)]=63;function u(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=e.indexOf("=");if(r===-1)r=t;var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=u(e);var r=t[0];var n=t[1];return(r+n)*3/4-n}function d(e,t,r){return(t+r)*3/4-r}function p(e){var t;var r=u(e);var n=r[0];var s=r[1];var a=new i(d(e,n,s));var c=0;var l=s>0?n-4:n;var p;for(p=0;p<l;p+=4){t=o[e.charCodeAt(p)]<<18|o[e.charCodeAt(p+1)]<<12|o[e.charCodeAt(p+2)]<<6|o[e.charCodeAt(p+3)];a[c++]=t>>16&255;a[c++]=t>>8&255;a[c++]=t&255}if(s===2){t=o[e.charCodeAt(p)]<<2|o[e.charCodeAt(p+1)]>>4;a[c++]=t&255}if(s===1){t=o[e.charCodeAt(p)]<<10|o[e.charCodeAt(p+1)]<<4|o[e.charCodeAt(p+2)]>>2;a[c++]=t>>8&255;a[c++]=t&255}return a}function f(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function m(e,t,r){var n;var o=[];for(var i=t;i<r;i+=3){n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255);o.push(f(n))}return o.join("")}function h(e){var t;var r=e.length;var o=r%3;var i=[];var s=16383;for(var a=0,c=r-o;a<c;a+=s){i.push(m(e,a,a+s>c?c:a+s))}if(o===1){t=e[r-1];i.push(n[t>>2]+n[t<<4&63]+"==")}else if(o===2){t=(e[r-2]<<8)+e[r-1];i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")}return i.join("")}},{}],444:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js");var n=e("ieee754");r.Buffer=a;r.SlowBuffer=_;r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o;a.TYPED_ARRAY_SUPPORT=i();if(!a.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function i(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42}catch(e){return false}}Object.defineProperty(a.prototype,"parent",{enumerable:true,get:function(){if(!a.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:true,get:function(){if(!a.isBuffer(this))return undefined;return this.byteOffset}});function s(e){if(e>o){throw new RangeError('The value "'+e+'" is invalid for option "size"')}var t=new Uint8Array(e);t.__proto__=a.prototype;return t}function a(e,t,r){if(typeof e==="number"){if(typeof t==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return d(e)}return c(e,t,r)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&a[Symbol.species]===a){Object.defineProperty(a,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}a.poolSize=8192;function c(e,t,r){if(typeof e==="string"){return p(e,t)}if(ArrayBuffer.isView(e)){return f(e)}if(e==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer)){return m(e,t,r)}if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e){return a.from(n,t,r)}var o=h(e);if(o)return o;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==="function"){return a.from(e[Symbol.toPrimitive]("string"),t,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}a.from=function(e,t,r){return c(e,t,r)};a.prototype.__proto__=Uint8Array.prototype;a.__proto__=Uint8Array;function u(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be of type number')}else if(e<0){throw new RangeError('The value "'+e+'" is invalid for option "size"')}}function l(e,t,r){u(e);if(e<=0){return s(e)}if(t!==undefined){return typeof r==="string"?s(e).fill(t,r):s(e).fill(t)}return s(e)}a.alloc=function(e,t,r){return l(e,t,r)};function d(e){u(e);return s(e<0?0:E(e)|0)}a.allocUnsafe=function(e){return d(e)};a.allocUnsafeSlow=function(e){return d(e)};function p(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!a.isEncoding(t)){throw new TypeError("Unknown encoding: "+t)}var r=S(e,t)|0;var n=s(r);var o=n.write(e,t);if(o!==r){n=n.slice(0,o)}return n}function f(e){var t=e.length<0?0:E(e.length)|0;var r=s(t);for(var n=0;n<t;n+=1){r[n]=e[n]&255}return r}function m(e,t,r){if(t<0||e.byteLength<t){throw new RangeError('"offset" is outside of buffer bounds')}if(e.byteLength<t+(r||0)){throw new RangeError('"length" is outside of buffer bounds')}var n;if(t===undefined&&r===undefined){n=new Uint8Array(e)}else if(r===undefined){n=new Uint8Array(e,t)}else{n=new Uint8Array(e,t,r)}n.__proto__=a.prototype;return n}function h(e){if(a.isBuffer(e)){var t=E(e.length)|0;var r=s(t);if(r.length===0){return r}e.copy(r,0,0,t);return r}if(e.length!==undefined){if(typeof e.length!=="number"||q(e.length)){return s(0)}return f(e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return f(e.data)}}function E(e){if(e>=o){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o.toString(16)+" bytes")}return e|0}function _(e){if(+e!=e){e=0}return a.alloc(+e)}a.isBuffer=function e(t){return t!=null&&t._isBuffer===true&&t!==a.prototype};a.compare=function e(t,r){if(Z(t,Uint8Array))t=a.from(t,t.offset,t.byteLength);if(Z(r,Uint8Array))r=a.from(r,r.offset,r.byteLength);if(!a.isBuffer(t)||!a.isBuffer(r)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(t===r)return 0;var n=t.length;var o=r.length;for(var i=0,s=Math.min(n,o);i<s;++i){if(t[i]!==r[i]){n=t[i];o=r[i];break}}if(n<o)return-1;if(o<n)return 1;return 0};a.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};a.concat=function e(t,r){if(!Array.isArray(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return a.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var o=a.allocUnsafe(r);var i=0;for(n=0;n<t.length;++n){var s=t[n];if(Z(s,Uint8Array)){s=a.from(s)}if(!a.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(o,i);i+=s.length}return o};function S(e,t){if(a.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e)}var r=e.length;var n=arguments.length>2&&arguments[2]===true;if(!n&&r===0)return 0;var o=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return z(e).length;default:if(o){return n?-1:W(e).length}t=(""+t).toLowerCase();o=true}}}a.byteLength=S;function g(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return D(this,t,r);case"latin1":case"binary":return w(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}a.prototype._isBuffer=true;function T(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}a.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){T(this,r,r+1)}return this};a.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){T(this,r,r+3);T(this,r+1,r+2)}return this};a.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){T(this,r,r+7);T(this,r+1,r+6);T(this,r+2,r+5);T(this,r+3,r+4)}return this};a.prototype.toString=function e(){var t=this.length;if(t===0)return"";if(arguments.length===0)return M(this,0,t);return g.apply(this,arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function e(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return a.compare(this,t)===0};a.prototype.inspect=function e(){var t="";var n=r.INSPECT_MAX_BYTES;t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim();if(this.length>n)t+=" ... ";return"<Buffer "+t+">"};a.prototype.compare=function e(t,r,n,o,i){if(Z(t,Uint8Array)){t=a.from(t,t.offset,t.byteLength)}if(!a.isBuffer(t)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof t)}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(o===undefined){o=0}if(i===undefined){i=this.length}if(r<0||n>t.length||o<0||i>this.length){throw new RangeError("out of range index")}if(o>=i&&r>=n){return 0}if(o>=i){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;o>>>=0;i>>>=0;if(this===t)return 0;var s=i-o;var c=n-r;var u=Math.min(s,c);var l=this.slice(o,i);var d=t.slice(r,n);for(var p=0;p<u;++p){if(l[p]!==d[p]){s=l[p];c=d[p];break}}if(s<c)return-1;if(c<s)return 1;return 0};function A(e,t,r,n,o){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(q(r)){r=o?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(o)return-1;else r=e.length-1}else if(r<0){if(o)r=0;else return-1}if(typeof t==="string"){t=a.from(t,n)}if(a.isBuffer(t)){if(t.length===0){return-1}return y(e,t,r,n,o)}else if(typeof t==="number"){t=t&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(o){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return y(e,[t],r,n,o)}throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i=1;var s=e.length;var a=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}i=2;s/=2;a/=2;r/=2}}function c(e,t){if(i===1){return e[t]}else{return e.readUInt16BE(t*i)}}var u;if(o){var l=-1;for(u=r;u<s;u++){if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1)l=u;if(u-l+1===a)return l*i}else{if(l!==-1)u-=u-l;l=-1}}}else{if(r+a>s)r=s-a;for(u=r;u>=0;u--){var d=true;for(var p=0;p<a;p++){if(c(e,u+p)!==c(t,p)){d=false;break}}if(d)return u}}return-1}a.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};a.prototype.indexOf=function e(t,r,n){return A(this,t,r,n,true)};a.prototype.lastIndexOf=function e(t,r,n){return A(this,t,r,n,false)};function v(e,t,r,n){r=Number(r)||0;var o=e.length-r;if(!n){n=o}else{n=Number(n);if(n>o){n=o}}var i=t.length;if(n>i/2){n=i/2}for(var s=0;s<n;++s){var a=parseInt(t.substr(s*2,2),16);if(q(a))return s;e[r+s]=a}return s}function O(e,t,r,n){return $(W(t,e.length-r),e,r,n)}function R(e,t,r,n){return $(K(t),e,r,n)}function N(e,t,r,n){return R(e,t,r,n)}function b(e,t,r,n){return $(z(t),e,r,n)}function C(e,t,r,n){return $(X(t,e.length-r),e,r,n)}a.prototype.write=function e(t,r,n,o){if(r===undefined){o="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){o=r;n=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(n)){n=n>>>0;if(o===undefined)o="utf8"}else{o=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var i=this.length-r;if(n===undefined||n>i)n=i;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!o)o="utf8";var s=false;for(;;){switch(o){case"hex":return v(this,t,r,n);case"utf8":case"utf-8":return O(this,t,r,n);case"ascii":return R(this,t,r,n);case"latin1":case"binary":return N(this,t,r,n);case"base64":return b(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase();s=true}}};a.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(e,r,n){if(r===0&&n===e.length){return t.fromByteArray(e)}else{return t.fromByteArray(e.slice(r,n))}}function M(e,t,r){r=Math.min(e.length,r);var n=[];var o=t;while(o<r){var i=e[o];var s=null;var a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){var c,u,l,d;switch(a){case 1:if(i<128){s=i}break;case 2:c=e[o+1];if((c&192)===128){d=(i&31)<<6|c&63;if(d>127){s=d}}break;case 3:c=e[o+1];u=e[o+2];if((c&192)===128&&(u&192)===128){d=(i&15)<<12|(c&63)<<6|u&63;if(d>2047&&(d<55296||d>57343)){s=d}}break;case 4:c=e[o+1];u=e[o+2];l=e[o+3];if((c&192)===128&&(u&192)===128&&(l&192)===128){d=(i&15)<<18|(c&63)<<12|(u&63)<<6|l&63;if(d>65535&&d<1114112){s=d}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|s&1023}n.push(s);o+=a}return L(n)}var P=4096;function L(e){var t=e.length;if(t<=P){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=P))}return r}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o){n+=String.fromCharCode(e[o]&127)}return n}function w(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o){n+=String.fromCharCode(e[o])}return n}function U(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var o="";for(var i=t;i<r;++i){o+=Y(e[i])}return o}function x(e,t,r){var n=e.slice(t,r);var o="";for(var i=0;i<n.length;i+=2){o+=String.fromCharCode(n[i]+n[i+1]*256)}return o}a.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var o=this.subarray(t,r);o.__proto__=a.prototype;return o};function B(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)B(t,r,this.length);var o=this[t];var i=1;var s=0;while(++s<r&&(i*=256)){o+=this[t+s]*i}return o};a.prototype.readUIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n){B(t,r,this.length)}var o=this[t+--r];var i=1;while(r>0&&(i*=256)){o+=this[t+--r]*i}return o};a.prototype.readUInt8=function e(t,r){t=t>>>0;if(!r)B(t,1,this.length);return this[t]};a.prototype.readUInt16LE=function e(t,r){t=t>>>0;if(!r)B(t,2,this.length);return this[t]|this[t+1]<<8};a.prototype.readUInt16BE=function e(t,r){t=t>>>0;if(!r)B(t,2,this.length);return this[t]<<8|this[t+1]};a.prototype.readUInt32LE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};a.prototype.readUInt32BE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};a.prototype.readIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)B(t,r,this.length);var o=this[t];var i=1;var s=0;while(++s<r&&(i*=256)){o+=this[t+s]*i}i*=128;if(o>=i)o-=Math.pow(2,8*r);return o};a.prototype.readIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)B(t,r,this.length);var o=r;var i=1;var s=this[t+--o];while(o>0&&(i*=256)){s+=this[t+--o]*i}i*=128;if(s>=i)s-=Math.pow(2,8*r);return s};a.prototype.readInt8=function e(t,r){t=t>>>0;if(!r)B(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};a.prototype.readInt16LE=function e(t,r){t=t>>>0;if(!r)B(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function e(t,r){t=t>>>0;if(!r)B(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};a.prototype.readInt32BE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};a.prototype.readFloatLE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return n.read(this,t,true,23,4)};a.prototype.readFloatBE=function e(t,r){t=t>>>0;if(!r)B(t,4,this.length);return n.read(this,t,false,23,4)};a.prototype.readDoubleLE=function e(t,r){t=t>>>0;if(!r)B(t,8,this.length);return n.read(this,t,true,52,8)};a.prototype.readDoubleBE=function e(t,r){t=t>>>0;if(!r)B(t,8,this.length);return n.read(this,t,false,52,8)};function V(e,t,r,n,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function e(t,r,n,o){t=+t;r=r>>>0;n=n>>>0;if(!o){var i=Math.pow(2,8*n)-1;V(this,t,r,n,i,0)}var s=1;var a=0;this[r]=t&255;while(++a<n&&(s*=256)){this[r+a]=t/s&255}return r+n};a.prototype.writeUIntBE=function e(t,r,n,o){t=+t;r=r>>>0;n=n>>>0;if(!o){var i=Math.pow(2,8*n)-1;V(this,t,r,n,i,0)}var s=n-1;var a=1;this[r+s]=t&255;while(--s>=0&&(a*=256)){this[r+s]=t/a&255}return r+n};a.prototype.writeUInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,1,255,0);this[r]=t&255;return r+1};a.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,2,65535,0);this[r]=t&255;this[r+1]=t>>>8;return r+2};a.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,2,65535,0);this[r]=t>>>8;this[r+1]=t&255;return r+2};a.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,4,4294967295,0);this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255;return r+4};a.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,4,4294967295,0);this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};a.prototype.writeIntLE=function e(t,r,n,o){t=+t;r=r>>>0;if(!o){var i=Math.pow(2,8*n-1);V(this,t,r,n,i-1,-i)}var s=0;var a=1;var c=0;this[r]=t&255;while(++s<n&&(a*=256)){if(t<0&&c===0&&this[r+s-1]!==0){c=1}this[r+s]=(t/a>>0)-c&255}return r+n};a.prototype.writeIntBE=function e(t,r,n,o){t=+t;r=r>>>0;if(!o){var i=Math.pow(2,8*n-1);V(this,t,r,n,i-1,-i)}var s=n-1;var a=1;var c=0;this[r+s]=t&255;while(--s>=0&&(a*=256)){if(t<0&&c===0&&this[r+s+1]!==0){c=1}this[r+s]=(t/a>>0)-c&255}return r+n};a.prototype.writeInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,1,127,-128);if(t<0)t=255+t+1;this[r]=t&255;return r+1};a.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,2,32767,-32768);this[r]=t&255;this[r+1]=t>>>8;return r+2};a.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,2,32767,-32768);this[r]=t>>>8;this[r+1]=t&255;return r+2};a.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,4,2147483647,-2147483648);this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24;return r+4};a.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)V(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};function k(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(e,t,r,o,i){t=+t;r=r>>>0;if(!i){k(e,t,r,4,34028234663852886e22,-34028234663852886e22)}n.write(e,t,r,o,23,4);return r+4}a.prototype.writeFloatLE=function e(t,r,n){return G(this,t,r,true,n)};a.prototype.writeFloatBE=function e(t,r,n){return G(this,t,r,false,n)};function F(e,t,r,o,i){t=+t;r=r>>>0;if(!i){k(e,t,r,8,17976931348623157e292,-17976931348623157e292)}n.write(e,t,r,o,52,8);return r+8}a.prototype.writeDoubleLE=function e(t,r,n){return F(this,t,r,true,n)};a.prototype.writeDoubleBE=function e(t,r,n){return F(this,t,r,false,n)};a.prototype.copy=function e(t,r,n,o){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(!n)n=0;if(!o&&o!==0)o=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(o>0&&o<n)o=n;if(o===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");if(o>this.length)o=this.length;if(t.length-r<o-n){o=t.length-r+n}var i=o-n;if(this===t&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(r,n,o)}else if(this===t&&n<r&&r<o){for(var s=i-1;s>=0;--s){t[s+r]=this[s+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,o),r)}return i};a.prototype.fill=function e(t,r,n,o){if(typeof t==="string"){if(typeof r==="string"){o=r;r=0;n=this.length}else if(typeof n==="string"){o=n;n=this.length}if(o!==undefined&&typeof o!=="string"){throw new TypeError("encoding must be a string")}if(typeof o==="string"&&!a.isEncoding(o)){throw new TypeError("Unknown encoding: "+o)}if(t.length===1){var i=t.charCodeAt(0);if(o==="utf8"&&i<128||o==="latin1"){t=i}}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var s;if(typeof t==="number"){for(s=r;s<n;++s){this[s]=t}}else{var c=a.isBuffer(t)?t:a.from(t,o);var u=c.length;if(u===0){throw new TypeError('The value "'+t+'" is invalid for argument "value"')}for(s=0;s<n-r;++s){this[s+r]=c[s%u]}}return this};var H=/[^+/0-9A-Za-z-_]/g;function j(e){e=e.split("=")[0];e=e.trim().replace(H,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function Y(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function W(e,t){t=t||Infinity;var r;var n=e.length;var o=null;var i=[];for(var s=0;s<n;++s){r=e.charCodeAt(s);if(r>55295&&r<57344){if(!o){if(r>56319){if((t-=3)>-1)i.push(239,191,189);continue}else if(s+1===n){if((t-=3)>-1)i.push(239,191,189);continue}o=r;continue}if(r<56320){if((t-=3)>-1)i.push(239,191,189);o=r;continue}r=(o-55296<<10|r-56320)+65536}else if(o){if((t-=3)>-1)i.push(239,191,189)}o=null;if(r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return i}function K(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function X(e,t){var r,n,o;var i=[];for(var s=0;s<e.length;++s){if((t-=2)<0)break;r=e.charCodeAt(s);n=r>>8;o=r%256;i.push(o);i.push(n)}return i}function z(e){return t.toByteArray(j(e))}function $(e,t,r,n){for(var o=0;o<n;++o){if(o+r>=t.length||o>=e.length)break;t[o+r]=e[o]}return o}function Z(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function q(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":443,buffer:444,ieee754:445}],445:[function(e,t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
r.read=function(e,t,r,n,o){var i,s;var a=o*8-n-1;var c=(1<<a)-1;var u=c>>1;var l=-7;var d=r?o-1:0;var p=r?-1:1;var f=e[t+d];d+=p;i=f&(1<<-l)-1;f>>=-l;l+=a;for(;l>0;i=i*256+e[t+d],d+=p,l-=8){}s=i&(1<<-l)-1;i>>=-l;l+=n;for(;l>0;s=s*256+e[t+d],d+=p,l-=8){}if(i===0){i=1-u}else if(i===c){return s?NaN:(f?-1:1)*Infinity}else{s=s+Math.pow(2,n);i=i-u}return(f?-1:1)*s*Math.pow(2,i-n)};r.write=function(e,t,r,n,o,i){var s,a,c;var u=i*8-o-1;var l=(1<<u)-1;var d=l>>1;var p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0;var f=n?0:i-1;var m=n?1:-1;var h=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;s=l}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(c=Math.pow(2,-s))<1){s--;c*=2}if(s+d>=1){t+=p/c}else{t+=p*Math.pow(2,1-d)}if(t*c>=2){s++;c/=2}if(s+d>=l){a=0;s=l}else if(s+d>=1){a=(t*c-1)*Math.pow(2,o);s=s+d}else{a=t*Math.pow(2,d-1)*Math.pow(2,o);s=0}}for(;o>=8;e[r+f]=a&255,f+=m,a/=256,o-=8){}s=s<<o|a;u+=o;for(;u>0;e[r+f]=s&255,f+=m,s/=256,u-=8){}e[r+f-m]|=h*128}},{}],446:[function(e,t,r){(function(e){(function(){"use strict";function r(e){if(typeof e!=="string"){throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}}function n(e,t){var r="";var n=0;var o=-1;var i=0;var s;for(var a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else if(s===47)break;else s=47;if(s===47){if(o===a-1||i===1){}else if(o!==a-1&&i===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){if(c===-1){r="";n=0}else{r=r.slice(0,c);n=r.length-1-r.lastIndexOf("/")}o=a;i=0;continue}}else if(r.length===2||r.length===1){r="";n=0;o=a;i=0;continue}}if(t){if(r.length>0)r+="/..";else r="..";n=2}}else{if(r.length>0)r+="/"+e.slice(o+1,a);else r=e.slice(o+1,a);n=a-o-1}o=a;i=0}else if(s===46&&i!==-1){++i}else{i=-1}}return r}function o(e,t){var r=t.dir||t.root;var n=t.base||(t.name||"")+(t.ext||"");if(!r){return n}if(r===t.root){return r+n}return r+e+n}var i={resolve:function t(){var o="";var i=false;var s;for(var a=arguments.length-1;a>=-1&&!i;a--){var c;if(a>=0)c=arguments[a];else{if(s===undefined)s=e.cwd();c=s}r(c);if(c.length===0){continue}o=c+"/"+o;i=c.charCodeAt(0)===47}o=n(o,!i);if(i){if(o.length>0)return"/"+o;else return"/"}else if(o.length>0){return o}else{return"."}},normalize:function e(t){r(t);if(t.length===0)return".";var o=t.charCodeAt(0)===47;var i=t.charCodeAt(t.length-1)===47;t=n(t,!o);if(t.length===0&&!o)t=".";if(t.length>0&&i)t+="/";if(o)return"/"+t;return t},isAbsolute:function e(t){r(t);return t.length>0&&t.charCodeAt(0)===47},join:function e(){if(arguments.length===0)return".";var t;for(var n=0;n<arguments.length;++n){var o=arguments[n];r(o);if(o.length>0){if(t===undefined)t=o;else t+="/"+o}}if(t===undefined)return".";return i.normalize(t)},relative:function e(t,n){r(t);r(n);if(t===n)return"";t=i.resolve(t);n=i.resolve(n);if(t===n)return"";var o=1;for(;o<t.length;++o){if(t.charCodeAt(o)!==47)break}var s=t.length;var a=s-o;var c=1;for(;c<n.length;++c){if(n.charCodeAt(c)!==47)break}var u=n.length;var l=u-c;var d=a<l?a:l;var p=-1;var f=0;for(;f<=d;++f){if(f===d){if(l>d){if(n.charCodeAt(c+f)===47){return n.slice(c+f+1)}else if(f===0){return n.slice(c+f)}}else if(a>d){if(t.charCodeAt(o+f)===47){p=f}else if(f===0){p=0}}break}var m=t.charCodeAt(o+f);var h=n.charCodeAt(c+f);if(m!==h)break;else if(m===47)p=f}var E="";for(f=o+p+1;f<=s;++f){if(f===s||t.charCodeAt(f)===47){if(E.length===0)E+="..";else E+="/.."}}if(E.length>0)return E+n.slice(c+p);else{c+=p;if(n.charCodeAt(c)===47)++c;return n.slice(c)}},_makeLong:function e(t){return t},dirname:function e(t){r(t);if(t.length===0)return".";var n=t.charCodeAt(0);var o=n===47;var i=-1;var s=true;for(var a=t.length-1;a>=1;--a){n=t.charCodeAt(a);if(n===47){if(!s){i=a;break}}else{s=false}}if(i===-1)return o?"/":".";if(o&&i===1)return"//";return t.slice(0,i)},basename:function e(t,n){if(n!==undefined&&typeof n!=="string")throw new TypeError('"ext" argument must be a string');r(t);var o=0;var i=-1;var s=true;var a;if(n!==undefined&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var c=n.length-1;var u=-1;for(a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(l===47){if(!s){o=a+1;break}}else{if(u===-1){s=false;u=a+1}if(c>=0){if(l===n.charCodeAt(c)){if(--c===-1){i=a}}else{c=-1;i=u}}}}if(o===i)i=u;else if(i===-1)i=t.length;return t.slice(o,i)}else{for(a=t.length-1;a>=0;--a){if(t.charCodeAt(a)===47){if(!s){o=a+1;break}}else if(i===-1){s=false;i=a+1}}if(i===-1)return"";return t.slice(o,i)}},extname:function e(t){r(t);var n=-1;var o=0;var i=-1;var s=true;var a=0;for(var c=t.length-1;c>=0;--c){var u=t.charCodeAt(c);if(u===47){if(!s){o=c+1;break}continue}if(i===-1){s=false;i=c+1}if(u===46){if(n===-1)n=c;else if(a!==1)a=1}else if(n!==-1){a=-1}}if(n===-1||i===-1||a===0||a===1&&n===i-1&&n===o+1){return""}return t.slice(n,i)},format:function e(t){if(t===null||typeof t!=="object"){throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t)}return o("/",t)},parse:function e(t){r(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var o=t.charCodeAt(0);var i=o===47;var s;if(i){n.root="/";s=1}else{s=0}var a=-1;var c=0;var u=-1;var l=true;var d=t.length-1;var p=0;for(;d>=s;--d){o=t.charCodeAt(d);if(o===47){if(!l){c=d+1;break}continue}if(u===-1){l=false;u=d+1}if(o===46){if(a===-1)a=d;else if(p!==1)p=1}else if(a!==-1){p=-1}}if(a===-1||u===-1||p===0||p===1&&a===u-1&&a===c+1){if(u!==-1){if(c===0&&i)n.base=n.name=t.slice(1,u);else n.base=n.name=t.slice(c,u)}}else{if(c===0&&i){n.name=t.slice(1,a);n.base=t.slice(1,u)}else{n.name=t.slice(c,a);n.base=t.slice(c,u)}n.ext=t.slice(a,u)}if(c>0)n.dir=t.slice(0,c-1);else if(i)n.dir="/";return n},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i;t.exports=i}).call(this)}).call(this,e("_process"))},{_process:447}],447:[function(e,t,r){var n=t.exports={};var o;var i;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){o=setTimeout}else{o=s}}catch(e){o=s}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function c(e){if(o===setTimeout){return setTimeout(e,0)}if((o===s||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var d=false;var p;var f=-1;function m(){if(!d||!p){return}d=false;if(p.length){l=p.concat(l)}else{f=-1}if(l.length){h()}}function h(){if(d){return}var e=c(m);d=true;var t=l.length;while(t){p=l;l=[];while(++f<t){if(p){p[f].run()}}f=-1;t=l.length}p=null;d=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new E(e,t));if(l.length===1&&!d){c(h)}};function E(e,t){this.fun=e;this.array=t}E.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function _(){}n.on=_;n.addListener=_;n.once=_;n.off=_;n.removeListener=_;n.removeAllListeners=_;n.emit=_;n.prependListener=_;n.prependOnceListener=_;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],448:[function(e,t,r){(function(n,o){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});var i;(function(e){e[e["Document"]=0]="Document";e[e["DocumentType"]=1]="DocumentType";e[e["Element"]=2]="Element";e[e["Text"]=3]="Text";e[e["CDATA"]=4]="CDATA";e[e["Comment"]=5]="Comment"})(i||(i={}));function s(e){return e.nodeType===e.ELEMENT_NODE}function a(e){var t=e===null||e===void 0?void 0:e.host;return Boolean((t===null||t===void 0?void 0:t.shadowRoot)===e)}function c(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function u(e){if(e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")){e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")}return e}function l(e){try{var t=e.rules||e.cssRules;return t?u(Array.from(t).map(d).join("")):null}catch(e){return null}}function d(e){var t=e.cssText;if(p(e)){try{t=l(e.styleSheet)||t}catch(e){}}return t}function p(e){return"styleSheet"in e}var f=function(){function e(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}e.prototype.getId=function(e){var t;if(!e)return-1;var r=(t=this.getMeta(e))===null||t===void 0?void 0:t.id;return r!==null&&r!==void 0?r:-1};e.prototype.getNode=function(e){return this.idNodeMap.get(e)||null};e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())};e.prototype.getMeta=function(e){return this.nodeMetaMap.get(e)||null};e.prototype.removeNodeFromMap=function(e){var t=this;var r=this.getId(e);this.idNodeMap["delete"](r);if(e.childNodes){e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))}};e.prototype.has=function(e){return this.idNodeMap.has(e)};e.prototype.hasNode=function(e){return this.nodeMetaMap.has(e)};e.prototype.add=function(e,t){var r=t.id;this.idNodeMap.set(r,e);this.nodeMetaMap.set(e,t)};e.prototype.replace=function(e,t){var r=this.getNode(e);if(r){var n=this.nodeMetaMap.get(r);if(n)this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)};e.prototype.reset=function(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap};return e}();function m(){return new f}function h(e){var t=e.maskInputOptions,r=e.tagName,n=e.type,o=e.value,i=e.maskInputFn;var s=o||"";if(t[r.toLowerCase()]||t[n]){if(i){s=i(s)}else{s="*".repeat(s.length)}}return s}var E="__rrweb_original__";function _(e){var t=e.getContext("2d");if(!t)return true;var r=50;for(var n=0;n<e.width;n+=r){for(var o=0;o<e.height;o+=r){var i=t.getImageData;var s=E in i?i[E]:i;var a=new Uint32Array(s.call(t,n,o,Math.min(r,e.width-n),Math.min(r,e.height-o)).data.buffer);if(a.some((function(e){return e!==0})))return false}}return true}var S=1;var g=new RegExp("[^a-z0-9-_:]");var T=-2;function A(){return S++}function y(e){if(e instanceof HTMLFormElement){return"form"}var t=e.tagName.toLowerCase().trim();if(g.test(t)){return"div"}return t}function v(e){return e.cssRules?Array.from(e.cssRules).map((function(e){return e.cssText||""})).join(""):""}function O(e){var t="";if(e.indexOf("//")>-1){t=e.split("/").slice(0,3).join("/")}else{t=e.split("/")[0]}t=t.split("?")[0];return t}var R;var N;var b=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm;var C=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/;var I=/^(data:)([^,]*),(.*)/i;function M(e,t){return(e||"").replace(b,(function(e,r,n,o,i,s){var a=n||i||s;var c=r||o||"";if(!a){return e}if(!C.test(a)){return"url(".concat(c).concat(a).concat(c,")")}if(I.test(a)){return"url(".concat(c).concat(a).concat(c,")")}if(a[0]==="/"){return"url(".concat(c).concat(O(t)+a).concat(c,")")}var u=t.split("/");var l=a.split("/");u.pop();for(var d=0,p=l;d<p.length;d++){var f=p[d];if(f==="."){continue}else if(f===".."){u.pop()}else{u.push(f)}}return"url(".concat(c).concat(u.join("/")).concat(c,")")}))}var P=/^[^ \t\n\r\u000c]+/;var L=/^[, \t\n\r\u000c]+/;function D(e,t){if(t.trim()===""){return t}var r=0;function n(e){var n;var o=e.exec(t.substring(r));if(o){n=o[0];r+=n.length;return n}return""}var o=[];while(true){n(L);if(r>=t.length){break}var i=n(P);if(i.slice(-1)===","){i=w(e,i.substring(0,i.length-1));o.push(i)}else{var s="";i=w(e,i);var a=false;while(true){var c=t.charAt(r);if(c===""){o.push((i+s).trim());break}else if(!a){if(c===","){r+=1;o.push((i+s).trim());break}else if(c==="("){a=true}}else{if(c===")"){a=false}}s+=c;r+=1}}}return o.join(", ")}function w(e,t){if(!t||t.trim()===""){return t}var r=e.createElement("a");r.href=t;return r.href}function U(e){return Boolean(e.tagName==="svg"||e.ownerSVGElement)}function x(){var e=document.createElement("a");e.href="";return e.href}function B(e,t,r,n){if(r==="src"||r==="href"&&n&&!(t==="use"&&n[0]==="#")){return w(e,n)}else if(r==="xlink:href"&&n&&n[0]!=="#"){return w(e,n)}else if(r==="background"&&n&&(t==="table"||t==="td"||t==="th")){return w(e,n)}else if(r==="srcset"&&n){return D(e,n)}else if(r==="style"&&n){return M(n,x())}else if(t==="object"&&r==="data"&&n){return w(e,n)}else{return n}}function V(e,t,r){if(typeof t==="string"){if(e.classList.contains(t)){return true}}else{for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o)){return true}}}if(r){return e.matches(r)}return false}function k(e,t,r){if(!e)return false;if(e.nodeType!==e.ELEMENT_NODE){if(!r)return false;return k(e.parentNode,t,r)}for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o)){return true}}if(!r)return false;return k(e.parentNode,t,r)}function G(e,t,r){var n=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(n===null)return false;if(typeof t==="string"){if(n.classList.contains(t))return true;if(n.closest(".".concat(t)))return true}else{if(k(n,t,true))return true}if(r){if(n.matches(r))return true;if(n.closest(r))return true}return false}function F(e,t,r){var n=e.contentWindow;if(!n){return}var o=false;var i;try{i=n.document.readyState}catch(e){return}if(i!=="complete"){var s=setTimeout((function(){if(!o){t();o=true}}),r);e.addEventListener("load",(function(){clearTimeout(s);o=true;t()}));return}var a="about:blank";if(n.location.href!==a||e.src===a||e.src===""){setTimeout(t,0);return e.addEventListener("load",t)}e.addEventListener("load",t)}function H(e,t,r){var n=false;var o;try{o=e.sheet}catch(e){return}if(o)return;var i=setTimeout((function(){if(!n){t();n=true}}),r);e.addEventListener("load",(function(){clearTimeout(i);n=true;t()}))}function j(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,s=t.blockSelector,a=t.maskTextClass,c=t.maskTextSelector,u=t.inlineStylesheet,l=t.maskInputOptions,d=l===void 0?{}:l,p=t.maskTextFn,f=t.maskInputFn,m=t.dataURLOptions,h=m===void 0?{}:m,E=t.inlineImages,_=t.recordCanvas,S=t.keepIframeSrcFn,g=t.newlyAddedElement,T=g===void 0?false:g;var A=Y(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:if(e.compatMode!=="CSS1Compat"){return{type:i.Document,childNodes:[],compatMode:e.compatMode}}else{return{type:i.Document,childNodes:[]}}case e.DOCUMENT_TYPE_NODE:return{type:i.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:A};case e.ELEMENT_NODE:return K(e,{doc:r,blockClass:o,blockSelector:s,inlineStylesheet:u,maskInputOptions:d,maskInputFn:f,dataURLOptions:h,inlineImages:E,recordCanvas:_,keepIframeSrcFn:S,newlyAddedElement:T,rootId:A});case e.TEXT_NODE:return W(e,{maskTextClass:a,maskTextSelector:c,maskTextFn:p,rootId:A});case e.CDATA_SECTION_NODE:return{type:i.CDATA,textContent:"",rootId:A};case e.COMMENT_NODE:return{type:i.Comment,textContent:e.textContent||"",rootId:A};default:return false}}function Y(e,t){if(!t.hasNode(e))return undefined;var r=t.getId(e);return r===1?undefined:r}function W(e,t){var r;var n=t.maskTextClass,o=t.maskTextSelector,s=t.maskTextFn,a=t.rootId;var c=e.parentNode&&e.parentNode.tagName;var u=e.textContent;var l=c==="STYLE"?true:undefined;var d=c==="SCRIPT"?true:undefined;if(l&&u){try{if(e.nextSibling||e.previousSibling){}else if((r=e.parentNode.sheet)===null||r===void 0?void 0:r.cssRules){u=v(e.parentNode.sheet)}}catch(t){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(t),e)}u=M(u,x())}if(d){u="SCRIPT_PLACEHOLDER"}if(!l&&!d&&u&&G(e,n,o)){u=s?s(u):u.replace(/[\S]/g,"*")}return{type:i.Text,textContent:u||"",isStyle:l,rootId:a}}function K(e,t){var r=t.doc,n=t.blockClass,o=t.blockSelector,s=t.inlineStylesheet,a=t.maskInputOptions,c=a===void 0?{}:a,u=t.maskInputFn,d=t.dataURLOptions,p=d===void 0?{}:d,f=t.inlineImages,m=t.recordCanvas,E=t.keepIframeSrcFn,S=t.newlyAddedElement,g=S===void 0?false:S,T=t.rootId;var A=V(e,n,o);var v=y(e);var O={};var b=e.attributes.length;for(var C=0;C<b;C++){var I=e.attributes[C];O[I.name]=B(r,v,I.name,I.value)}if(v==="link"&&s){var P=Array.from(r.styleSheets).find((function(t){return t.href===e.href}));var L=null;if(P){L=l(P)}if(L){delete O.rel;delete O.href;O._cssText=M(L,P.href)}}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var L=l(e.sheet);if(L){O._cssText=M(L,x())}}if(v==="input"||v==="textarea"||v==="select"){var D=e.value;var w=e.checked;if(O.type!=="radio"&&O.type!=="checkbox"&&O.type!=="submit"&&O.type!=="button"&&D){O.value=h({type:O.type,tagName:v,value:D,maskInputOptions:c,maskInputFn:u})}else if(w){O.checked=w}}if(v==="option"){if(e.selected&&!c["select"]){O.selected=true}else{delete O.selected}}if(v==="canvas"&&m){if(e.__context==="2d"){if(!_(e)){O.rr_dataURL=e.toDataURL(p.type,p.quality)}}else if(!("__context"in e)){var k=e.toDataURL(p.type,p.quality);var G=document.createElement("canvas");G.width=e.width;G.height=e.height;var F=G.toDataURL(p.type,p.quality);if(k!==F){O.rr_dataURL=k}}}if(v==="img"&&f){if(!R){R=r.createElement("canvas");N=R.getContext("2d")}var H=e;var j=H.crossOrigin;H.crossOrigin="anonymous";var Y=function(){try{R.width=H.naturalWidth;R.height=H.naturalHeight;N.drawImage(H,0,0);O.rr_dataURL=R.toDataURL(p.type,p.quality)}catch(e){console.warn("Cannot inline img src=".concat(H.currentSrc,"! Error: ").concat(e))}j?O.crossOrigin=j:H.removeAttribute("crossorigin")};if(H.complete&&H.naturalWidth!==0)Y();else H.onload=Y}if(v==="audio"||v==="video"){O.rr_mediaState=e.paused?"paused":"played";O.rr_mediaCurrentTime=e.currentTime}if(!g){if(e.scrollLeft){O.rr_scrollLeft=e.scrollLeft}if(e.scrollTop){O.rr_scrollTop=e.scrollTop}}if(A){var W=e.getBoundingClientRect(),K=W.width,X=W.height;O={class:O["class"],rr_width:"".concat(K,"px"),rr_height:"".concat(X,"px")}}if(v==="iframe"&&!E(O.src)){if(!e.contentDocument){O.rr_src=O.src}delete O.src}return{type:i.Element,tagName:v,attributes:O,childNodes:[],isSVG:U(e)||undefined,needBlock:A,rootId:T}}function X(e){if(e===undefined){return""}else{return e.toLowerCase()}}function z(e,t){if(t.comment&&e.type===i.Comment){return true}else if(e.type===i.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&e.attributes.rel==="preload"&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href==="string"&&e.attributes.href.endsWith(".js"))){return true}else if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(X(e.attributes.name).match(/^msapplication-tile(image|color)$/)||X(e.attributes.name)==="application-name"||X(e.attributes.rel)==="icon"||X(e.attributes.rel)==="apple-touch-icon"||X(e.attributes.rel)==="shortcut icon"))){return true}else if(e.tagName==="meta"){if(t.headMetaDescKeywords&&X(e.attributes.name).match(/^description|keywords$/)){return true}else if(t.headMetaSocial&&(X(e.attributes.property).match(/^(og|twitter|fb):/)||X(e.attributes.name).match(/^(og|twitter):/)||X(e.attributes.name)==="pinterest")){return true}else if(t.headMetaRobots&&(X(e.attributes.name)==="robots"||X(e.attributes.name)==="googlebot"||X(e.attributes.name)==="bingbot")){return true}else if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==undefined){return true}else if(t.headMetaAuthorship&&(X(e.attributes.name)==="author"||X(e.attributes.name)==="generator"||X(e.attributes.name)==="framework"||X(e.attributes.name)==="publisher"||X(e.attributes.name)==="progid"||X(e.attributes.property).match(/^article:/)||X(e.attributes.property).match(/^product:/))){return true}else if(t.headMetaVerification&&(X(e.attributes.name)==="google-site-verification"||X(e.attributes.name)==="yandex-verification"||X(e.attributes.name)==="csrf-token"||X(e.attributes.name)==="p:domain_verify"||X(e.attributes.name)==="verify-v1"||X(e.attributes.name)==="verification"||X(e.attributes.name)==="shopify-checkout-api-token")){return true}}}return false}function $(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,u=t.blockSelector,l=t.maskTextClass,d=t.maskTextSelector,p=t.skipChild,f=p===void 0?false:p,m=t.inlineStylesheet,h=m===void 0?true:m,E=t.maskInputOptions,_=E===void 0?{}:E,S=t.maskTextFn,g=t.maskInputFn,y=t.slimDOMOptions,v=t.dataURLOptions,O=v===void 0?{}:v,R=t.inlineImages,N=R===void 0?false:R,b=t.recordCanvas,C=b===void 0?false:b,I=t.onSerialize,M=t.onIframeLoad,P=t.iframeLoadTimeout,L=P===void 0?5e3:P,D=t.onStylesheetLoad,w=t.stylesheetLoadTimeout,U=w===void 0?5e3:w,x=t.keepIframeSrcFn,B=x===void 0?function(){return false}:x,V=t.newlyAddedElement,k=V===void 0?false:V;var G=t.preserveWhiteSpace,Y=G===void 0?true:G;var W=j(e,{doc:r,mirror:n,blockClass:o,blockSelector:u,maskTextClass:l,maskTextSelector:d,inlineStylesheet:h,maskInputOptions:_,maskTextFn:S,maskInputFn:g,dataURLOptions:O,inlineImages:N,recordCanvas:C,keepIframeSrcFn:B,newlyAddedElement:k});if(!W){console.warn(e,"not serialized");return null}var K;if(n.hasNode(e)){K=n.getId(e)}else if(z(W,y)||!Y&&W.type===i.Text&&!W.isStyle&&!W.textContent.replace(/^\s+|\s+$/gm,"").length){K=T}else{K=A()}var X=Object.assign(W,{id:K});n.add(e,X);if(K===T){return null}if(I){I(e)}var Z=!f;if(X.type===i.Element){Z=Z&&!X.needBlock;delete X.needBlock;var q=e.shadowRoot;if(q&&c(q))X.isShadowHost=true}if((X.type===i.Document||X.type===i.Element)&&Z){if(y.headWhitespace&&X.type===i.Element&&X.tagName==="head"){Y=false}var Q={doc:r,mirror:n,blockClass:o,blockSelector:u,maskTextClass:l,maskTextSelector:d,skipChild:f,inlineStylesheet:h,maskInputOptions:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:O,inlineImages:N,recordCanvas:C,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:M,iframeLoadTimeout:L,onStylesheetLoad:D,stylesheetLoadTimeout:U,keepIframeSrcFn:B};for(var J=0,ee=Array.from(e.childNodes);J<ee.length;J++){var te=ee[J];var re=$(te,Q);if(re){X.childNodes.push(re)}}if(s(e)&&e.shadowRoot){for(var ne=0,oe=Array.from(e.shadowRoot.childNodes);ne<oe.length;ne++){var te=oe[ne];var re=$(te,Q);if(re){c(e.shadowRoot)&&(re.isShadow=true);X.childNodes.push(re)}}}}if(e.parentNode&&a(e.parentNode)&&c(e.parentNode)){X.isShadow=true}if(X.type===i.Element&&X.tagName==="iframe"){F(e,(function(){var t=e.contentDocument;if(t&&M){var r=$(t,{doc:t,mirror:n,blockClass:o,blockSelector:u,maskTextClass:l,maskTextSelector:d,skipChild:false,inlineStylesheet:h,maskInputOptions:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:O,inlineImages:N,recordCanvas:C,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:M,iframeLoadTimeout:L,onStylesheetLoad:D,stylesheetLoadTimeout:U,keepIframeSrcFn:B});if(r){M(e,r)}}}),L)}if(X.type===i.Element&&X.tagName==="link"&&X.attributes.rel==="stylesheet"){H(e,(function(){if(D){var t=$(e,{doc:r,mirror:n,blockClass:o,blockSelector:u,maskTextClass:l,maskTextSelector:d,skipChild:false,inlineStylesheet:h,maskInputOptions:_,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:O,inlineImages:N,recordCanvas:C,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:M,iframeLoadTimeout:L,onStylesheetLoad:D,stylesheetLoadTimeout:U,keepIframeSrcFn:B});if(t){D(e,t)}}}),U)}return X}function Z(e,t){var r=t||{},n=r.mirror,o=n===void 0?new f:n,i=r.blockClass,s=i===void 0?"rr-block":i,a=r.blockSelector,c=a===void 0?null:a,u=r.maskTextClass,l=u===void 0?"rr-mask":u,d=r.maskTextSelector,p=d===void 0?null:d,m=r.inlineStylesheet,h=m===void 0?true:m,E=r.inlineImages,_=E===void 0?false:E,S=r.recordCanvas,g=S===void 0?false:S,T=r.maskAllInputs,A=T===void 0?false:T,y=r.maskTextFn,v=r.maskInputFn,O=r.slimDOM,R=O===void 0?false:O,N=r.dataURLOptions,b=r.preserveWhiteSpace,C=r.onSerialize,I=r.onIframeLoad,M=r.iframeLoadTimeout,P=r.onStylesheetLoad,L=r.stylesheetLoadTimeout,D=r.keepIframeSrcFn,w=D===void 0?function(){return false}:D;var U=A===true?{color:true,date:true,"datetime-local":true,email:true,month:true,number:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true,textarea:true,select:true,password:true}:A===false?{password:true}:A;var x=R===true||R==="all"?{script:true,comment:true,headFavicon:true,headWhitespace:true,headMetaDescKeywords:R==="all",headMetaSocial:true,headMetaRobots:true,headMetaHttpEquiv:true,headMetaAuthorship:true,headMetaVerification:true}:R===false?{}:R;return $(e,{doc:e,mirror:o,blockClass:s,blockSelector:c,maskTextClass:l,maskTextSelector:p,skipChild:false,inlineStylesheet:h,maskInputOptions:U,maskTextFn:y,maskInputFn:v,slimDOMOptions:x,dataURLOptions:N,inlineImages:_,recordCanvas:g,preserveWhiteSpace:b,onSerialize:C,onIframeLoad:I,iframeLoadTimeout:M,onStylesheetLoad:P,stylesheetLoadTimeout:L,keepIframeSrcFn:w,newlyAddedElement:false})}var q=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function Q(e,t){if(t===void 0){t={}}var r=1;var n=1;function o(e){var t=e.match(/\n/g);if(t){r+=t.length}var o=e.lastIndexOf("\n");n=o===-1?n+e.length:e.length-o}function i(){var e={line:r,column:n};return function(t){t.position=new s(e);m();return t}}var s=function(){function e(e){this.start=e;this.end={line:r,column:n};this.source=t.source}return e}();s.prototype.content=e;var a=[];function c(o){var i=new Error("".concat(t.source||"",":").concat(r,":").concat(n,": ").concat(o));i.reason=o;i.filename=t.source;i.line=r;i.column=n;i.source=e;if(t.silent){a.push(i)}else{throw i}}function u(){var e=p();return{type:"stylesheet",stylesheet:{source:t.source,rules:e,parsingErrors:a}}}function l(){return f(/^{\s*/)}function d(){return f(/^}/)}function p(){var t;var r=[];m();h(r);while(e.length&&e.charAt(0)!=="}"&&(t=D()||w())){if(t!==false){r.push(t);h(r)}}return r}function f(t){var r=t.exec(e);if(!r){return}var n=r[0];o(n);e=e.slice(n.length);return r}function m(){f(/^\s*/)}function h(e){if(e===void 0){e=[]}var t;while(t=E()){if(t!==false){e.push(t)}t=E()}return e}function E(){var t=i();if("/"!==e.charAt(0)||"*"!==e.charAt(1)){return}var r=2;while(""!==e.charAt(r)&&("*"!==e.charAt(r)||"/"!==e.charAt(r+1))){++r}r+=2;if(""===e.charAt(r-1)){return c("End of comment missing")}var s=e.slice(2,r-2);n+=2;o(s);e=e.slice(r);n+=2;return t({type:"comment",comment:s})}function _(){var e=f(/^([^{]+)/);if(!e){return}return J(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function S(){var e=i();var t=f(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!t){return}var r=J(t[0]);if(!f(/^:\s*/)){return c("property missing ':'")}var n=f(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);var o=e({type:"declaration",property:r.replace(q,""),value:n?J(n[0]).replace(q,""):""});f(/^[;\s]*/);return o}function g(){var e=[];if(!l()){return c("missing '{'")}h(e);var t;while(t=S()){if(t!==false){e.push(t);h(e)}t=S()}if(!d()){return c("missing '}'")}return e}function T(){var e;var t=[];var r=i();while(e=f(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)){t.push(e[1]);f(/^,\s*/)}if(!t.length){return}return r({type:"keyframe",values:t,declarations:g()})}function A(){var e=i();var t=f(/^@([-\w]+)?keyframes\s*/);if(!t){return}var r=t[1];t=f(/^([-\w]+)\s*/);if(!t){return c("@keyframes missing name")}var n=t[1];if(!l()){return c("@keyframes missing '{'")}var o;var s=h();while(o=T()){s.push(o);s=s.concat(h())}if(!d()){return c("@keyframes missing '}'")}return e({type:"keyframes",name:n,vendor:r,keyframes:s})}function y(){var e=i();var t=f(/^@supports *([^{]+)/);if(!t){return}var r=J(t[1]);if(!l()){return c("@supports missing '{'")}var n=h().concat(p());if(!d()){return c("@supports missing '}'")}return e({type:"supports",supports:r,rules:n})}function v(){var e=i();var t=f(/^@host\s*/);if(!t){return}if(!l()){return c("@host missing '{'")}var r=h().concat(p());if(!d()){return c("@host missing '}'")}return e({type:"host",rules:r})}function O(){var e=i();var t=f(/^@media *([^{]+)/);if(!t){return}var r=J(t[1]);if(!l()){return c("@media missing '{'")}var n=h().concat(p());if(!d()){return c("@media missing '}'")}return e({type:"media",media:r,rules:n})}function R(){var e=i();var t=f(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(!t){return}return e({type:"custom-media",name:J(t[1]),media:J(t[2])})}function N(){var e=i();var t=f(/^@page */);if(!t){return}var r=_()||[];if(!l()){return c("@page missing '{'")}var n=h();var o;while(o=S()){n.push(o);n=n.concat(h())}if(!d()){return c("@page missing '}'")}return e({type:"page",selectors:r,declarations:n})}function b(){var e=i();var t=f(/^@([-\w]+)?document *([^{]+)/);if(!t){return}var r=J(t[1]);var n=J(t[2]);if(!l()){return c("@document missing '{'")}var o=h().concat(p());if(!d()){return c("@document missing '}'")}return e({type:"document",document:n,vendor:r,rules:o})}function C(){var e=i();var t=f(/^@font-face\s*/);if(!t){return}if(!l()){return c("@font-face missing '{'")}var r=h();var n;while(n=S()){r.push(n);r=r.concat(h())}if(!d()){return c("@font-face missing '}'")}return e({type:"font-face",declarations:r})}var I=L("import");var M=L("charset");var P=L("namespace");function L(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var r=i();var n=f(t);if(!n){return}var o={type:e};o[e]=n[1].trim();return r(o)}}function D(){if(e[0]!=="@"){return}return A()||O()||R()||y()||I()||M()||P()||b()||N()||v()||C()}function w(){var e=i();var t=_();if(!t){return c("selector missing")}h();return e({type:"rule",selectors:t,declarations:g()})}return ee(u())}function J(e){return e?e.replace(/^\s+|\s+$/g,""):""}function ee(e,t){var r=e&&typeof e.type==="string";var n=r?e:t;for(var o=0,i=Object.keys(e);o<i.length;o++){var s=i[o];var a=e[s];if(Array.isArray(a)){a.forEach((function(e){ee(e,n)}))}else if(a&&typeof a==="object"){ee(a,n)}}if(r){Object.defineProperty(e,"parent",{configurable:true,writable:true,enumerable:false,value:t||null})}return e}var te={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function re(e){var t=te[e.tagName]?te[e.tagName]:e.tagName;if(t==="link"&&e.attributes._cssText){t="style"}return t}function ne(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var oe=/([^\\]):hover/;var ie=new RegExp(oe.source,"g");function se(e,t){var r=t===null||t===void 0?void 0:t.stylesWithHoverClass.get(e);if(r)return r;var n=Q(e,{silent:true});if(!n.stylesheet){return e}var o=[];n.stylesheet.rules.forEach((function(e){if("selectors"in e){(e.selectors||[]).forEach((function(e){if(oe.test(e)){o.push(e)}}))}}));if(o.length===0){return e}var i=new RegExp(o.filter((function(e,t){return o.indexOf(e)===t})).sort((function(e,t){return t.length-e.length})).map((function(e){return ne(e)})).join("|"),"g");var s=e.replace(i,(function(e){var t=e.replace(ie,"$1.\\:hover");return"".concat(e,", ").concat(t)}));t===null||t===void 0?void 0:t.stylesWithHoverClass.set(e,s);return s}function ae(){var e=new Map;return{stylesWithHoverClass:e}}function ce(e,t){var r=t.doc,n=t.hackCss,o=t.cache;switch(e.type){case i.Document:return r.implementation.createDocument(null,"",null);case i.DocumentType:return r.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case i.Element:{var s=re(e);var a;if(e.isSVG){a=r.createElementNS("http://www.w3.org/2000/svg",s)}else{a=r.createElement(s)}var c={};for(var u in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,u)){continue}var l=e.attributes[u];if(s==="option"&&u==="selected"&&l===false){continue}if(l===true)l="";if(u.startsWith("rr_")){c[u]=l;continue}var d=s==="textarea"&&u==="value";var p=s==="style"&&u==="_cssText";if(p&&n&&typeof l==="string"){l=se(l,o)}if((d||p)&&typeof l==="string"){var f=r.createTextNode(l);for(var m=0,h=Array.from(a.childNodes);m<h.length;m++){var E=h[m];if(E.nodeType===a.TEXT_NODE){a.removeChild(E)}}a.appendChild(f);continue}try{if(e.isSVG&&u==="xlink:href"){a.setAttributeNS("http://www.w3.org/1999/xlink",u,l.toString())}else if(u==="onload"||u==="onclick"||u.substring(0,7)==="onmouse"){a.setAttribute("_"+u,l.toString())}else if(s==="meta"&&e.attributes["http-equiv"]==="Content-Security-Policy"&&u==="content"){a.setAttribute("csp-content",l.toString());continue}else if(s==="link"&&e.attributes.rel==="preload"&&e.attributes.as==="script"){}else if(s==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href==="string"&&e.attributes.href.endsWith(".js")){}else if(s==="img"&&e.attributes.srcset&&e.attributes.rr_dataURL){a.setAttribute("rrweb-original-srcset",e.attributes.srcset)}else{a.setAttribute(u,l.toString())}}catch(e){}}var _=function(t){var r=c[t];if(s==="canvas"&&t==="rr_dataURL"){var n=document.createElement("img");n.onload=function(){var e=a.getContext("2d");if(e){e.drawImage(n,0,0,n.width,n.height)}};n.src=r.toString();if(a.RRNodeType)a.rr_dataURL=r.toString()}else if(s==="img"&&t==="rr_dataURL"){var o=a;if(!o.currentSrc.startsWith("data:")){o.setAttribute("rrweb-original-src",e.attributes.src);o.src=r.toString()}}if(t==="rr_width"){a.style.width=r.toString()}else if(t==="rr_height"){a.style.height=r.toString()}else if(t==="rr_mediaCurrentTime"&&typeof r==="number"){a.currentTime=r}else if(t==="rr_mediaState"){switch(r){case"played":a.play()["catch"]((function(e){return console.warn("media playback error",e)}));break;case"paused":a.pause();break}}};for(var S in c){_(S)}if(e.isShadowHost){if(!a.shadowRoot){a.attachShadow({mode:"open"})}else{while(a.shadowRoot.firstChild){a.shadowRoot.removeChild(a.shadowRoot.firstChild)}}}return a}case i.Text:return r.createTextNode(e.isStyle&&n?se(e.textContent,o):e.textContent);case i.CDATA:return r.createCDATASection(e.textContent);case i.Comment:return r.createComment(e.textContent);default:return null}}function ue(e,t){var r=t.doc,n=t.mirror,o=t.skipChild,a=o===void 0?false:o,c=t.hackCss,u=c===void 0?true:c,l=t.afterAppend,d=t.cache;var p=ce(e,{doc:r,hackCss:u,cache:d});if(!p){return null}if(e.rootId&&n.getNode(e.rootId)!==r){n.replace(e.rootId,r)}if(e.type===i.Document){r.close();r.open();if(e.compatMode==="BackCompat"&&e.childNodes&&e.childNodes[0].type!==i.DocumentType){if(e.childNodes[0].type===i.Element&&"xmlns"in e.childNodes[0].attributes&&e.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"){r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">')}else{r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')}}p=r}n.add(p,e);if((e.type===i.Document||e.type===i.Element)&&!a){for(var f=0,m=e.childNodes;f<m.length;f++){var h=m[f];var E=ue(h,{doc:r,mirror:n,skipChild:false,hackCss:u,afterAppend:l,cache:d});if(!E){console.warn("Failed to rebuild",h);continue}if(h.isShadow&&s(p)&&p.shadowRoot){p.shadowRoot.appendChild(E)}else{p.appendChild(E)}if(l){l(E,h.id)}}}return p}function le(e,t){function r(e){t(e)}for(var n=0,o=e.getIds();n<o.length;n++){var i=o[n];if(e.has(i)){r(e.getNode(i))}}}function de(e,t){var r=t.getMeta(e);if((r===null||r===void 0?void 0:r.type)!==i.Element){return}var n=e;for(var o in r.attributes){if(!(Object.prototype.hasOwnProperty.call(r.attributes,o)&&o.startsWith("rr_"))){continue}var s=r.attributes[o];if(o==="rr_scrollLeft"){n.scrollLeft=s}if(o==="rr_scrollTop"){n.scrollTop=s}}}function pe(e,t){var r=t.doc,n=t.onVisit,o=t.hackCss,i=o===void 0?true:o,s=t.afterAppend,a=t.cache,c=t.mirror,u=c===void 0?new f:c;var l=ue(e,{doc:r,mirror:u,skipChild:false,hackCss:i,afterAppend:s,cache:a});le(u,(function(e){if(n){n(e)}de(e,u)}));return l}function fe(e,t,r=document){const n={capture:true,passive:true};r.addEventListener(e,t,n);return()=>r.removeEventListener(e,t,n)}const me="Please stop import mirror directly. Instead of that,"+"\r\n"+"now you can use replayer.getMirror() to access the mirror instance of a replayer,"+"\r\n"+"or you can use record.mirror to access the mirror instance during recording.";r.mirror={map:{},getId(){console.error(me);return-1},getNode(){console.error(me);return null},removeNodeFromMap(){console.error(me)},has(){console.error(me);return false},reset(){console.error(me)}};if(typeof window!=="undefined"&&window.Proxy&&window.Reflect){r.mirror=new Proxy(r.mirror,{get(e,t,r){if(t==="map"){console.error(me)}return Reflect.get(e,t,r)}})}function he(e,t,r={}){let n=null;let o=0;return function(...i){const s=Date.now();if(!o&&r.leading===false){o=s}const a=t-(s-o);const c=this;if(a<=0||a>t){if(n){clearTimeout(n);n=null}o=s;e.apply(c,i)}else if(!n&&r.trailing!==false){n=setTimeout((()=>{o=r.leading===false?0:Date.now();n=null;e.apply(c,i)}),a)}}}function Ee(e,t,r,n,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);o.Object.defineProperty(e,t,n?r:{set(e){setTimeout((()=>{r.set.call(this,e)}),0);if(i&&i.set){i.set.call(this,e)}}});return()=>Ee(e,t,i||{},true)}function _e(e,t,r){try{if(!(t in e)){return()=>{}}const n=e[t];const o=r(n);if(typeof o==="function"){o.prototype=o.prototype||{};Object.defineProperties(o,{__rrweb_original__:{enumerable:false,value:n}})}e[t]=o;return()=>{e[t]=n}}catch(e){return()=>{}}}function Se(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ge(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Te(e,t,r,n){if(!e){return false}const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return false;if(typeof t==="string"){if(o.classList.contains(t))return true;if(n&&o.closest("."+t)!==null)return true}else{if(k(o,t,n))return true}if(r){if(e.matches(r))return true;if(n&&o.closest(r)!==null)return true}return false}function Ae(e,t){return t.getId(e)!==-1}function ye(e,t){return t.getId(e)===T}function ve(e,t){if(a(e)){return false}const r=t.getId(e);if(!t.has(r)){return true}if(e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE){return false}if(!e.parentNode){return true}return ve(e.parentNode,t)}function Oe(e){return Boolean(e.changedTouches)}function Re(e=window){if("NodeList"in e&&!e.NodeList.prototype.forEach){e.NodeList.prototype.forEach=Array.prototype.forEach}if("DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach){e.DOMTokenList.prototype.forEach=Array.prototype.forEach}if(!Node.prototype.contains){Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e)){throw new TypeError("1 argument is required")}do{if(this===t){return true}}while(t=t&&t.parentNode);return false}}}function Ne(e){const t={};const r=(e,r)=>{const n={value:e,parent:r,children:[]};t[e.node.id]=n;return n};const n=[];for(const o of e){const{nextId:e,parentId:i}=o;if(e&&e in t){const i=t[e];if(i.parent){const e=i.parent.children.indexOf(i);i.parent.children.splice(e,0,r(o,i.parent))}else{const e=n.indexOf(i);n.splice(e,0,r(o,null))}continue}if(i in t){const e=t[i];e.children.push(r(o,e));continue}n.push(r(o,null))}return n}function be(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--){be(e.children[r],t)}}function Ce(e,t){return Boolean(e.nodeName==="IFRAME"&&t.getMeta(e))}function Ie(e,t){return Boolean(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Me(e,t){var r,n;const o=(n=(r=e.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||n===void 0?void 0:n.frameElement;if(!o||o===t){return{x:0,y:0,relativeScale:1,absoluteScale:1}}const i=o.getBoundingClientRect();const s=Me(o,t);const a=i.height/o.clientHeight;return{x:i.x*s.relativeScale+s.x,y:i.y*s.relativeScale+s.y,relativeScale:a,absoluteScale:s.absoluteScale*a}}function Pe(e){return Boolean(e===null||e===void 0?void 0:e.shadowRoot)}function Le(e,t){const r=e[t[0]];if(t.length===1){return r}else{return Le(r.cssRules[t[1]].cssRules,t.slice(2))}}function De(e){const t=[...e];const r=t.pop();return{positions:t,index:r}}function we(e){const t=new Set;const r=[];for(let n=e.length;n--;){const o=e[n];if(!t.has(o.id)){r.push(o);t.add(o.id)}}return r}class Ue{constructor(){this.id=1;this.styleIDMap=new WeakMap;this.idStyleMap=new Map}getId(e){var t;return(t=this.styleIDMap.get(e))!==null&&t!==void 0?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;if(t===undefined){r=this.id++}else r=t;this.styleIDMap.set(e,r);this.idStyleMap.set(r,e);return r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap;this.idStyleMap=new Map;this.id=1}generateId(){return this.id++}}var xe=Object.freeze({__proto__:null,on:fe,get _mirror(){return r.mirror},throttle:he,hookSetter:Ee,patch:_e,getWindowHeight:Se,getWindowWidth:ge,isBlocked:Te,isSerialized:Ae,isIgnored:ye,isAncestorRemoved:ve,isTouchEvent:Oe,polyfill:Re,queueToResolveTrees:Ne,iterateResolveTree:be,isSerializedIframe:Ce,isSerializedStylesheet:Ie,getBaseDimension:Me,hasShadowRoot:Pe,getNestedRule:Le,getPositionsAndIndex:De,uniqueTextMutations:we,StyleSheetMirror:Ue});var Be=(e=>{e[e["DomContentLoaded"]=0]="DomContentLoaded";e[e["Load"]=1]="Load";e[e["FullSnapshot"]=2]="FullSnapshot";e[e["IncrementalSnapshot"]=3]="IncrementalSnapshot";e[e["Meta"]=4]="Meta";e[e["Custom"]=5]="Custom";e[e["Plugin"]=6]="Plugin";return e})(Be||{});var Ve=(e=>{e[e["Mutation"]=0]="Mutation";e[e["MouseMove"]=1]="MouseMove";e[e["MouseInteraction"]=2]="MouseInteraction";e[e["Scroll"]=3]="Scroll";e[e["ViewportResize"]=4]="ViewportResize";e[e["Input"]=5]="Input";e[e["TouchMove"]=6]="TouchMove";e[e["MediaInteraction"]=7]="MediaInteraction";e[e["StyleSheetRule"]=8]="StyleSheetRule";e[e["CanvasMutation"]=9]="CanvasMutation";e[e["Font"]=10]="Font";e[e["Log"]=11]="Log";e[e["Drag"]=12]="Drag";e[e["StyleDeclaration"]=13]="StyleDeclaration";e[e["Selection"]=14]="Selection";e[e["AdoptedStyleSheet"]=15]="AdoptedStyleSheet";return e})(Ve||{});var ke=(e=>{e[e["MouseUp"]=0]="MouseUp";e[e["MouseDown"]=1]="MouseDown";e[e["Click"]=2]="Click";e[e["ContextMenu"]=3]="ContextMenu";e[e["DblClick"]=4]="DblClick";e[e["Focus"]=5]="Focus";e[e["Blur"]=6]="Blur";e[e["TouchStart"]=7]="TouchStart";e[e["TouchMove_Departed"]=8]="TouchMove_Departed";e[e["TouchEnd"]=9]="TouchEnd";e[e["TouchCancel"]=10]="TouchCancel";return e})(ke||{});var Ge=(e=>{e[e["2D"]=0]="2D";e[e["WebGL"]=1]="WebGL";e[e["WebGL2"]=2]="WebGL2";return e})(Ge||{});var Fe=(e=>{e["Start"]="start";e["Pause"]="pause";e["Resume"]="resume";e["Resize"]="resize";e["Finish"]="finish";e["FullsnapshotRebuilded"]="fullsnapshot-rebuilded";e["LoadStylesheetStart"]="load-stylesheet-start";e["LoadStylesheetEnd"]="load-stylesheet-end";e["SkipStart"]="skip-start";e["SkipEnd"]="skip-end";e["MouseInteraction"]="mouse-interaction";e["EventCast"]="event-cast";e["CustomEvent"]="custom-event";e["Flush"]="flush";e["StateChange"]="state-change";e["PlayBack"]="play-back";e["Destroy"]="destroy";return e})(Fe||{});function He(e){return"__ln"in e}class je{constructor(){this.length=0;this.head=null}get(e){if(e>=this.length){throw new Error("Position outside of list range")}let t=this.head;for(let r=0;r<e;r++){t=(t===null||t===void 0?void 0:t.next)||null}return t}addNode(e){const t={value:e,previous:null,next:null};e.__ln=t;if(e.previousSibling&&He(e.previousSibling)){const r=e.previousSibling.__ln.next;t.next=r;t.previous=e.previousSibling.__ln;e.previousSibling.__ln.next=t;if(r){r.previous=t}}else if(e.nextSibling&&He(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;t.previous=r;t.next=e.nextSibling.__ln;e.nextSibling.__ln.previous=t;if(r){r.next=t}}else{if(this.head){this.head.previous=t}t.next=this.head;this.head=t}this.length++}removeNode(e){const t=e.__ln;if(!this.head){return}if(!t.previous){this.head=t.next;if(this.head){this.head.previous=null}}else{t.previous.next=t.next;if(t.next){t.next.previous=t.previous}}if(e.__ln){delete e.__ln}this.length--}}const Ye=(e,t)=>`${e}@${t}`;class We{constructor(){this.frozen=false;this.locked=false;this.texts=[];this.attributes=[];this.removes=[];this.mapRemoves=[];this.movedMap={};this.addedSet=new Set;this.movedSet=new Set;this.droppedSet=new Set;this.processMutations=e=>{e.forEach(this.processMutation);this.emit()};this.emit=()=>{if(this.frozen||this.locked){return}const e=[];const t=new je;const r=e=>{let t=e;let r=T;while(r===T){t=t&&t.nextSibling;r=t&&this.mirror.getId(t)}return r};const n=n=>{var o,i,s,c;let u=null;if(((i=(o=n.getRootNode)===null||o===void 0?void 0:o.call(n))===null||i===void 0?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&n.getRootNode().host)u=n.getRootNode().host;let l=u;while(((c=(s=l===null||l===void 0?void 0:l.getRootNode)===null||s===void 0?void 0:s.call(l))===null||c===void 0?void 0:c.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&l.getRootNode().host)l=l.getRootNode().host;const d=!this.doc.contains(n)&&(!l||!this.doc.contains(l));if(!n.parentNode||d){return}const p=a(n.parentNode)?this.mirror.getId(u):this.mirror.getId(n.parentNode);const f=r(n);if(p===-1||f===-1){return t.addNode(n)}const m=$(n,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:true,newlyAddedElement:true,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{if(Ce(e,this.mirror)){this.iframeManager.addIframe(e)}if(Ie(e,this.mirror)){this.stylesheetManager.trackLinkElement(e)}if(Pe(n)){this.shadowDomManager.addShadowRoot(n.shadowRoot,this.doc)}},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t);this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});if(m){e.push({parentId:p,nextId:f,node:m})}};while(this.mapRemoves.length){this.mirror.removeNodeFromMap(this.mapRemoves.shift())}for(const e of Array.from(this.movedSet.values())){if(Xe(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)){continue}n(e)}for(const e of Array.from(this.addedSet.values())){if(!$e(this.droppedSet,e)&&!Xe(this.removes,e,this.mirror)){n(e)}else if($e(this.movedSet,e)){n(e)}else{this.droppedSet.add(e)}}let o=null;while(t.length){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode);const n=r(o.value);if(t!==-1&&n!==-1){e=o}}if(!e){for(let n=t.length-1;n>=0;n--){const o=t.get(n);if(o){const t=this.mirror.getId(o.value.parentNode);const n=r(o.value);if(n===-1)continue;else if(t!==-1){e=o;break}else{const t=o.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;const n=this.mirror.getId(r);if(n!==-1){e=o;break}}}}}}if(!e){while(t.head){t.removeNode(t.head.value)}break}o=e.previous;t.removeNode(e.value);n(e.value)}const i={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>({id:this.mirror.getId(e.node),attributes:e.attributes}))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};if(!i.texts.length&&!i.attributes.length&&!i.removes.length&&!i.adds.length){return}this.texts=[];this.attributes=[];this.removes=[];this.addedSet=new Set;this.movedSet=new Set;this.droppedSet=new Set;this.movedMap={};this.mutationCb(i)};this.processMutation=e=>{if(ye(e.target,this.mirror)){return}switch(e.type){case"characterData":{const t=e.target.textContent;if(!Te(e.target,this.blockClass,this.blockSelector,false)&&t!==e.oldValue){this.texts.push({value:G(e.target,this.maskTextClass,this.maskTextSelector)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target})}break}case"attributes":{const t=e.target;let r=e.target.getAttribute(e.attributeName);if(e.attributeName==="value"){r=h({maskInputOptions:this.maskInputOptions,tagName:e.target.tagName,type:e.target.getAttribute("type"),value:r,maskInputFn:this.maskInputFn})}if(Te(e.target,this.blockClass,this.blockSelector,false)||r===e.oldValue){return}let n=this.attributes.find((t=>t.node===e.target));if(t.tagName==="IFRAME"&&e.attributeName==="src"&&!this.keepIframeSrcFn(r)){if(!t.contentDocument){e.attributeName="rr_src"}else{return}}if(!n){n={node:e.target,attributes:{}};this.attributes.push(n)}if(e.attributeName==="style"){const r=this.doc.createElement("span");if(e.oldValue){r.setAttribute("style",e.oldValue)}if(n.attributes.style===undefined||n.attributes.style===null){n.attributes.style={}}const o=n.attributes.style;for(const e of Array.from(t.style)){const n=t.style.getPropertyValue(e);const i=t.style.getPropertyPriority(e);if(n!==r.style.getPropertyValue(e)||i!==r.style.getPropertyPriority(e)){if(i===""){o[e]=n}else{o[e]=[n,i]}}}for(const e of Array.from(r.style)){if(t.style.getPropertyValue(e)===""){o[e]=false}}}else{n.attributes[e.attributeName]=B(this.doc,t.tagName,e.attributeName,r)}break}case"childList":{if(Te(e.target,this.blockClass,this.blockSelector,true))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target)));e.removedNodes.forEach((t=>{const r=this.mirror.getId(t);const n=a(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);if(Te(e.target,this.blockClass,this.blockSelector,false)||ye(t,this.mirror)||!Ae(t,this.mirror)){return}if(this.addedSet.has(t)){Ke(this.addedSet,t);this.droppedSet.add(t)}else if(this.addedSet.has(e.target)&&r===-1);else if(ve(e.target,this.mirror));else if(this.movedSet.has(t)&&this.movedMap[Ye(r,n)]){Ke(this.movedSet,t)}else{this.removes.push({parentId:n,id:r,isShadow:a(e.target)&&c(e.target)?true:undefined})}this.mapRemoves.push(t)}));break}}};this.genAdds=(e,t)=>{if(this.mirror.hasNode(e)){if(ye(e,this.mirror)){return}this.movedSet.add(e);let r=null;if(t&&this.mirror.hasNode(t)){r=this.mirror.getId(t)}if(r&&r!==-1){this.movedMap[Ye(this.mirror.getId(e),r)]=true}}else{this.addedSet.add(e);this.droppedSet.delete(e)}if(!Te(e,this.blockClass,this.blockSelector,false))e.childNodes.forEach((e=>this.genAdds(e)))}}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=true;this.canvasManager.freeze()}unfreeze(){this.frozen=false;this.canvasManager.unfreeze();this.emit()}isFrozen(){return this.frozen}lock(){this.locked=true;this.canvasManager.lock()}unlock(){this.locked=false;this.canvasManager.unlock();this.emit()}reset(){this.shadowDomManager.reset();this.canvasManager.reset()}}function Ke(e,t){e.delete(t);t.childNodes.forEach((t=>Ke(e,t)))}function Xe(e,t,r){if(e.length===0)return false;return ze(e,t,r)}function ze(e,t,r){const{parentNode:n}=t;if(!n){return false}const o=r.getId(n);if(e.some((e=>e.id===o))){return true}return ze(e,n,r)}function $e(e,t){if(e.size===0)return false;return Ze(e,t)}function Ze(e,t){const{parentNode:r}=t;if(!r){return false}if(e.has(r)){return true}return Ze(e,r)}const qe=[];const Qe=typeof CSSGroupingRule!=="undefined";const Je=typeof CSSMediaRule!=="undefined";const et=typeof CSSSupportsRule!=="undefined";const tt=typeof CSSConditionRule!=="undefined";function rt(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length){return t[0]}}else if("path"in e&&e.path.length){return e.path[0]}return e.target}catch(t){return e.target}}function nt(e,t){var r,n;const o=new We;qe.push(o);o.init(e);let i=window.MutationObserver||window.__rrMutationObserver;const s=(n=(r=window===null||window===void 0?void 0:window.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");if(s&&window[s]){i=window[s]}const a=new i(o.processMutations.bind(o));a.observe(t,{attributes:true,attributeOldValue:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true});return a}function ot({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===false){return()=>{}}const o=typeof t.mousemove==="number"?t.mousemove:50;const i=typeof t.mousemoveCallback==="number"?t.mousemoveCallback:500;let s=[];let a;const c=he((t=>{const r=Date.now()-a;e(s.map((e=>{e.timeOffset-=r;return e})),t);s=[];a=null}),i);const u=he((e=>{const t=rt(e);const{clientX:r,clientY:o}=Oe(e)?e.changedTouches[0]:e;if(!a){a=Date.now()}s.push({x:r,y:o,id:n.getId(t),timeOffset:Date.now()-a});c(typeof DragEvent!=="undefined"&&e instanceof DragEvent?Ve.Drag:e instanceof MouseEvent?Ve.MouseMove:Ve.TouchMove)}),o,{trailing:false});const l=[fe("mousemove",u,r),fe("touchmove",u,r),fe("drag",u,r)];return()=>{l.forEach((e=>e()))}}function it({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){if(i.mouseInteraction===false){return()=>{}}const s=i.mouseInteraction===true||i.mouseInteraction===undefined?{}:i.mouseInteraction;const a=[];const c=t=>i=>{const s=rt(i);if(Te(s,n,o,true)){return}const a=Oe(i)?i.changedTouches[0]:i;if(!a){return}const c=r.getId(s);const{clientX:u,clientY:l}=a;e({type:ke[t],id:c,x:u,y:l})};Object.keys(ke).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&s[e]!==false)).forEach((e=>{const r=e.toLowerCase();const n=c(e);a.push(fe(r,n,t))}));return()=>{a.forEach((e=>e()))}}function st({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){const s=he((i=>{const s=rt(i);if(!s||Te(s,n,o,true)){return}const a=r.getId(s);if(s===t){const r=t.scrollingElement||t.documentElement;e({id:a,x:r.scrollLeft,y:r.scrollTop})}else{e({id:a,x:s.scrollLeft,y:s.scrollTop})}}),i.scroll||100);return fe("scroll",s,t)}function at({viewportResizeCb:e}){let t=-1;let r=-1;const n=he((()=>{const n=Se();const o=ge();if(t!==n||r!==o){e({width:Number(o),height:Number(n)});t=n;r=o}}),200);return fe("resize",n,window)}function ct(e,t){const r=Object.assign({},e);if(!t)delete r.userTriggered;return r}const ut=["INPUT","TEXTAREA","SELECT"];const lt=new WeakMap;function dt({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,ignoreClass:i,maskInputOptions:s,maskInputFn:a,sampling:c,userTriggeredOnInput:u}){function l(e){let r=rt(e);const c=e.isTrusted;if(r&&r.tagName==="OPTION")r=r.parentElement;if(!r||!r.tagName||ut.indexOf(r.tagName)<0||Te(r,n,o,true)){return}const l=r.type;if(r.classList.contains(i)){return}let p=r.value;let f=false;if(l==="radio"||l==="checkbox"){f=r.checked}else if(s[r.tagName.toLowerCase()]||s[l]){p=h({maskInputOptions:s,tagName:r.tagName,type:l,value:p,maskInputFn:a})}d(r,ct({text:p,isChecked:f,userTriggered:c},u));const m=r.name;if(l==="radio"&&m&&f){t.querySelectorAll(`input[type="radio"][name="${m}"]`).forEach((e=>{if(e!==r){d(e,ct({text:e.value,isChecked:!f,userTriggered:false},u))}}))}}function d(t,n){const o=lt.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){lt.set(t,n);const o=r.getId(t);e(Object.assign(Object.assign({},n),{id:o}))}}const p=c.input==="last"?["change"]:["input","change"];const f=p.map((e=>fe(e,l,t)));const m=t.defaultView;if(!m){return()=>{f.forEach((e=>e()))}}const E=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value");const _=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];if(E&&E.set){f.push(..._.map((e=>Ee(e[0],e[1],{set(){l({target:this})}},false,m))))}return()=>{f.forEach((e=>e()))}}function pt(e){const t=[];function r(e,t){if(Qe&&e.parentRule instanceof CSSGroupingRule||Je&&e.parentRule instanceof CSSMediaRule||et&&e.parentRule instanceof CSSSupportsRule||tt&&e.parentRule instanceof CSSConditionRule){const r=Array.from(e.parentRule.cssRules);const n=r.indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const r=Array.from(e.parentStyleSheet.cssRules);const n=r.indexOf(e);t.unshift(n)}return t}return r(e,t)}function ft(e,t,r){let n,o;if(!e)return{};if(e.ownerNode)n=t.getId(e.ownerNode);else o=r.getId(e);return{styleId:o,id:n}}function mt({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){const o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=function(n,i){const{id:s,styleId:a}=ft(this,t,r.styleMirror);if(s&&s!==-1||a&&a!==-1){e({id:s,styleId:a,adds:[{rule:n,index:i}]})}return o.apply(this,[n,i])};const i=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=function(n){const{id:o,styleId:s}=ft(this,t,r.styleMirror);if(o&&o!==-1||s&&s!==-1){e({id:o,styleId:s,removes:[{index:n}]})}return i.apply(this,[n])};let s;if(n.CSSStyleSheet.prototype.replace){s=n.CSSStyleSheet.prototype.replace;n.CSSStyleSheet.prototype.replace=function(n){const{id:o,styleId:i}=ft(this,t,r.styleMirror);if(o&&o!==-1||i&&i!==-1){e({id:o,styleId:i,replace:n})}return s.apply(this,[n])}}let a;if(n.CSSStyleSheet.prototype.replaceSync){a=n.CSSStyleSheet.prototype.replaceSync;n.CSSStyleSheet.prototype.replaceSync=function(n){const{id:o,styleId:i}=ft(this,t,r.styleMirror);if(o&&o!==-1||i&&i!==-1){e({id:o,styleId:i,replaceSync:n})}return a.apply(this,[n])}}const c={};if(Qe){c.CSSGroupingRule=n.CSSGroupingRule}else{if(Je){c.CSSMediaRule=n.CSSMediaRule}if(tt){c.CSSConditionRule=n.CSSConditionRule}if(et){c.CSSSupportsRule=n.CSSSupportsRule}}const u={};Object.entries(c).forEach((([n,o])=>{u[n]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule};o.prototype.insertRule=function(o,i){const{id:s,styleId:a}=ft(this.parentStyleSheet,t,r.styleMirror);if(s&&s!==-1||a&&a!==-1){e({id:s,styleId:a,adds:[{rule:o,index:[...pt(this),i||0]}]})}return u[n].insertRule.apply(this,[o,i])};o.prototype.deleteRule=function(o){const{id:i,styleId:s}=ft(this.parentStyleSheet,t,r.styleMirror);if(i&&i!==-1||s&&s!==-1){e({id:i,styleId:s,removes:[{index:[...pt(this),o]}]})}return u[n].deleteRule.apply(this,[o])}}));return()=>{n.CSSStyleSheet.prototype.insertRule=o;n.CSSStyleSheet.prototype.deleteRule=i;s&&(n.CSSStyleSheet.prototype.replace=s);a&&(n.CSSStyleSheet.prototype.replaceSync=a);Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=u[e].insertRule;t.prototype.deleteRule=u[e].deleteRule}))}}function ht({mirror:e,stylesheetManager:t},r){var n,o,i;let s=null;if(r.nodeName==="#document")s=e.getId(r);else s=e.getId(r.host);const a=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(i=(o=r.ownerDocument)===null||o===void 0?void 0:o.defaultView)===null||i===void 0?void 0:i.ShadowRoot;const c=Object.getOwnPropertyDescriptor(a===null||a===void 0?void 0:a.prototype,"adoptedStyleSheets");if(s===null||s===-1||!a||!c)return()=>{};Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return(e=c.get)===null||e===void 0?void 0:e.call(this)},set(e){var r;const n=(r=c.set)===null||r===void 0?void 0:r.call(this,e);if(s!==null&&s!==-1){try{t.adoptStyleSheets(e,s)}catch(e){}}return n}});return()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}}function Et({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=function(o,s,a){var c;if(r.has(o)){return i.apply(this,[o,s,a])}const{id:u,styleId:l}=ft((c=this.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,n.styleMirror);if(u&&u!==-1||l&&l!==-1){e({id:u,styleId:l,set:{property:o,value:s,priority:a},index:pt(this.parentRule)})}return i.apply(this,[o,s,a])};const s=o.CSSStyleDeclaration.prototype.removeProperty;o.CSSStyleDeclaration.prototype.removeProperty=function(o){var i;if(r.has(o)){return s.apply(this,[o])}const{id:a,styleId:c}=ft((i=this.parentRule)===null||i===void 0?void 0:i.parentStyleSheet,t,n.styleMirror);if(a&&a!==-1||c&&c!==-1){e({id:a,styleId:c,remove:{property:o},index:pt(this.parentRule)})}return s.apply(this,[o])};return()=>{o.CSSStyleDeclaration.prototype.setProperty=i;o.CSSStyleDeclaration.prototype.removeProperty=s}}function _t({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:o}){const i=i=>he((o=>{const s=rt(o);if(!s||Te(s,t,r,true)){return}const{currentTime:a,volume:c,muted:u,playbackRate:l}=s;e({type:i,id:n.getId(s),currentTime:a,volume:c,muted:u,playbackRate:l})}),o.media||500);const s=[fe("play",i(0)),fe("pause",i(1)),fe("seeked",i(2)),fe("volumechange",i(3)),fe("ratechange",i(4))];return()=>{s.forEach((e=>e()))}}function St({fontCb:e,doc:t}){const r=t.defaultView;if(!r){return()=>{}}const n=[];const o=new WeakMap;const i=r.FontFace;r.FontFace=function e(t,r,n){const s=new i(t,r,n);o.set(s,{family:t,buffer:typeof r!=="string",descriptors:n,fontSource:typeof r==="string"?r:JSON.stringify(Array.from(new Uint8Array(r)))});return s};const s=_e(t.fonts,"add",(function(t){return function(r){setTimeout((()=>{const t=o.get(r);if(t){e(t);o.delete(r)}}),0);return t.apply(this,[r])}}));n.push((()=>{r.FontFace=i}));n.push(s);return()=>{n.forEach((e=>e()))}}function gt(e){const{doc:t,mirror:r,blockClass:n,blockSelector:o,selectionCb:i}=e;let s=true;const a=()=>{const e=t.getSelection();if(!e||s&&(e===null||e===void 0?void 0:e.isCollapsed))return;s=e.isCollapsed||false;const a=[];const c=e.rangeCount||0;for(let t=0;t<c;t++){const i=e.getRangeAt(t);const{startContainer:s,startOffset:c,endContainer:u,endOffset:l}=i;const d=Te(s,n,o,true)||Te(u,n,o,true);if(d)continue;a.push({start:r.getId(s),startOffset:c,end:r.getId(u),endOffset:l})}i({ranges:a})};a();return fe("selectionchange",a)}function Tt(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:c,styleSheetRuleCb:u,styleDeclarationCb:l,canvasMutationCb:d,fontCb:p,selectionCb:f}=e;e.mutationCb=(...e)=>{if(t.mutation){t.mutation(...e)}r(...e)};e.mousemoveCb=(...e)=>{if(t.mousemove){t.mousemove(...e)}n(...e)};e.mouseInteractionCb=(...e)=>{if(t.mouseInteraction){t.mouseInteraction(...e)}o(...e)};e.scrollCb=(...e)=>{if(t.scroll){t.scroll(...e)}i(...e)};e.viewportResizeCb=(...e)=>{if(t.viewportResize){t.viewportResize(...e)}s(...e)};e.inputCb=(...e)=>{if(t.input){t.input(...e)}a(...e)};e.mediaInteractionCb=(...e)=>{if(t.mediaInteaction){t.mediaInteaction(...e)}c(...e)};e.styleSheetRuleCb=(...e)=>{if(t.styleSheetRule){t.styleSheetRule(...e)}u(...e)};e.styleDeclarationCb=(...e)=>{if(t.styleDeclaration){t.styleDeclaration(...e)}l(...e)};e.canvasMutationCb=(...e)=>{if(t.canvasMutation){t.canvasMutation(...e)}d(...e)};e.fontCb=(...e)=>{if(t.font){t.font(...e)}p(...e)};e.selectionCb=(...e)=>{if(t.selection){t.selection(...e)}f(...e)}}function At(e,t={}){const r=e.doc.defaultView;if(!r){return()=>{}}Tt(e,t);const n=nt(e,e.doc);const o=ot(e);const i=it(e);const s=st(e);const a=at(e);const c=dt(e);const u=_t(e);const l=mt(e,{win:r});const d=ht(e,e.doc);const p=Et(e,{win:r});const f=e.collectFonts?St(e):()=>{};const m=gt(e);const h=[];for(const t of e.plugins){h.push(t.observer(t.callback,r,t.options))}return()=>{qe.forEach((e=>e.reset()));n.disconnect();o();i();s();a();c();u();l();d();p();f();m();h.forEach((e=>e()))}}class yt{constructor(e){this.generateIdFn=e;this.iframeIdToRemoteIdMap=new WeakMap;this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,r,n){const o=r||this.getIdToRemoteIdMap(e);const i=n||this.getRemoteIdToIdMap(e);let s=o.get(t);if(!s){s=this.generateIdFn();o.set(t,s);i.set(s,t)}return s}getIds(e,t){const r=this.getIdToRemoteIdMap(e);const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,r,n)))}getRemoteId(e,t,r){const n=r||this.getRemoteIdToIdMap(e);if(typeof t!=="number")return t;const o=n.get(t);if(!o)return-1;return o}getRemoteIds(e,t){const r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,r)))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap;this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e);this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);if(!t){t=new Map;this.iframeIdToRemoteIdMap.set(e,t)}return t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);if(!t){t=new Map;this.iframeRemoteIdToIdMap.set(e,t)}return t}}class vt{constructor(e){this.iframes=new WeakMap;this.crossOriginIframeMap=new WeakMap;this.crossOriginIframeMirror=new yt(A);this.mutationCb=e.mutationCb;this.wrappedEmit=e.wrappedEmit;this.stylesheetManager=e.stylesheetManager;this.recordCrossOriginIframes=e.recordCrossOriginIframes;this.crossOriginIframeStyleMirror=new yt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));this.mirror=e.mirror;if(this.recordCrossOriginIframes){window.addEventListener("message",this.handleMessage.bind(this))}}addIframe(e){this.iframes.set(e,true);if(e.contentWindow)this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:true});(r=this.loadListener)===null||r===void 0?void 0:r.call(this,e);if(e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0)this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if(e.data.type==="rrweb"){const t=e.source;if(!t)return;const r=this.crossOriginIframeMap.get(e.source);if(!r)return;const n=this.transformCrossOriginEvent(r,e.data.event);if(n)this.wrappedEmit(n,e.data.isCheckout)}}transformCrossOriginEvent(e,t){var r;switch(t.type){case Be.FullSnapshot:{this.crossOriginIframeMirror.reset(e);this.crossOriginIframeStyleMirror.reset(e);this.replaceIdOnNode(t.data.node,e);return{timestamp:t.timestamp,type:Be.IncrementalSnapshot,data:{source:Ve.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:true}}}case Be.Meta:case Be.Load:case Be.DomContentLoaded:{return false}case Be.Plugin:{return t}case Be.Custom:{this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]);return t}case Be.IncrementalSnapshot:{switch(t.data.source){case Ve.Mutation:{t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]);this.replaceIdOnNode(t.node,e)}));t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])}));t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])}));t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])}));return t}case Ve.Drag:case Ve.TouchMove:case Ve.MouseMove:{t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])}));return t}case Ve.ViewportResize:{return false}case Ve.MediaInteraction:case Ve.MouseInteraction:case Ve.Scroll:case Ve.CanvasMutation:case Ve.Input:{this.replaceIds(t.data,e,["id"]);return t}case Ve.StyleSheetRule:case Ve.StyleDeclaration:{this.replaceIds(t.data,e,["id"]);this.replaceStyleIds(t.data,e,["styleId"]);return t}case Ve.Font:{return t}case Ve.Selection:{t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])}));return t}case Ve.AdoptedStyleSheet:{this.replaceIds(t.data,e,["id"]);this.replaceStyleIds(t.data,e,["styleIds"]);(r=t.data.styles)===null||r===void 0?void 0:r.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])}));return t}}}}}replace(e,t,r,n){for(const o of n){if(!Array.isArray(t[o])&&typeof t[o]!=="number")continue;if(Array.isArray(t[o])){t[o]=e.getIds(r,t[o])}else{t[o]=e.getId(r,t[o])}}return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id"]);if("childNodes"in e){e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}}}class Ot{constructor(e){this.shadowDoms=new WeakSet;this.restorePatches=[];this.mutationCb=e.mutationCb;this.scrollCb=e.scrollCb;this.bypassOptions=e.bypassOptions;this.mirror=e.mirror;const t=this;this.restorePatches.push(_e(Element.prototype,"attachShadow",(function(e){return function(r){const n=e.call(this,r);if(this.shadowRoot)t.addShadowRoot(this.shadowRoot,this.ownerDocument);return n}})))}addShadowRoot(e,t){if(!c(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);nt(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);st(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}));setTimeout((()=>{if(e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0)this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host));ht({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e)}),0)}observeAttachShadow(e){if(e.contentWindow){const t=this;this.restorePatches.push(_e(e.contentWindow.HTMLElement.prototype,"attachShadow",(function(r){return function(n){const o=r.call(this,n);if(this.shadowRoot)t.addShadowRoot(this.shadowRoot,e.contentDocument);return o}})))}}reset(){this.restorePatches.forEach((e=>e()));this.shadowDoms=new WeakSet}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Rt(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++){if(t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o]))r[n[o]]=e[n[o]]}return r}function Nt(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n["throw"](e))}catch(e){i(e)}}function c(e){e.done?r(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var Ct=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var It=0;It<bt.length;It++){Ct[bt.charCodeAt(It)]=It}var Mt=function(e){var t=new Uint8Array(e),r,n=t.length,o="";for(r=0;r<n;r+=3){o+=bt[t[r]>>2];o+=bt[(t[r]&3)<<4|t[r+1]>>4];o+=bt[(t[r+1]&15)<<2|t[r+2]>>6];o+=bt[t[r+2]&63]}if(n%3===2){o=o.substring(0,o.length-1)+"="}else if(n%3===1){o=o.substring(0,o.length-2)+"=="}return o};var Pt=function(e){var t=e.length*.75,r=e.length,n,o=0,i,s,a,c;if(e[e.length-1]==="="){t--;if(e[e.length-2]==="="){t--}}var u=new ArrayBuffer(t),l=new Uint8Array(u);for(n=0;n<r;n+=4){i=Ct[e.charCodeAt(n)];s=Ct[e.charCodeAt(n+1)];a=Ct[e.charCodeAt(n+2)];c=Ct[e.charCodeAt(n+3)];l[o++]=i<<2|s>>4;l[o++]=(s&15)<<4|a>>2;l[o++]=(a&3)<<6|c&63}return u};const Lt=new Map;function Dt(e,t){let r=Lt.get(e);if(!r){r=new Map;Lt.set(e,r)}if(!r.has(t)){r.set(t,[])}return r.get(t)}const wt=(e,t,r)=>{if(!e||!(Bt(e,t)||typeof e==="object"))return;const n=e.constructor.name;const o=Dt(r,n);let i=o.indexOf(e);if(i===-1){i=o.length;o.push(e)}return i};function Ut(e,t,r){if(e instanceof Array){return e.map((e=>Ut(e,t,r)))}else if(e===null){return e}else if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){const t=e.constructor.name;return{rr_type:t,args:[Object.values(e)]}}else if(e instanceof ArrayBuffer){const t=e.constructor.name;const r=Mt(e);return{rr_type:t,base64:r}}else if(e instanceof DataView){const n=e.constructor.name;return{rr_type:n,args:[Ut(e.buffer,t,r),e.byteOffset,e.byteLength]}}else if(e instanceof HTMLImageElement){const t=e.constructor.name;const{src:r}=e;return{rr_type:t,src:r}}else if(e instanceof HTMLCanvasElement){const t="HTMLImageElement";const r=e.toDataURL();return{rr_type:t,src:r}}else if(e instanceof ImageData){const n=e.constructor.name;return{rr_type:n,args:[Ut(e.data,t,r),e.width,e.height]}}else if(Bt(e,t)||typeof e==="object"){const n=e.constructor.name;const o=wt(e,t,r);return{rr_type:n,index:o}}return e}const xt=(e,t,r)=>[...e].map((e=>Ut(e,t,r)));const Bt=(e,t)=>{const r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"];const n=r.filter((e=>typeof t[e]==="function"));return Boolean(n.find((r=>e instanceof t[r])))};function Vt(e,t,r,n){const o=[];const i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of i){try{if(typeof t.CanvasRenderingContext2D.prototype[s]!=="function"){continue}const i=_e(t.CanvasRenderingContext2D.prototype,s,(function(o){return function(...i){if(!Te(this.canvas,r,n,true)){setTimeout((()=>{const r=xt([...i],t,this);e(this.canvas,{type:Ge["2D"],property:s,args:r})}),0)}return o.apply(this,i)}}));o.push(i)}catch(r){const n=Ee(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:Ge["2D"],property:s,args:[t],setter:true})}});o.push(n)}}return()=>{o.forEach((e=>e()))}}function kt(e,t,r){const n=[];try{const o=_e(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(n,...o){if(!Te(this,t,r,true)){if(!("__context"in this))this.__context=n}return e.apply(this,[n,...o])}}));n.push(o)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{n.forEach((e=>e()))}}function Gt(e,t,r,n,o,i,s){const a=[];const c=Object.getOwnPropertyNames(e);for(const i of c){if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i)){continue}try{if(typeof e[i]!=="function"){continue}const c=_e(e,i,(function(e){return function(...a){const c=e.apply(this,a);wt(c,s,this);if(!Te(this.canvas,n,o,true)){const e=xt([...a],s,this);const n={type:t,property:i,args:e};r(this.canvas,n)}return c}}));a.push(c)}catch(n){const o=Ee(e,i,{set(e){r(this.canvas,{type:t,property:i,args:[e],setter:true})}});a.push(o)}}return a}function Ft(e,t,r,n,o){const i=[];i.push(...Gt(t.WebGLRenderingContext.prototype,Ge.WebGL,e,r,n,o,t));if(typeof t.WebGL2RenderingContext!=="undefined"){i.push(...Gt(t.WebGL2RenderingContext.prototype,Ge.WebGL2,e,r,n,o,t))}return()=>{i.forEach((e=>e()))}}var Ht=null;try{var jt=typeof t!=="undefined"&&typeof t.require==="function"&&t.require("worker_threads")||typeof __non_webpack_require__==="function"&&__non_webpack_require__("worker_threads")||typeof e==="function"&&e("worker_threads");Ht=jt.Worker}catch(nn){}function Yt(e,t){return o.from(e,"base64").toString(t?"utf16":"utf8")}function Wt(e,t,r){var n=t===undefined?null:t;var o=r===undefined?false:r;var i=Yt(e,o);var s=i.indexOf("\n",10)+1;var a=i.substring(s)+(n?"//# sourceMappingURL="+n:"");return function e(t){return new Ht(a,Object.assign({},t,{eval:true}))}}function Kt(e,t){var r=atob(e);if(t){var n=new Uint8Array(r.length);for(var o=0,i=r.length;o<i;++o){n[o]=r.charCodeAt(o)}return String.fromCharCode.apply(null,new Uint16Array(n.buffer))}return r}function Xt(e,t,r){var n=t===undefined?null:t;var o=r===undefined?false:r;var i=Kt(e,o);var s=i.indexOf("\n",10)+1;var a=i.substring(s)+(n?"//# sourceMappingURL="+n:"");var c=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(c)}function zt(e,t,r){var n;return function o(i){n=n||Xt(e,t,r);return new Worker(n,i)}}var $t=Object.prototype.toString.call(typeof n!=="undefined"?n:0)==="[object process]";function Zt(){return $t}function qt(e,t,r){if(Zt()){return Wt(e,t,r)}return zt(e,t,r)}var Qt=qt("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=",null,false);class Jt{constructor(e){this.pendingCanvasMutations=new Map;this.rafStamps={latestId:0,invokeId:null};this.frozen=false;this.locked=false;this.processMutation=(e,t)=>{const r=this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId;if(r||!this.rafStamps.invokeId)this.rafStamps.invokeId=this.rafStamps.latestId;if(!this.pendingCanvasMutations.has(e)){this.pendingCanvasMutations.set(e,[])}this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:r,blockClass:n,blockSelector:o,recordCanvas:i,dataURLOptions:s}=e;this.mutationCb=e.mutationCb;this.mirror=e.mirror;if(i&&t==="all")this.initCanvasMutationObserver(r,n,o);if(i&&typeof t==="number")this.initCanvasFPSObserver(t,r,n,o,{dataURLOptions:s})}reset(){this.pendingCanvasMutations.clear();this.resetObservers&&this.resetObservers()}freeze(){this.frozen=true}unfreeze(){this.frozen=false}lock(){this.locked=true}unlock(){this.locked=false}initCanvasFPSObserver(e,t,r,n,o){const i=kt(t,r,n);const s=new Map;const a=new Qt;a.onmessage=e=>{const{id:t}=e.data;s.set(t,false);if(!("base64"in e.data))return;const{base64:r,type:n,width:o,height:i}=e.data;this.mutationCb({id:t,type:Ge["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:n}]},0,0]}]})};const c=1e3/e;let u=0;let l;const d=()=>{const e=[];t.document.querySelectorAll("canvas").forEach((t=>{if(!Te(t,r,n,true)){e.push(t)}}));return e};const p=e=>{if(u&&e-u<c){l=requestAnimationFrame(p);return}u=e;d().forEach((e=>Nt(this,void 0,void 0,(function*(){var t;const r=this.mirror.getId(e);if(s.get(r))return;s.set(r,true);if(["webgl","webgl2"].includes(e.__context)){const r=e.getContext(e.__context);if(((t=r===null||r===void 0?void 0:r.getContextAttributes())===null||t===void 0?void 0:t.preserveDrawingBuffer)===false){r===null||r===void 0?void 0:r.clear(r.COLOR_BUFFER_BIT)}}const n=yield createImageBitmap(e);a.postMessage({id:r,bitmap:n,width:e.width,height:e.height,dataURLOptions:o.dataURLOptions},[n])}))));l=requestAnimationFrame(p)};l=requestAnimationFrame(p);this.resetObservers=()=>{i();cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping();this.startPendingCanvasMutationFlusher();const n=kt(e,t,r);const o=Vt(this.processMutation.bind(this),e,t,r);const i=Ft(this.processMutation.bind(this),e,t,r,this.mirror);this.resetObservers=()=>{n();o();i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t;requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}));requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked){return}const r=this.pendingCanvasMutations.get(e);if(!r||t===-1)return;const n=r.map((e=>{const t=Rt(e,["type"]);return t}));const{type:o}=r[0];this.mutationCb({id:t,type:o,commands:n});this.pendingCanvasMutations.delete(e)}}class er{constructor(e){this.trackedLinkElements=new WeakSet;this.styleMirror=new Ue;this.mutationCb=e.mutationCb;this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){if("_cssText"in t.attributes)this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]});this.trackLinkElement(e)}trackLinkElement(e){if(this.trackedLinkElements.has(e))return;this.trackedLinkElements.add(e);this.trackStylesheetInLinkElement(e)}adoptStyleSheets(e,t){if(e.length===0)return;const r={id:t,styleIds:[]};const n=[];for(const t of e){let e;if(!this.styleMirror.has(t)){e=this.styleMirror.add(t);const r=Array.from(t.rules||CSSRule);n.push({styleId:e,rules:r.map(((e,t)=>({rule:d(e),index:t})))})}else e=this.styleMirror.getId(t);r.styleIds.push(e)}if(n.length>0)r.styles=n;this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset();this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}function tr(e){return Object.assign(Object.assign({},e),{timestamp:Date.now()})}let rr;let nr;let or;let ir=false;const sr=m();function ar(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:s="rr-ignore",maskTextClass:a="rr-mask",maskTextSelector:c=null,inlineStylesheet:u=true,maskAllInputs:l,maskInputOptions:d,slimDOMOptions:p,maskInputFn:f,maskTextFn:m,hooks:h,packFn:E,sampling:_={},dataURLOptions:S={},mousemoveWait:g,recordCanvas:T=false,recordCrossOriginIframes:A=false,userTriggeredOnInput:y=false,collectFonts:v=false,inlineImages:O=false,plugins:R,keepIframeSrcFn:N=(()=>false),ignoreCSSAttributes:b=new Set([])}=e;const C=A?window.parent===window:true;let I=false;if(!C){try{window.parent.document;I=false}catch(e){I=true}}if(C&&!t){throw new Error("emit function is required")}if(g!==undefined&&_.mousemove===undefined){_.mousemove=g}sr.reset();const M=l===true?{color:true,date:true,"datetime-local":true,email:true,month:true,number:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true,textarea:true,select:true,password:true}:d!==undefined?d:{password:true};const P=p===true||p==="all"?{script:true,comment:true,headFavicon:true,headWhitespace:true,headMetaSocial:true,headMetaRobots:true,headMetaHttpEquiv:true,headMetaVerification:true,headMetaAuthorship:p==="all",headMetaDescKeywords:p==="all"}:p?p:{};Re();let L;let D=0;const w=e=>{for(const t of R||[]){if(t.eventProcessor){e=t.eventProcessor(e)}}if(E){e=E(e)}return e};rr=(e,o)=>{var i;if(((i=qe[0])===null||i===void 0?void 0:i.isFrozen())&&e.type!==Be.FullSnapshot&&!(e.type===Be.IncrementalSnapshot&&e.data.source===Ve.Mutation)){qe.forEach((e=>e.unfreeze()))}if(C){t===null||t===void 0?void 0:t(w(e),o)}else if(I){const t={type:"rrweb",event:w(e),isCheckout:o};window.parent.postMessage(t,"*")}if(e.type===Be.FullSnapshot){L=e;D=0}else if(e.type===Be.IncrementalSnapshot){if(e.data.source===Ve.Mutation&&e.data.isAttachIframe){return}D++;const t=n&&D>=n;const o=r&&e.timestamp-L.timestamp>r;if(t||o){nr(true)}}};const U=e=>{rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.Mutation},e)}))};const x=e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.Scroll},e)}));const B=e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.CanvasMutation},e)}));const V=e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.AdoptedStyleSheet},e)}));const k=new er({mutationCb:U,adoptedStyleSheetCb:V});const G=new vt({mirror:sr,mutationCb:U,stylesheetManager:k,recordCrossOriginIframes:A,wrappedEmit:rr});for(const e of R||[]){if(e.getMirror)e.getMirror({nodeMirror:sr,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror})}or=new Jt({recordCanvas:T,mutationCb:B,win:window,blockClass:o,blockSelector:i,mirror:sr,sampling:_.canvas,dataURLOptions:S});const F=new Ot({mutationCb:U,scrollCb:x,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:u,maskInputOptions:M,dataURLOptions:S,maskTextFn:m,maskInputFn:f,recordCanvas:T,inlineImages:O,sampling:_,slimDOMOptions:P,iframeManager:G,stylesheetManager:k,canvasManager:or,keepIframeSrcFn:N},mirror:sr});nr=(e=false)=>{var t,r,n,s,l,d;rr(tr({type:Be.Meta,data:{href:window.location.href,width:ge(),height:Se()}}),e);k.reset();qe.forEach((e=>e.lock()));const p=Z(document,{mirror:sr,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:u,maskAllInputs:M,maskTextFn:m,slimDOM:P,dataURLOptions:S,recordCanvas:T,inlineImages:O,onSerialize:e=>{if(Ce(e,sr)){G.addIframe(e)}if(Ie(e,sr)){k.trackLinkElement(e)}if(Pe(e)){F.addShadowRoot(e.shadowRoot,document)}},onIframeLoad:(e,t)=>{G.attachIframe(e,t);F.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{k.attachLinkElement(e,t)},keepIframeSrcFn:N});if(!p){return console.warn("Failed to snapshot the document")}rr(tr({type:Be.FullSnapshot,data:{node:p,initialOffset:{left:window.pageXOffset!==undefined?window.pageXOffset:(document===null||document===void 0?void 0:document.documentElement.scrollLeft)||((r=(t=document===null||document===void 0?void 0:document.body)===null||t===void 0?void 0:t.parentElement)===null||r===void 0?void 0:r.scrollLeft)||((n=document===null||document===void 0?void 0:document.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:window.pageYOffset!==undefined?window.pageYOffset:(document===null||document===void 0?void 0:document.documentElement.scrollTop)||((l=(s=document===null||document===void 0?void 0:document.body)===null||s===void 0?void 0:s.parentElement)===null||l===void 0?void 0:l.scrollTop)||((d=document===null||document===void 0?void 0:document.body)===null||d===void 0?void 0:d.scrollTop)||0}}}));qe.forEach((e=>e.unlock()));if(document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0)k.adoptStyleSheets(document.adoptedStyleSheets,sr.getId(document))};try{const e=[];e.push(fe("DOMContentLoaded",(()=>{rr(tr({type:Be.DomContentLoaded,data:{}}))})));const t=e=>{var t;return At({mutationCb:U,mousemoveCb:(e,t)=>rr(tr({type:Be.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.MouseInteraction},e)})),scrollCb:x,viewportResizeCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.ViewportResize},e)})),inputCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.Input},e)})),mediaInteractionCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.MediaInteraction},e)})),styleSheetRuleCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.StyleSheetRule},e)})),styleDeclarationCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.StyleDeclaration},e)})),canvasMutationCb:B,fontCb:e=>rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.Font},e)})),selectionCb:e=>{rr(tr({type:Be.IncrementalSnapshot,data:Object.assign({source:Ve.Selection},e)}))},blockClass:o,ignoreClass:s,maskTextClass:a,maskTextSelector:c,maskInputOptions:M,inlineStylesheet:u,sampling:_,recordCanvas:T,inlineImages:O,userTriggeredOnInput:y,collectFonts:v,doc:e,maskInputFn:f,maskTextFn:m,keepIframeSrcFn:N,blockSelector:i,slimDOMOptions:P,dataURLOptions:S,mirror:sr,iframeManager:G,stylesheetManager:k,shadowDomManager:F,canvasManager:or,ignoreCSSAttributes:b,plugins:((t=R===null||R===void 0?void 0:R.filter((e=>e.observer)))===null||t===void 0?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>rr(tr({type:Be.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},h)};G.addLoadListener((r=>{e.push(t(r.contentDocument))}));const r=()=>{nr();e.push(t(document));ir=true};if(document.readyState==="interactive"||document.readyState==="complete"){r()}else{e.push(fe("load",(()=>{rr(tr({type:Be.Load,data:{}}));r()}),window))}return()=>{e.forEach((e=>e()));ir=false}}catch(e){console.warn(e)}}ar.addCustomEvent=(e,t)=>{if(!ir){throw new Error("please add custom event after start recording")}rr(tr({type:Be.Custom,data:{tag:e,payload:t}}))};ar.freezePage=()=>{qe.forEach((e=>e.freeze()))};ar.takeFullSnapshot=e=>{if(!ir){throw new Error("please take full snapshot after start recording")}nr(e)};ar.mirror=sr;var cr;(function(e){e[e["Document"]=0]="Document";e[e["DocumentType"]=1]="DocumentType";e[e["Element"]=2]="Element";e[e["Text"]=3]="Text";e[e["CDATA"]=4]="CDATA";e[e["Comment"]=5]="Comment"})(cr||(cr={}));var ur=function(){function e(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}e.prototype.getId=function(e){var t;if(!e)return-1;var r=(t=this.getMeta(e))===null||t===void 0?void 0:t.id;return r!==null&&r!==void 0?r:-1};e.prototype.getNode=function(e){return this.idNodeMap.get(e)||null};e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())};e.prototype.getMeta=function(e){return this.nodeMetaMap.get(e)||null};e.prototype.removeNodeFromMap=function(e){var t=this;var r=this.getId(e);this.idNodeMap["delete"](r);if(e.childNodes){e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))}};e.prototype.has=function(e){return this.idNodeMap.has(e)};e.prototype.hasNode=function(e){return this.nodeMetaMap.has(e)};e.prototype.add=function(e,t){var r=t.id;this.idNodeMap.set(r,e);this.nodeMetaMap.set(e,t)};e.prototype.replace=function(e,t){var r=this.getNode(e);if(r){var n=this.nodeMetaMap.get(r);if(n)this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)};e.prototype.reset=function(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap};return e}();function lr(){return new ur}function dr(e){const t={};const r=/;(?![^(]*\))/g;const n=/:(.+)/;const o=/\/\*.*?\*\//g;e.replace(o,"").split(r).forEach((function(e){if(e){const r=e.split(n);r.length>1&&(t[hr(r[0].trim())]=r[1].trim())}}));return t}function pr(e){const t=[];for(const r in e){const n=e[r];if(typeof n!=="string")continue;const o=_r(r);t.push(`${o}: ${n};`)}return t.join(" ")}const fr=/-([a-z])/g;const mr=/^--[a-zA-Z0-9-]+$/;const hr=e=>{if(mr.test(e))return e;return e.replace(fr,((e,t)=>t?t.toUpperCase():""))};const Er=/\B([A-Z])/g;const _r=e=>e.replace(Er,"-$1").toLowerCase();class Sr{constructor(...e){this.childNodes=[];this.parentElement=null;this.parentNode=null;this.ELEMENT_NODE=br.ELEMENT_NODE;this.TEXT_NODE=br.TEXT_NODE}get firstChild(){return this.childNodes[0]||null}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get nextSibling(){const e=this.parentNode;if(!e)return null;const t=e.childNodes;const r=t.indexOf(this);return t[r+1]||null}contains(e){if(e===this)return true;for(const t of this.childNodes){if(t.contains(e))return true}return false}appendChild(e){throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`)}insertBefore(e,t){throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`)}removeChild(e){throw new Error(`RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`)}toString(){return"RRNode"}}function gr(e){return class t extends e{constructor(){super(...arguments);this.nodeType=br.DOCUMENT_NODE;this.nodeName="#document";this.compatMode="CSS1Compat";this.RRNodeType=cr.Document;this.textContent=null}get documentElement(){return this.childNodes.find((e=>e.RRNodeType===cr.Element&&e.tagName==="HTML"))||null}get body(){var e;return((e=this.documentElement)===null||e===void 0?void 0:e.childNodes.find((e=>e.RRNodeType===cr.Element&&e.tagName==="BODY")))||null}get head(){var e;return((e=this.documentElement)===null||e===void 0?void 0:e.childNodes.find((e=>e.RRNodeType===cr.Element&&e.tagName==="HEAD")))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if(t===cr.Element||t===cr.DocumentType){if(this.childNodes.some((e=>e.RRNodeType===t))){throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===cr.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`)}}e.parentElement=null;e.parentNode=this;this.childNodes.push(e);return e}insertBefore(e,t){const r=e.RRNodeType;if(r===cr.Element||r===cr.DocumentType){if(this.childNodes.some((e=>e.RRNodeType===r))){throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${r===cr.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`)}}if(t===null)return this.appendChild(e);const n=this.childNodes.indexOf(t);if(n==-1)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");this.childNodes.splice(n,0,e);e.parentElement=null;e.parentNode=this;return e}removeChild(e){const t=this.childNodes.indexOf(e);if(t===-1)throw new Error("Failed to execute 'removeChild' on 'RRDocument': The RRNode to be removed is not a child of this RRNode.");this.childNodes.splice(t,1);e.parentElement=null;e.parentNode=null;return e}open(){this.childNodes=[]}close(){}write(e){let t;if(e==='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">')t="-//W3C//DTD XHTML 1.0 Transitional//EN";else if(e==='<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')t="-//W3C//DTD HTML 4.0 Transitional//EN";if(t){const e=this.createDocumentType("html",t,"");this.open();this.appendChild(e)}}createDocument(e,r,n){return new t}createDocumentType(e,t,r){const n=new(Tr(Sr))(e,t,r);n.ownerDocument=this;return n}createElement(e){const t=new(Ar(Sr))(e);t.ownerDocument=this;return t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new(vr(Sr))(e);t.ownerDocument=this;return t}createComment(e){const t=new(Or(Sr))(e);t.ownerDocument=this;return t}createCDATASection(e){const t=new(Rr(Sr))(e);t.ownerDocument=this;return t}toString(){return"RRDocument"}}}function Tr(e){return class t extends e{constructor(e,t,r){super();this.nodeType=br.DOCUMENT_TYPE_NODE;this.RRNodeType=cr.DocumentType;this.textContent=null;this.name=e;this.publicId=t;this.systemId=r;this.nodeName=e}toString(){return"RRDocumentType"}}}function Ar(e){return class t extends e{constructor(e){super();this.nodeType=br.ELEMENT_NODE;this.RRNodeType=cr.Element;this.attributes={};this.shadowRoot=null;this.tagName=e.toUpperCase();this.nodeName=e.toUpperCase()}get textContent(){let e="";this.childNodes.forEach((t=>e+=t.textContent));return e}set textContent(e){this.childNodes=[this.ownerDocument.createTextNode(e)]}get classList(){return new Nr(this.attributes.class,(e=>{this.attributes.class=e}))}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?dr(this.attributes.style):{};const t=/\B([A-Z])/g;e.setProperty=(r,n,o)=>{if(t.test(r))return;const i=hr(r);if(!n)delete e[i];else e[i]=n;if(o==="important")e[i]+=" !important";this.attributes.style=pr(e)};e.removeProperty=r=>{if(t.test(r))return"";const n=hr(r);const o=e[n]||"";delete e[n];this.attributes.style=pr(e);return o};return e}getAttribute(e){return this.attributes[e]||null}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,r){this.setAttribute(t,r)}removeAttribute(e){delete this.attributes[e]}appendChild(e){this.childNodes.push(e);e.parentNode=this;e.parentElement=this;return e}insertBefore(e,t){if(t===null)return this.appendChild(e);const r=this.childNodes.indexOf(t);if(r==-1)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");this.childNodes.splice(r,0,e);e.parentElement=this;e.parentNode=this;return e}removeChild(e){const t=this.childNodes.indexOf(e);if(t===-1)throw new Error("Failed to execute 'removeChild' on 'RRElement': The RRNode to be removed is not a child of this RRNode.");this.childNodes.splice(t,1);e.parentElement=null;e.parentNode=null;return e}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");this.shadowRoot=t;return t}dispatchEvent(e){return true}toString(){let e="";for(const t in this.attributes){e+=`${t}="${this.attributes[t]}" `}return`${this.tagName} ${e}`}}}function yr(e){return class t extends e{attachShadow(e){throw new Error(`RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow`)}play(){this.paused=false}pause(){this.paused=true}}}function vr(e){return class t extends e{constructor(e){super();this.nodeType=br.TEXT_NODE;this.nodeName="#text";this.RRNodeType=cr.Text;this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}}function Or(e){return class t extends e{constructor(e){super();this.nodeType=br.COMMENT_NODE;this.nodeName="#comment";this.RRNodeType=cr.Comment;this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}}function Rr(e){return class t extends e{constructor(e){super();this.nodeName="#cdata-section";this.nodeType=br.CDATA_SECTION_NODE;this.RRNodeType=cr.CDATA;this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}}class Nr{constructor(e,t){this.classes=[];this.add=(...e)=>{for(const t of e){const e=String(t);if(this.classes.indexOf(e)>=0)continue;this.classes.push(e)}this.onChange&&this.onChange(this.classes.join(" "))};this.remove=(...e)=>{this.classes=this.classes.filter((t=>e.indexOf(t)===-1));this.onChange&&this.onChange(this.classes.join(" "))};if(e){const t=e.trim().split(/\s+/);this.classes.push(...t)}this.onChange=t}}var br;(function(e){e[e["PLACEHOLDER"]=0]="PLACEHOLDER";e[e["ELEMENT_NODE"]=1]="ELEMENT_NODE";e[e["ATTRIBUTE_NODE"]=2]="ATTRIBUTE_NODE";e[e["TEXT_NODE"]=3]="TEXT_NODE";e[e["CDATA_SECTION_NODE"]=4]="CDATA_SECTION_NODE";e[e["ENTITY_REFERENCE_NODE"]=5]="ENTITY_REFERENCE_NODE";e[e["ENTITY_NODE"]=6]="ENTITY_NODE";e[e["PROCESSING_INSTRUCTION_NODE"]=7]="PROCESSING_INSTRUCTION_NODE";e[e["COMMENT_NODE"]=8]="COMMENT_NODE";e[e["DOCUMENT_NODE"]=9]="DOCUMENT_NODE";e[e["DOCUMENT_TYPE_NODE"]=10]="DOCUMENT_TYPE_NODE";e[e["DOCUMENT_FRAGMENT_NODE"]=11]="DOCUMENT_FRAGMENT_NODE"})(br||(br={}));const Cr={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"};const Ir={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function Mr(e,t,r,n){const o=e.childNodes;const i=t.childNodes;n=n||t.mirror||t.ownerDocument.mirror;if(o.length>0||i.length>0){Lr(Array.from(o),i,e,r,n)}let s=null,a=null;switch(t.RRNodeType){case cr.Document:{const e=t;a=e.scrollData;break}case cr.Element:{const o=e;const i=t;Pr(o,i,n);a=i.scrollData;s=i.inputData;switch(i.tagName){case"AUDIO":case"VIDEO":{const t=e;const r=i;if(r.paused!==undefined)r.paused?void t.pause():void t.play();if(r.muted!==undefined)t.muted=r.muted;if(r.volume!==undefined)t.volume=r.volume;if(r.currentTime!==undefined)t.currentTime=r.currentTime;if(r.playbackRate!==undefined)t.playbackRate=r.playbackRate;break}case"CANVAS":{const n=t;if(n.rr_dataURL!==null){const e=document.createElement("img");e.onload=()=>{const t=o.getContext("2d");if(t){t.drawImage(e,0,0,e.width,e.height)}};e.src=n.rr_dataURL}n.canvasMutations.forEach((t=>r.applyCanvas(t.event,t.mutation,e)))}break;case"STYLE":{const e=o.sheet;e&&t.rules.forEach((t=>r.applyStyleSheetMutation(t,e)))}break}if(i.shadowRoot){if(!o.shadowRoot)o.attachShadow({mode:"open"});const e=o.shadowRoot.childNodes;const t=i.shadowRoot.childNodes;if(e.length>0||t.length>0)Lr(Array.from(e),t,o.shadowRoot,r,n)}break}case cr.Text:case cr.Comment:case cr.CDATA:if(e.textContent!==t.data)e.textContent=t.data;break}a&&r.applyScroll(a,true);s&&r.applyInput(s);if(t.nodeName==="IFRAME"){const o=e.contentDocument;const i=t;if(o){const e=n.getMeta(i.contentDocument);if(e){r.mirror.add(o,Object.assign({},e))}Mr(o,i.contentDocument,r,n)}}}function Pr(e,t,r){const n=e.attributes;const o=t.attributes;for(const n in o){const i=o[n];const s=r.getMeta(t);if(s&&"isSVG"in s&&s.isSVG&&Cr[n])e.setAttributeNS(Cr[n],n,i);else if(t.tagName==="CANVAS"&&n==="rr_dataURL"){const t=document.createElement("img");t.src=i;t.onload=()=>{const r=e.getContext("2d");if(r){r.drawImage(t,0,0,t.width,t.height)}}}else e.setAttribute(n,i)}for(const{name:t}of Array.from(n))if(!(t in o))e.removeAttribute(t);t.scrollLeft&&(e.scrollLeft=t.scrollLeft);t.scrollTop&&(e.scrollTop=t.scrollTop)}function Lr(e,t,r,n,o){var i;let s=0,a=e.length-1,c=0,u=t.length-1;let l=e[s],d=e[a],p=t[c],f=t[u];let m=undefined,h;while(s<=a&&c<=u){const E=n.mirror.getId(l);const _=n.mirror.getId(d);const S=o.getId(p);const g=o.getId(f);if(l===undefined){l=e[++s]}else if(d===undefined){d=e[--a]}else if(E!==-1&&E===S){Mr(l,p,n,o);l=e[++s];p=t[++c]}else if(_!==-1&&_===g){Mr(d,f,n,o);d=e[--a];f=t[--u]}else if(E!==-1&&E===g){r.insertBefore(l,d.nextSibling);Mr(l,f,n,o);l=e[++s];f=t[--u]}else if(_!==-1&&_===S){r.insertBefore(d,l);Mr(d,p,n,o);d=e[--a];p=t[++c]}else{if(!m){m={};for(let t=s;t<=a;t++){const r=e[t];if(r&&n.mirror.hasNode(r))m[n.mirror.getId(r)]=t}}h=m[o.getId(p)];if(h){const t=e[h];r.insertBefore(t,l);Mr(t,p,n,o);e[h]=undefined}else{const t=Dr(p,n.mirror,o);if(r.nodeName==="#document"&&((i=n.mirror.getMeta(t))===null||i===void 0?void 0:i.type)===cr.Element&&r.documentElement){r.removeChild(r.documentElement);e[s]=undefined;l=undefined}r.insertBefore(t,l||null);Mr(t,p,n,o)}p=t[++c]}}if(s>a){const e=t[u+1];let i=null;if(e)r.childNodes.forEach((t=>{if(n.mirror.getId(t)===o.getId(e))i=t}));for(;c<=u;++c){const e=Dr(t[c],n.mirror,o);r.insertBefore(e,i);Mr(e,t[c],n,o)}}else if(c>u){for(;s<=a;s++){const t=e[s];if(t){r.removeChild(t);n.mirror.removeNodeFromMap(t)}}}}function Dr(e,t,r){const n=r.getId(e);const o=r.getMeta(e);let i=null;if(n>-1)i=t.getNode(n);if(i!==null)return i;switch(e.RRNodeType){case cr.Document:i=new Document;break;case cr.DocumentType:i=document.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case cr.Element:{let t=e.tagName.toLowerCase();t=Ir[t]||t;if(o&&"isSVG"in o&&(o===null||o===void 0?void 0:o.isSVG)){i=document.createElementNS(Cr["svg"],t)}else i=document.createElement(e.tagName);break}case cr.Text:i=document.createTextNode(e.data);break;case cr.Comment:i=document.createComment(e.data);break;case cr.CDATA:i=document.createCDATASection(e.data);break}if(o)t.add(i,Object.assign({},o));return i}class wr extends(gr(Sr)){constructor(e){super();this.UNSERIALIZED_STARTING_ID=-2;this._unserializedId=this.UNSERIALIZED_STARTING_ID;this.mirror=Xr();this.scrollData=null;if(e){this.mirror=e}}get unserializedId(){return this._unserializedId--}createDocument(e,t,r){return new wr}createDocumentType(e,t,r){const n=new Ur(e,t,r);n.ownerDocument=this;return n}createElement(e){const t=e.toUpperCase();let r;switch(t){case"AUDIO":case"VIDEO":r=new Br(t);break;case"IFRAME":r=new Gr(t,this.mirror);break;case"CANVAS":r=new Vr(t);break;case"STYLE":r=new kr(t);break;default:r=new xr(t);break}r.ownerDocument=this;return r}createComment(e){const t=new Hr(e);t.ownerDocument=this;return t}createCDATASection(e){const t=new jr(e);t.ownerDocument=this;return t}createTextNode(e){const t=new Fr(e);t.ownerDocument=this;return t}destroyTree(){this.childNodes=[];this.mirror.reset()}open(){super.open();this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const Ur=Tr(Sr);class xr extends(Ar(Sr)){constructor(){super(...arguments);this.inputData=null;this.scrollData=null}}class Br extends(yr(xr)){}class Vr extends xr{constructor(){super(...arguments);this.rr_dataURL=null;this.canvasMutations=[]}getContext(){return null}}class kr extends xr{constructor(){super(...arguments);this.rules=[]}}class Gr extends xr{constructor(e,t){super(e);this.contentDocument=new wr;this.contentDocument.mirror=t}}const Fr=vr(Sr);const Hr=Or(Sr);const jr=Rr(Sr);function Yr(e){if(e instanceof HTMLFormElement){return"FORM"}return e.tagName.toUpperCase()}function Wr(e,t,r,n){let o;switch(e.nodeType){case br.DOCUMENT_NODE:if(n&&n.nodeName==="IFRAME")o=n.contentDocument;else{o=t;o.compatMode=e.compatMode}break;case br.DOCUMENT_TYPE_NODE:{const r=e;o=t.createDocumentType(r.name,r.publicId,r.systemId);break}case br.ELEMENT_NODE:{const r=e;const n=Yr(r);o=t.createElement(n);const i=o;for(const{name:e,value:t}of Array.from(r.attributes)){i.attributes[e]=t}r.scrollLeft&&(i.scrollLeft=r.scrollLeft);r.scrollTop&&(i.scrollTop=r.scrollTop);break}case br.TEXT_NODE:o=t.createTextNode(e.textContent||"");break;case br.CDATA_SECTION_NODE:o=t.createCDATASection(e.data);break;case br.COMMENT_NODE:o=t.createComment(e.textContent||"");break;case br.DOCUMENT_FRAGMENT_NODE:o=n.attachShadow({mode:"open"});break;default:return null}let i=r.getMeta(e);if(t instanceof wr){if(!i){i=$r(o,t.unserializedId);r.add(e,i)}t.mirror.add(o,Object.assign({},i))}return o}function Kr(e,t=lr(),r=new wr){function n(e,o){const i=Wr(e,r,t,o);if(i===null)return;if((o===null||o===void 0?void 0:o.nodeName)!=="IFRAME"&&e.nodeType!==br.DOCUMENT_FRAGMENT_NODE){o===null||o===void 0?void 0:o.appendChild(i);i.parentNode=o;i.parentElement=o}if(e.nodeName==="IFRAME"){const t=e.contentDocument;t&&n(t,i)}else if(e.nodeType===br.DOCUMENT_NODE||e.nodeType===br.ELEMENT_NODE||e.nodeType===br.DOCUMENT_FRAGMENT_NODE){if(e.nodeType===br.ELEMENT_NODE&&e.shadowRoot)n(e.shadowRoot,i);e.childNodes.forEach((e=>n(e,i)))}}n(e,null);return r}function Xr(){return new zr}class zr{constructor(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const r=(t=this.getMeta(e))===null||t===void 0?void 0:t.id;return r!==null&&r!==void 0?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t);if(e.childNodes){e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e);this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);if(e)this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}}function $r(e,t){switch(e.RRNodeType){case cr.Document:return{id:t,type:e.RRNodeType,childNodes:[]};case cr.DocumentType:{const r=e;return{id:t,type:e.RRNodeType,name:r.name,publicId:r.publicId,systemId:r.systemId}}case cr.Element:return{id:t,type:e.RRNodeType,tagName:e.tagName.toLowerCase(),attributes:{},childNodes:[]};case cr.Text:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case cr.Comment:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case cr.CDATA:return{id:t,type:e.RRNodeType,textContent:""}}}function Zr(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}}var qr=Object.freeze({__proto__:null,default:Zr});function Qr(e=window,t=document){if("scrollBehavior"in t.documentElement.style&&e.__forceSmoothScrollPolyfill__!==true){return}const r=e.HTMLElement||e.Element;const n=468;const o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||c,scrollIntoView:r.prototype.scrollIntoView};const i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;function s(e){const t=["MSIE ","Trident/","Edge/"];return new RegExp(t.join("|")).test(e)}const a=s(e.navigator.userAgent)?1:0;function c(e,t){this.scrollLeft=e;this.scrollTop=t}function u(e){return.5*(1-Math.cos(Math.PI*e))}function l(e){if(e===null||typeof e!=="object"||e.behavior===undefined||e.behavior==="auto"||e.behavior==="instant"){return true}if(typeof e==="object"&&e.behavior==="smooth"){return false}throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(e,t){if(t==="Y"){return e.clientHeight+a<e.scrollHeight}if(t==="X"){return e.clientWidth+a<e.scrollWidth}}function p(t,r){const n=e.getComputedStyle(t,null)["overflow"+r];return n==="auto"||n==="scroll"}function f(e){const t=d(e,"Y")&&p(e,"Y");const r=d(e,"X")&&p(e,"X");return t||r}function m(e){while(e!==t.body&&f(e)===false){e=e.parentNode||e.host}return e}function h(t){const r=i();let o;let s;let a;let c=(r-t.startTime)/n;c=c>1?1:c;o=u(c);s=t.startX+(t.x-t.startX)*o;a=t.startY+(t.y-t.startY)*o;t.method.call(t.scrollable,s,a);if(s!==t.x||a!==t.y){e.requestAnimationFrame(h.bind(e,t))}}function E(r,n,s){let a;let u;let l;let d;const p=i();if(r===t.body){a=e;u=e.scrollX||e.pageXOffset;l=e.scrollY||e.pageYOffset;d=o.scroll}else{a=r;u=r.scrollLeft;l=r.scrollTop;d=c}h({scrollable:a,method:d,startTime:p,startX:u,startY:l,x:n,y:s})}e.scroll=e.scrollTo=function(){if(arguments[0]===undefined){return}if(l(arguments[0])===true){o.scroll.call(e,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!=="object"?arguments[0]:e.scrollX||e.pageXOffset,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:e.scrollY||e.pageYOffset);return}E.call(e,t.body,arguments[0].left!==undefined?~~arguments[0].left:e.scrollX||e.pageXOffset,arguments[0].top!==undefined?~~arguments[0].top:e.scrollY||e.pageYOffset)};e.scrollBy=function(){if(arguments[0]===undefined){return}if(l(arguments[0])){o.scrollBy.call(e,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!=="object"?arguments[0]:0,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:0);return}E.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))};r.prototype.scroll=r.prototype.scrollTo=function(){if(arguments[0]===undefined){return}if(l(arguments[0])===true){if(typeof arguments[0]==="number"&&arguments[1]===undefined){throw new SyntaxError("Value could not be converted")}o.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left:typeof arguments[0]!=="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top:arguments[1]!==undefined?~~arguments[1]:this.scrollTop);return}const e=arguments[0].left;const t=arguments[0].top;E.call(this,this,typeof e==="undefined"?this.scrollLeft:~~e,typeof t==="undefined"?this.scrollTop:~~t)};r.prototype.scrollBy=function(){if(arguments[0]===undefined){return}if(l(arguments[0])===true){o.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})};r.prototype.scrollIntoView=function(){if(l(arguments[0])===true){o.scrollIntoView.call(this,arguments[0]===undefined?true:arguments[0]);return}const r=m(this);const n=r.getBoundingClientRect();const i=this.getBoundingClientRect();if(r!==t.body){E.call(this,r,r.scrollLeft+i.left-n.left,r.scrollTop+i.top-n.top);if(e.getComputedStyle(r).position!=="fixed"){e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}}else{e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}}class Jr{constructor(e=[],t){this.timeOffset=0;this.raf=null;this.actions=e;this.speed=t.speed;this.liveMode=t.liveMode}addAction(e){if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay){this.actions.push(e);return}const t=this.findActionIndex(e);this.actions.splice(t,0,e)}start(){this.timeOffset=0;let e=performance.now();const t=()=>{const r=performance.now();this.timeOffset+=(r-e)*this.speed;e=r;while(this.actions.length){const e=this.actions[0];if(this.timeOffset>=e.delay){this.actions.shift();e.doAction()}else{break}}if(this.actions.length>0||this.liveMode){this.raf=requestAnimationFrame(t)}};this.raf=requestAnimationFrame(t)}clear(){if(this.raf){cancelAnimationFrame(this.raf);this.raf=null}this.actions.length=0}setSpeed(e){this.speed=e}toggleLiveMode(e){this.liveMode=e}isActive(){return this.raf!==null}findActionIndex(e){let t=0;let r=this.actions.length-1;while(t<=r){const n=Math.floor((t+r)/2);if(this.actions[n].delay<e.delay){t=n+1}else if(this.actions[n].delay>e.delay){r=n-1}else{return n+1}}return t}}function en(e,t){if(e.type===Be.IncrementalSnapshot&&e.data.source===Ve.MouseMove&&e.data.positions&&e.data.positions.length){const r=e.data.positions[0].timeOffset;const n=e.timestamp+r;e.delay=n-t;return n-t}e.delay=e.timestamp-t;return e.delay}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tn(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var rn;!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(rn||(rn={}));var nn={type:"xstate.init"};function on(e){return void 0===e?[]:[].concat(e)}function sn(e){return{type:"xstate.assign",assignment:e}}function an(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function cn(e){return function(t){return e===t}}function un(e){return"string"==typeof e?{type:e}:e}function ln(e,t){return{value:e,context:t,actions:[],changed:!1,matches:cn(e)}}function dn(e,t,r){var n=t,o=!1;return[e.filter((function(e){if("xstate.assign"===e.type){o=!0;var t=Object.assign({},n);return"function"==typeof e.assignment?t=e.assignment(n,r):Object.keys(e.assignment).forEach((function(o){t[o]="function"==typeof e.assignment[o]?e.assignment[o](n,r):e.assignment[o]})),n=t,!1}return!0})),n,o]}function pn(e,t){void 0===t&&(t={});var r=tn(dn(on(e.states[e.initial].entry).map((function(e){return an(e,t.actions)})),e.context,nn),2),n=r[0],o=r[1],i={config:e,_options:t,initialState:{value:e.initial,actions:n,context:o,matches:cn(e.initial)},transition:function(t,r){var n,o,s="string"==typeof t?{value:t,context:e.context}:t,a=s.value,c=s.context,u=un(r),l=e.states[a];if(l.on){var d=on(l.on[u.type]);try{for(var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),f=p.next();!f.done;f=p.next()){var m=f.value;if(void 0===m)return ln(a,c);var h="string"==typeof m?{target:m}:m,E=h.target,_=h.actions,S=void 0===_?[]:_,g=h.cond,T=void 0===g?function(){return!0}:g,A=void 0===E,y=null!=E?E:a,v=e.states[y];if(T(c,u)){var O=tn(dn((A?on(S):[].concat(l.exit,S,v.entry).filter((function(e){return e}))).map((function(e){return an(e,i._options.actions)})),c,u),3),R=O[0],N=O[1],b=O[2],C=null!=E?E:a;return{value:C,context:N,actions:R,changed:E!==a||R.length>0||b,matches:cn(C)}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}return ln(a,c)}};return i}var fn=function(e,t){return e.actions.forEach((function(r){var n=r.exec;return n&&n(e.context,t)}))};function mn(e){var t=e.initialState,r=rn.NotStarted,n=new Set,o={_machine:e,send:function(o){r===rn.Running&&(t=e.transition(t,o),fn(t,un(o)),n.forEach((function(e){return e(t)})))},subscribe:function(e){return n.add(e),e(t),{unsubscribe:function(){return n.delete(e)}}},start:function(n){if(n){var i="object"==typeof n?n:{context:e.config.context,value:n};t={value:i.value,actions:[],context:i.context,matches:cn(i.value)}}return r=rn.Running,fn(t,nn),o},stop:function(){return r=rn.Stopped,n.clear(),o},get state(){return t},get status(){return r}};return o}function hn(e,t){for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.type===Be.Meta){if(n.timestamp<=t){return e.slice(r)}}}return e}function En(e,{getCastFn:t,applyEventsSynchronously:r,emitter:n}){const o=pn({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:sn({lastPlayedEvent:(e,t)=>{if(t.type==="CAST_EVENT"){return t.payload.event}return e.lastPlayedEvent}}),recordTimeOffset:sn(((e,t)=>{let r=e.timeOffset;if("payload"in t&&"timeOffset"in t.payload){r=t.payload.timeOffset}return Object.assign(Object.assign({},e),{timeOffset:r,baselineTime:e.events[0].timestamp+r})})),play(e){var o;const{timer:i,events:s,baselineTime:a,lastPlayedEvent:c}=e;i.clear();for(const e of s){en(e,a)}const u=hn(s,a);let l=c===null||c===void 0?void 0:c.timestamp;if((c===null||c===void 0?void 0:c.type)===Be.IncrementalSnapshot&&c.data.source===Ve.MouseMove){l=c.timestamp+((o=c.data.positions[0])===null||o===void 0?void 0:o.timeOffset)}if(a<(l||0)){n.emit(Fe.PlayBack)}const d=new Array;for(const e of u){if(l&&l<a&&(e.timestamp<=l||e===c)){continue}if(e.timestamp<a){d.push(e)}else{const r=t(e,false);i.addAction({doAction:()=>{r()},delay:e.delay})}}r(d);n.emit(Fe.Flush);i.start()},pause(e){e.timer.clear()},resetLastPlayedEvent:sn((e=>Object.assign(Object.assign({},e),{lastPlayedEvent:null}))),startLive:sn({baselineTime:(e,t)=>{e.timer.toggleLiveMode(true);e.timer.start();if(t.type==="TO_LIVE"&&t.payload.baselineTime){return t.payload.baselineTime}return Date.now()}}),addEvent:sn(((e,r)=>{const{baselineTime:n,timer:o,events:i}=e;if(r.type==="ADD_EVENT"){const{event:e}=r.payload;en(e,n);let s=i.length-1;if(!i[s]||i[s].timestamp<=e.timestamp){i.push(e)}else{let t=-1;let r=0;while(r<=s){const t=Math.floor((r+s)/2);if(i[t].timestamp<=e.timestamp){r=t+1}else{s=t-1}}if(t===-1){t=r}i.splice(t,0,e)}const a=e.timestamp<n;const c=t(e,a);if(a){c()}else if(o.isActive()){o.addAction({doAction:()=>{c()},delay:e.delay})}}return Object.assign(Object.assign({},e),{events:i})}))}});return mn(o)}function _n(e){const t=pn({id:"speed",context:e,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(e,t)=>{if("payload"in t){e.timer.setSpeed(t.payload.speed)}},recordSpeed:sn({normalSpeed:e=>e.timer.speed}),restoreSpeed:e=>{e.timer.setSpeed(e.normalSpeed)}}});return mn(t)}const Sn=e=>[`.${e} { background: currentColor }`,"noscript { display: none !important; }"];const gn=new Map;function Tn(e,t){let r=gn.get(e);if(!r){r=new Map;gn.set(e,r)}if(!r.has(t)){r.set(t,[])}return r.get(t)}function An(e,t,r){return n=>Nt(this,void 0,void 0,(function*(){if(n&&typeof n==="object"&&"rr_type"in n){if(r)r.isUnchanged=false;if(n.rr_type==="ImageBitmap"&&"args"in n){const o=yield An(e,t,r)(n.args);return yield createImageBitmap.apply(null,o)}else if("index"in n){if(r||t===null)return n;const{rr_type:e,index:o}=n;return Tn(t,e)[o]}else if("args"in n){const{rr_type:o,args:i}=n;const s=window[o];return new s(...yield Promise.all(i.map(An(e,t,r))))}else if("base64"in n){return Pt(n.base64)}else if("src"in n){const t=e.get(n.src);if(t){return t}else{const t=new Image;t.src=n.src;e.set(n.src,t);return t}}else if("data"in n&&n.rr_type==="Blob"){const o=yield Promise.all(n.data.map(An(e,t,r)));const i=new Blob(o,{type:n.type});return i}}else if(Array.isArray(n)){const o=yield Promise.all(n.map(An(e,t,r)));return o}return n}))}function yn(e,t){try{if(t===Ge.WebGL){return e.getContext("webgl")||e.getContext("experimental-webgl")}return e.getContext("webgl2")}catch(e){return null}}const vn=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function On(e,t){if(!(t===null||t===void 0?void 0:t.constructor))return;const{name:r}=t.constructor;if(!vn.includes(r))return;const n=Tn(e,r);if(!n.includes(t))n.push(t)}function Rn({mutation:e,target:t,type:r,imageMap:n,errorHandler:o}){return Nt(this,void 0,void 0,(function*(){try{const o=yn(t,r);if(!o)return;if(e.setter){o[e.property]=e.args[0];return}const i=o[e.property];const s=yield Promise.all(e.args.map(An(n,o)));const a=i.apply(o,s);On(o,a);const c=false;if(c);}catch(t){o(e,t)}}))}function Nn({event:e,mutation:t,target:r,imageMap:n,errorHandler:o}){return Nt(this,void 0,void 0,(function*(){try{const o=r.getContext("2d");if(t.setter){o[t.property]=t.args[0];return}const i=o[t.property];if(t.property==="drawImage"&&typeof t.args[0]==="string"){n.get(e);i.apply(o,t.args)}else{const e=yield Promise.all(t.args.map(An(n,o)));i.apply(o,e)}}catch(e){o(t,e)}}))}function bn({event:e,mutation:t,target:r,imageMap:n,canvasEventMap:o,errorHandler:i}){return Nt(this,void 0,void 0,(function*(){try{const s=o.get(e)||t;const a="commands"in s?s.commands:[s];if([Ge.WebGL,Ge.WebGL2].includes(t.type)){for(let e=0;e<a.length;e++){const o=a[e];yield Rn({mutation:o,type:t.type,target:r,imageMap:n,errorHandler:i})}return}for(let t=0;t<a.length;t++){const o=a[t];yield Nn({event:e,mutation:o,target:r,imageMap:n,errorHandler:i})}}catch(e){i(t,e)}}))}const Cn=10*1e3;const In=5*1e3;const Mn=Zr||qr;const Pn="[replayer]";const Ln={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function Dn(e){return e.type==Be.IncrementalSnapshot&&(e.data.source==Ve.TouchMove||e.data.source==Ve.MouseInteraction&&e.data.type==ke.TouchStart)}class wn{constructor(e,t){this.usingVirtualDom=false;this.virtualDom=new wr;this.mouseTail=null;this.tailPositions=[];this.emitter=Mn();this.legacy_missingNodeRetryMap={};this.cache=ae();this.imageMap=new Map;this.canvasEventMap=new Map;this.mirror=m();this.styleMirror=new Ue;this.firstFullSnapshot=null;this.newDocumentQueue=[];this.mousePos=null;this.touchActive=null;this.lastSelectionData=null;this.constructedStyleMutations=[];this.adoptedStyleSheets=[];this.handleResize=e=>{this.iframe.style.display="inherit";for(const t of[this.mouseTail,this.iframe]){if(!t){continue}t.setAttribute("width",String(e.width));t.setAttribute("height",String(e.height))}};this.applyEventsSynchronously=e=>{for(const t of e){switch(t.type){case Be.DomContentLoaded:case Be.Load:case Be.Custom:continue;case Be.FullSnapshot:case Be.Meta:case Be.Plugin:case Be.IncrementalSnapshot:break}const e=this.getCastFn(t,true);e()}if(this.touchActive===true){this.mouse.classList.add("touch-active")}else if(this.touchActive===false){this.mouse.classList.remove("touch-active")}this.touchActive=null};this.getCastFn=(e,t=false)=>{let r;switch(e.type){case Be.DomContentLoaded:case Be.Load:break;case Be.Custom:r=()=>{this.emitter.emit(Fe.CustomEvent,e)};break;case Be.Meta:r=()=>this.emitter.emit(Fe.Resize,{width:e.data.width,height:e.data.height});break;case Be.FullSnapshot:r=()=>{var r;if(this.firstFullSnapshot){if(this.firstFullSnapshot===e){this.firstFullSnapshot=true;return}}else{this.firstFullSnapshot=true}this.rebuildFullSnapshot(e,t);(r=this.iframe.contentWindow)===null||r===void 0?void 0:r.scrollTo(e.data.initialOffset);this.styleMirror.reset()};break;case Be.IncrementalSnapshot:r=()=>{this.applyIncremental(e,t);if(t){return}if(e===this.nextUserInteractionEvent){this.nextUserInteractionEvent=null;this.backToNormal()}if(this.config.skipInactive&&!this.nextUserInteractionEvent){for(const t of this.service.state.context.events){if(t.timestamp<=e.timestamp){continue}if(this.isUserInteraction(t)){if(t.delay-e.delay>Cn*this.speedService.state.context.timer.speed){this.nextUserInteractionEvent=t}break}}if(this.nextUserInteractionEvent){const t=this.nextUserInteractionEvent.delay-e.delay;const r={speed:Math.min(Math.round(t/In),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:r});this.emitter.emit(Fe.SkipStart,r)}}};break}const n=()=>{if(r){r()}for(const r of this.config.plugins||[]){if(r.handler)r.handler(e,t,{replayer:this})}this.service.send({type:"CAST_EVENT",payload:{event:e}});const n=this.service.state.context.events.length-1;if(e===this.service.state.context.events[n]){const t=()=>{if(n<this.service.state.context.events.length-1){return}this.backToNormal();this.service.send("END");this.emitter.emit(Fe.Finish)};if(e.type===Be.IncrementalSnapshot&&e.data.source===Ve.MouseMove&&e.data.positions.length){setTimeout((()=>{t()}),Math.max(0,-e.data.positions[0].timeOffset+50))}else{t()}}this.emitter.emit(Fe.EventCast,e)};return n};if(!(t===null||t===void 0?void 0:t.liveMode)&&e.length<2){throw new Error("Replayer need at least 2 events.")}const r={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:false,showWarning:true,showDebug:false,blockClass:"rr-block",liveMode:false,insertStyleRules:[],triggerFocus:true,UNSAFE_replayCanvas:false,pauseAnimation:true,mouseTail:Ln,useVirtualDom:true};this.config=Object.assign({},r,t);this.handleResize=this.handleResize.bind(this);this.getCastFn=this.getCastFn.bind(this);this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this);this.emitter.on(Fe.Resize,this.handleResize);this.setupDom();for(const e of this.config.plugins||[]){if(e.getMirror)e.getMirror({nodeMirror:this.mirror})}this.emitter.on(Fe.Flush,(()=>{if(this.usingVirtualDom){const e={mirror:this.mirror,applyCanvas:(e,t,r)=>{void bn({event:e,mutation:t,target:r,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(e,t)=>{if(e.source===Ve.StyleSheetRule)this.applyStyleSheetRule(e,t);else if(e.source===Ve.StyleDeclaration)this.applyStyleDeclaration(e,t)}};this.iframe.contentDocument&&Mr(this.iframe.contentDocument,this.virtualDom,e,this.virtualDom.mirror);this.virtualDom.destroyTree();this.usingVirtualDom=false;if(Object.keys(this.legacy_missingNodeRetryMap).length){for(const t in this.legacy_missingNodeRetryMap){try{const r=this.legacy_missingNodeRetryMap[t];const n=Dr(r.node,this.mirror,this.virtualDom.mirror);Mr(n,r.node,e,this.virtualDom.mirror);r.node=n}catch(e){if(this.config.showWarning){console.warn(e)}}}}this.constructedStyleMutations.forEach((e=>{this.applyStyleSheetMutation(e)}));this.constructedStyleMutations=[];this.adoptedStyleSheets.forEach((e=>{this.applyAdoptedStyleSheet(e)}));this.adoptedStyleSheets=[]}if(this.mousePos){this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,true,this.mousePos.debugData);this.mousePos=null}if(this.lastSelectionData){this.applySelection(this.lastSelectionData);this.lastSelectionData=null}}));this.emitter.on(Fe.PlayBack,(()=>{this.firstFullSnapshot=null;this.mirror.reset();this.styleMirror.reset()}));const n=new Jr([],{speed:this.config.speed,liveMode:this.config.liveMode});this.service=En({events:e.map((e=>{if(t&&t.unpackFn){return t.unpackFn(e)}return e})).sort(((e,t)=>e.timestamp-t.timestamp)),timer:n,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter});this.service.start();this.service.subscribe((e=>{this.emitter.emit(Fe.StateChange,{player:e})}));this.speedService=_n({normalSpeed:-1,timer:n});this.speedService.start();this.speedService.subscribe((e=>{this.emitter.emit(Fe.StateChange,{speed:e})}));const o=this.service.state.context.events.find((e=>e.type===Be.Meta));const i=this.service.state.context.events.find((e=>e.type===Be.FullSnapshot));if(o){const{width:e,height:t}=o.data;setTimeout((()=>{this.emitter.emit(Fe.Resize,{width:e,height:t})}),0)}if(i){setTimeout((()=>{var e;if(this.firstFullSnapshot){return}this.firstFullSnapshot=i;this.rebuildFullSnapshot(i);(e=this.iframe.contentWindow)===null||e===void 0?void 0:e.scrollTo(i.data.initialOffset)}),1)}if(this.service.state.context.events.find(Dn)){this.mouse.classList.add("touch-device")}}get timer(){return this.service.state.context.timer}on(e,t){this.emitter.on(e,t);return this}off(e,t){this.emitter.off(e,t);return this}setConfig(e){Object.keys(e).forEach((t=>{e[t];this.config[t]=e[t]}));if(!this.config.skipInactive){this.backToNormal()}if(typeof e.speed!=="undefined"){this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}})}if(typeof e.mouseTail!=="undefined"){if(e.mouseTail===false){if(this.mouseTail){this.mouseTail.style.display="none"}}else{if(!this.mouseTail){this.mouseTail=document.createElement("canvas");this.mouseTail.width=Number.parseFloat(this.iframe.width);this.mouseTail.height=Number.parseFloat(this.iframe.height);this.mouseTail.classList.add("replayer-mouse-tail");this.wrapper.insertBefore(this.mouseTail,this.iframe)}this.mouseTail.style.display="inherit"}}}getMetaData(){const e=this.service.state.context.events[0];const t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,r;if(this.service.state.matches("paused")){this.service.send({type:"PLAY",payload:{timeOffset:e}})}else{this.service.send({type:"PAUSE"});this.service.send({type:"PLAY",payload:{timeOffset:e}})}(r=(t=this.iframe.contentDocument)===null||t===void 0?void 0:t.getElementsByTagName("html")[0])===null||r===void 0?void 0:r.classList.remove("rrweb-paused");this.emitter.emit(Fe.Start)}pause(e){var t,r;if(e===undefined&&this.service.state.matches("playing")){this.service.send({type:"PAUSE"})}if(typeof e==="number"){this.play(e);this.service.send({type:"PAUSE"})}(r=(t=this.iframe.contentDocument)===null||t===void 0?void 0:t.getElementsByTagName("html")[0])===null||r===void 0?void 0:r.classList.add("rrweb-paused");this.emitter.emit(Fe.Pause)}resume(e=0){console.warn(`The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface.`);this.play(e);this.emitter.emit(Fe.Resume)}destroy(){this.pause();this.config.root.removeChild(this.wrapper);this.emitter.emit(Fe.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;if(Dn(t)){this.mouse.classList.add("touch-device")}void Promise.resolve().then((()=>this.service.send({type:"ADD_EVENT",payload:{event:t}})))}enableInteract(){this.iframe.setAttribute("scrolling","auto");this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no");this.iframe.style.pointerEvents="none"}resetCache(){this.cache=ae()}setupDom(){this.wrapper=document.createElement("div");this.wrapper.classList.add("replayer-wrapper");this.config.root.appendChild(this.wrapper);this.mouse=document.createElement("div");this.mouse.classList.add("replayer-mouse");this.wrapper.appendChild(this.mouse);if(this.config.mouseTail!==false){this.mouseTail=document.createElement("canvas");this.mouseTail.classList.add("replayer-mouse-tail");this.mouseTail.style.display="inherit";this.wrapper.appendChild(this.mouseTail)}this.iframe=document.createElement("iframe");const e=["allow-same-origin"];if(this.config.UNSAFE_replayCanvas){e.push("allow-scripts")}this.iframe.style.display="none";this.iframe.setAttribute("sandbox",e.join(" "));this.disableInteract();this.wrapper.appendChild(this.iframe);if(this.iframe.contentWindow&&this.iframe.contentDocument){Qr(this.iframe.contentWindow,this.iframe.contentDocument);Re(this.iframe.contentWindow)}}rebuildFullSnapshot(e,t=false){if(!this.iframe.contentDocument){return console.warn("Looks like your replayer has been destroyed.")}if(Object.keys(this.legacy_missingNodeRetryMap).length){console.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap)}this.legacy_missingNodeRetryMap={};const r=[];const n=(e,t)=>{this.collectIframeAndAttachDocument(r,e);for(const r of this.config.plugins||[]){if(r.onBuild)r.onBuild(e,{id:t,replayer:this})}};pe(e.data.node,{doc:this.iframe.contentDocument,afterAppend:n,cache:this.cache,mirror:this.mirror});n(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:e,builtNode:t}of r){this.attachDocumentToIframe(e,t);this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e))}const{documentElement:o,head:i}=this.iframe.contentDocument;this.insertStyleRules(o,i);if(!this.service.state.matches("playing")){this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused")}this.emitter.emit(Fe.FullsnapshotRebuilded,e);if(!t){this.waitForStylesheetLoad()}if(this.config.UNSAFE_replayCanvas){void this.preloadAllImages()}}insertStyleRules(e,t){var r;const n=Sn(this.config.blockClass).concat(this.config.insertStyleRules);if(this.config.pauseAnimation){n.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }")}if(this.usingVirtualDom){const r=this.virtualDom.createElement("style");this.virtualDom.mirror.add(r,$r(r,this.virtualDom.unserializedId));e.insertBefore(r,t);r.rules.push({source:Ve.StyleSheetRule,adds:n.map(((e,t)=>({rule:e,index:t})))})}else{const o=document.createElement("style");e.insertBefore(o,t);for(let e=0;e<n.length;e++){(r=o.sheet)===null||r===void 0?void 0:r.insertRule(n[e],e)}}}attachDocumentToIframe(e,t){const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;const n=[];const o=(e,o)=>{this.collectIframeAndAttachDocument(n,e);const s=r.getMeta(e);if((s===null||s===void 0?void 0:s.type)===i.Element&&(s===null||s===void 0?void 0:s.tagName.toUpperCase())==="HTML"){const{documentElement:e,head:r}=t.contentDocument;this.insertStyleRules(e,r)}for(const t of this.config.plugins||[]){if(t.onBuild)t.onBuild(e,{id:o,replayer:this})}};ue(e.node,{doc:t.contentDocument,mirror:r,hackCss:true,skipChild:false,afterAppend:o,cache:this.cache});o(t.contentDocument,e.node.id);for(const{mutationInQueue:e,builtNode:t}of n){this.attachDocumentToIframe(e,t);this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e))}}collectIframeAndAttachDocument(e,t){if(Ce(t,this.mirror)){const r=this.newDocumentQueue.find((e=>e.parentId===this.mirror.getId(t)));if(r){e.push({mutationInQueue:r,builtNode:t})}}}waitForStylesheetLoad(){var e;const t=(e=this.iframe.contentDocument)===null||e===void 0?void 0:e.head;if(t){const e=new Set;let r;let n=this.service.state;const o=()=>{n=this.service.state};this.emitter.on(Fe.Start,o);this.emitter.on(Fe.Pause,o);const i=()=>{this.emitter.off(Fe.Start,o);this.emitter.off(Fe.Pause,o)};t.querySelectorAll('link[rel="stylesheet"]').forEach((t=>{if(!t.sheet){e.add(t);t.addEventListener("load",(()=>{e.delete(t);if(e.size===0&&r!==-1){if(n.matches("playing")){this.play(this.getCurrentTime())}this.emitter.emit(Fe.LoadStylesheetEnd);if(r){clearTimeout(r)}i()}}))}}));if(e.size>0){this.service.send({type:"PAUSE"});this.emitter.emit(Fe.LoadStylesheetStart);r=setTimeout((()=>{if(n.matches("playing")){this.play(this.getCurrentTime())}r=-1;i()}),this.config.loadTimeout)}}}preloadAllImages(){return Nt(this,void 0,void 0,(function*(){this.service.state;const e=()=>{this.service.state};this.emitter.on(Fe.Start,e);this.emitter.on(Fe.Pause,e);const t=[];for(const e of this.service.state.context.events){if(e.type===Be.IncrementalSnapshot&&e.data.source===Ve.CanvasMutation){t.push(this.deserializeAndPreloadCanvasEvents(e.data,e));const r="commands"in e.data?e.data.commands:[e.data];r.forEach((t=>{this.preloadImages(t,e)}))}}return Promise.all(t)}))}preloadImages(e,t){if(e.property==="drawImage"&&typeof e.args[0]==="string"&&!this.imageMap.has(t)){const t=document.createElement("canvas");const r=t.getContext("2d");const n=r===null||r===void 0?void 0:r.createImageData(t.width,t.height);n===null||n===void 0?void 0:n.data;JSON.parse(e.args[0]);r===null||r===void 0?void 0:r.putImageData(n,0,0)}}deserializeAndPreloadCanvasEvents(e,t){return Nt(this,void 0,void 0,(function*(){if(!this.canvasEventMap.has(t)){const r={isUnchanged:true};if("commands"in e){const n=yield Promise.all(e.commands.map((e=>Nt(this,void 0,void 0,(function*(){const t=yield Promise.all(e.args.map(An(this.imageMap,null,r)));return Object.assign(Object.assign({},e),{args:t})})))));if(r.isUnchanged===false)this.canvasEventMap.set(t,Object.assign(Object.assign({},e),{commands:n}))}else{const n=yield Promise.all(e.args.map(An(this.imageMap,null,r)));if(r.isUnchanged===false)this.canvasEventMap.set(t,Object.assign(Object.assign({},e),{args:n}))}}}))}applyIncremental(e,t){var r,n,o;const{data:i}=e;switch(i.source){case Ve.Mutation:{try{this.applyMutation(i,t)}catch(e){this.warn(`Exception in mutation ${e.message||e}`,i)}break}case Ve.Drag:case Ve.TouchMove:case Ve.MouseMove:if(t){const e=i.positions[i.positions.length-1];this.mousePos={x:e.x,y:e.y,id:e.id,debugData:i}}else{i.positions.forEach((r=>{const n={doAction:()=>{this.moveAndHover(r.x,r.y,r.id,t,i)},delay:r.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(n)}));this.timer.addAction({doAction(){},delay:e.delay-((r=i.positions[0])===null||r===void 0?void 0:r.timeOffset)})}break;case Ve.MouseInteraction:{if(i.id===-1||t){break}const e=new Event(ke[i.type].toLowerCase());const r=this.mirror.getNode(i.id);if(!r){return this.debugNodeNotFound(i,i.id)}this.emitter.emit(Fe.MouseInteraction,{type:i.type,target:r});const{triggerFocus:n}=this.config;switch(i.type){case ke.Blur:if("blur"in r){r.blur()}break;case ke.Focus:if(n&&r.focus){r.focus({preventScroll:true})}break;case ke.Click:case ke.TouchStart:case ke.TouchEnd:if(t){if(i.type===ke.TouchStart){this.touchActive=true}else if(i.type===ke.TouchEnd){this.touchActive=false}this.mousePos={x:i.x,y:i.y,id:i.id,debugData:i}}else{if(i.type===ke.TouchStart){this.tailPositions.length=0}this.moveAndHover(i.x,i.y,i.id,t,i);if(i.type===ke.Click){this.mouse.classList.remove("active");void this.mouse.offsetWidth;this.mouse.classList.add("active")}else if(i.type===ke.TouchStart){void this.mouse.offsetWidth;this.mouse.classList.add("touch-active")}else if(i.type===ke.TouchEnd){this.mouse.classList.remove("touch-active")}}break;case ke.TouchCancel:if(t){this.touchActive=false}else{this.mouse.classList.remove("touch-active")}break;default:r.dispatchEvent(e)}break}case Ve.Scroll:{if(i.id===-1){break}if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e){return this.debugNodeNotFound(i,i.id)}e.scrollData=i;break}this.applyScroll(i,t);break}case Ve.ViewportResize:this.emitter.emit(Fe.Resize,{width:i.width,height:i.height});break;case Ve.Input:{if(i.id===-1){break}if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e){return this.debugNodeNotFound(i,i.id)}e.inputData=i;break}this.applyInput(i);break}case Ve.MediaInteraction:{const e=this.usingVirtualDom?this.virtualDom.mirror.getNode(i.id):this.mirror.getNode(i.id);if(!e){return this.debugNodeNotFound(i,i.id)}const t=e;try{if(i.currentTime){t.currentTime=i.currentTime}if(i.volume){t.volume=i.volume}if(i.muted){t.muted=i.muted}if(i.type===1){t.pause()}if(i.type===0){void t.play()}if(i.type===4){t.playbackRate=i.playbackRate}}catch(e){if(this.config.showWarning){console.warn(`Failed to replay media interactions: ${e.message||e}`)}}break}case Ve.StyleSheetRule:case Ve.StyleDeclaration:{if(this.usingVirtualDom){if(i.styleId)this.constructedStyleMutations.push(i);else if(i.id)(n=this.virtualDom.mirror.getNode(i.id))===null||n===void 0?void 0:n.rules.push(i)}else this.applyStyleSheetMutation(i);break}case Ve.CanvasMutation:{if(!this.config.UNSAFE_replayCanvas){return}if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(i.id);if(!t){return this.debugNodeNotFound(i,i.id)}t.canvasMutations.push({event:e,mutation:i})}else{const t=this.mirror.getNode(i.id);if(!t){return this.debugNodeNotFound(i,i.id)}void bn({event:e,mutation:i,target:t,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break}case Ve.Font:{try{const e=new FontFace(i.family,i.buffer?new Uint8Array(JSON.parse(i.fontSource)):i.fontSource,i.descriptors);(o=this.iframe.contentDocument)===null||o===void 0?void 0:o.fonts.add(e)}catch(e){if(this.config.showWarning){console.warn(e)}}break}case Ve.Selection:{if(t){this.lastSelectionData=i;break}this.applySelection(i);break}case Ve.AdoptedStyleSheet:{if(this.usingVirtualDom)this.adoptedStyleSheets.push(i);else this.applyAdoptedStyleSheet(i);break}}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t){this.usingVirtualDom=true;Kr(this.iframe.contentDocument,this.mirror,this.virtualDom);if(Object.keys(this.legacy_missingNodeRetryMap).length){for(const e in this.legacy_missingNodeRetryMap){try{const t=this.legacy_missingNodeRetryMap[e];const r=Wr(t.node,this.virtualDom,this.mirror);if(r)t.node=r}catch(e){if(this.config.showWarning){console.warn(e)}}}}}const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes.forEach((t=>{var n;const o=r.getNode(t.id);if(!o){if(e.removes.find((e=>e.id===t.parentId))){return}return this.warnNodeNotFound(e,t.id)}let i=r.getNode(t.parentId);if(!i){return this.warnNodeNotFound(e,t.parentId)}if(t.isShadow&&Pe(i)){i=i.shadowRoot}r.removeNodeFromMap(o);if(i)try{i.removeChild(o);if(this.usingVirtualDom&&o.nodeName==="#text"&&i.nodeName==="STYLE"&&((n=i.rules)===null||n===void 0?void 0:n.length)>0)i.rules=[]}catch(t){if(t instanceof DOMException){this.warn("parent could not remove child in mutation",i,o,e)}else{throw t}}}));const n=Object.assign({},this.legacy_missingNodeRetryMap);const o=[];const s=e=>{let t=null;if(e.nextId){t=r.getNode(e.nextId)}if(e.nextId!==null&&e.nextId!==undefined&&e.nextId!==-1&&!t){return true}return false};const a=e=>{var t;if(!this.iframe.contentDocument){return console.warn("Looks like your replayer has been destroyed.")}let a=r.getNode(e.parentId);if(!a){if(e.node.type===i.Document){return this.newDocumentQueue.push(e)}return o.push(e)}if(e.node.isShadow){if(!Pe(a)){a.attachShadow({mode:"open"});a=a.shadowRoot}else a=a.shadowRoot}let c=null;let u=null;if(e.previousId){c=r.getNode(e.previousId)}if(e.nextId){u=r.getNode(e.nextId)}if(s(e)){return o.push(e)}if(e.node.rootId&&!r.getNode(e.node.rootId)){return}const l=e.node.rootId?r.getNode(e.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(Ce(a,r)){this.attachDocumentToIframe(e,a);return}const d=(e,t)=>{for(const r of this.config.plugins||[]){if(r.onBuild)r.onBuild(e,{id:t,replayer:this})}};const p=ue(e.node,{doc:l,mirror:r,skipChild:true,hackCss:true,cache:this.cache,afterAppend:d});if(e.previousId===-1||e.nextId===-1){n[e.node.id]={node:p,mutation:e};return}const f=r.getMeta(a);if(f&&f.type===i.Element&&f.tagName==="textarea"&&e.node.type===i.Text){const e=Array.isArray(a.childNodes)?a.childNodes:Array.from(a.childNodes);for(const t of e){if(t.nodeType===a.TEXT_NODE){a.removeChild(t)}}}if(c&&c.nextSibling&&c.nextSibling.parentNode){a.insertBefore(p,c.nextSibling)}else if(u&&u.parentNode){a.contains(u)?a.insertBefore(p,u):a.insertBefore(p,null)}else{if(a===l){while(l.firstChild){l.removeChild(l.firstChild)}}a.appendChild(p)}d(p,e.node.id);if(this.usingVirtualDom&&p.nodeName==="#text"&&a.nodeName==="STYLE"&&((t=a.rules)===null||t===void 0?void 0:t.length)>0)a.rules=[];if(Ce(p,this.mirror)){const e=this.mirror.getId(p);const t=this.newDocumentQueue.find((t=>t.parentId===e));if(t){this.attachDocumentToIframe(t,p);this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==t))}}if(e.previousId||e.nextId){this.legacy_resolveMissingNode(n,a,p,e)}};e.adds.forEach((e=>{a(e)}));const c=Date.now();while(o.length){const e=Ne(o);o.length=0;if(Date.now()-c>500){this.warn("Timeout in the loop, please check the resolve tree data:",e);break}for(const t of e){const e=r.getNode(t.value.parentId);if(!e){this.debug("Drop resolve tree since there is no parent for the root node.",t)}else{be(t,(e=>{a(e)}))}}}if(Object.keys(n).length){Object.assign(this.legacy_missingNodeRetryMap,n)}we(e.texts).forEach((t=>{var n;const o=r.getNode(t.id);if(!o){if(e.removes.find((e=>e.id===t.id))){return}return this.warnNodeNotFound(e,t.id)}o.textContent=t.value;if(this.usingVirtualDom){const e=o.parentNode;if(((n=e===null||e===void 0?void 0:e.rules)===null||n===void 0?void 0:n.length)>0)e.rules=[]}}));e.attributes.forEach((t=>{const n=r.getNode(t.id);if(!n){if(e.removes.find((e=>e.id===t.id))){return}return this.warnNodeNotFound(e,t.id)}for(const e in t.attributes){if(typeof e==="string"){const o=t.attributes[e];if(o===null){n.removeAttribute(e)}else if(typeof o==="string"){try{if(e==="_cssText"&&(n.nodeName==="LINK"||n.nodeName==="STYLE")){try{const e=r.getMeta(n);Object.assign(e.attributes,t.attributes);const o=ue(e,{doc:n.ownerDocument,mirror:r,skipChild:true,hackCss:true,cache:this.cache});const i=n.nextSibling;const s=n.parentNode;if(o&&s){s.removeChild(n);s.insertBefore(o,i);r.replace(t.id,o);break}}catch(e){}}n.setAttribute(e,o)}catch(e){if(this.config.showWarning){console.warn("An error occurred may due to the checkout feature.",e)}}}else if(e==="style"){const e=o;const t=n;for(const r in e){if(e[r]===false){t.style.removeProperty(r)}else if(e[r]instanceof Array){const n=e[r];t.style.setProperty(r,n[0],n[1])}else{const n=e[r];t.style.setProperty(r,n)}}}}}}))}applyScroll(e,t){var r,n;const o=this.mirror.getNode(e.id);if(!o){return this.debugNodeNotFound(e,e.id)}const s=this.mirror.getMeta(o);if(o===this.iframe.contentDocument){(r=this.iframe.contentWindow)===null||r===void 0?void 0:r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}else if((s===null||s===void 0?void 0:s.type)===i.Document){(n=o.defaultView)===null||n===void 0?void 0:n.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}else{try{o.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch(e){}}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t){return this.debugNodeNotFound(e,e.id)}try{t.checked=e.isChecked;t.value=e.text}catch(e){}}applySelection(e){try{const t=new Set;const r=e.ranges.map((({start:e,startOffset:r,end:n,endOffset:o})=>{const i=this.mirror.getNode(e);const s=this.mirror.getNode(n);if(!i||!s)return;const a=new Range;a.setStart(i,r);a.setEnd(s,o);const c=i.ownerDocument;const u=c===null||c===void 0?void 0:c.getSelection();u&&t.add(u);return{range:a,selection:u}}));t.forEach((e=>e.removeAllRanges()));r.forEach((e=>{var t;return e&&((t=e.selection)===null||t===void 0?void 0:t.addRange(e.range))}))}catch(e){}}applyStyleSheetMutation(e){var t;let r=null;if(e.styleId)r=this.styleMirror.getStyle(e.styleId);else if(e.id)r=((t=this.mirror.getNode(e.id))===null||t===void 0?void 0:t.sheet)||null;if(!r)return;if(e.source===Ve.StyleSheetRule)this.applyStyleSheetRule(e,r);else if(e.source===Ve.StyleDeclaration)this.applyStyleDeclaration(e,r)}applyStyleSheetRule(e,t){var r,n,o,i;(r=e.adds)===null||r===void 0?void 0:r.forEach((({rule:e,index:r})=>{try{if(Array.isArray(r)){const{positions:n,index:o}=De(r);const i=Le(t.cssRules,n);i.insertRule(e,o)}else{const n=r===undefined?undefined:Math.min(r,t.cssRules.length);t===null||t===void 0?void 0:t.insertRule(e,n)}}catch(e){}}));(n=e.removes)===null||n===void 0?void 0:n.forEach((({index:e})=>{try{if(Array.isArray(e)){const{positions:r,index:n}=De(e);const o=Le(t.cssRules,r);o.deleteRule(n||0)}else{t===null||t===void 0?void 0:t.deleteRule(e)}}catch(e){}}));if(e.replace)try{void((o=t.replace)===null||o===void 0?void 0:o.call(t,e.replace))}catch(e){}if(e.replaceSync)try{(i=t.replaceSync)===null||i===void 0?void 0:i.call(t,e.replaceSync)}catch(e){}}applyStyleDeclaration(e,t){if(e.set){const r=Le(t.rules,e.index);r.style.setProperty(e.set.property,e.set.value,e.set.priority)}if(e.remove){const r=Le(t.rules,e.index);r.style.removeProperty(e.remove.property)}}applyAdoptedStyleSheet(e){var t;const r=this.mirror.getNode(e.id);if(!r)return;(t=e.styles)===null||t===void 0?void 0:t.forEach((e=>{var t;let n=null;let o=null;if(Pe(r))o=((t=r.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null;else if(r.nodeName==="#document")o=r.defaultView;if(!o)return;try{n=new o.CSSStyleSheet;this.styleMirror.add(n,e.styleId);this.applyStyleSheetRule({source:Ve.StyleSheetRule,adds:e.rules},n)}catch(e){}}));const n=10;let o=0;const i=(e,t)=>{const r=t.map((e=>this.styleMirror.getStyle(e))).filter((e=>e!==null));if(Pe(e))e.shadowRoot.adoptedStyleSheets=r;else if(e.nodeName==="#document")e.adoptedStyleSheets=r;if(r.length!==t.length&&o<n){setTimeout((()=>i(e,t)),0+100*o);o++}};i(r,e.styleIds)}legacy_resolveMissingNode(e,t,r,n){const{previousId:o,nextId:i}=n;const s=o&&e[o];const a=i&&e[i];if(s){const{node:n,mutation:o}=s;t.insertBefore(n,r);delete e[o.node.id];delete this.legacy_missingNodeRetryMap[o.node.id];if(o.previousId||o.nextId){this.legacy_resolveMissingNode(e,t,n,o)}}if(a){const{node:n,mutation:o}=a;t.insertBefore(n,r.nextSibling);delete e[o.node.id];delete this.legacy_missingNodeRetryMap[o.node.id];if(o.previousId||o.nextId){this.legacy_resolveMissingNode(e,t,n,o)}}}moveAndHover(e,t,r,n,o){const i=this.mirror.getNode(r);if(!i){return this.debugNodeNotFound(o,r)}const s=Me(i,this.iframe);const a=e*s.absoluteScale+s.x;const c=t*s.absoluteScale+s.y;this.mouse.style.left=`${a}px`;this.mouse.style.top=`${c}px`;if(!n){this.drawMouseTail({x:a,y:c})}this.hoverElements(i)}drawMouseTail(e){if(!this.mouseTail){return}const{lineCap:t,lineWidth:r,strokeStyle:n,duration:o}=this.config.mouseTail===true?Ln:Object.assign({},Ln,this.config.mouseTail);const i=()=>{if(!this.mouseTail){return}const e=this.mouseTail.getContext("2d");if(!e||!this.tailPositions.length){return}e.clearRect(0,0,this.mouseTail.width,this.mouseTail.height);e.beginPath();e.lineWidth=r;e.lineCap=t;e.strokeStyle=n;e.moveTo(this.tailPositions[0].x,this.tailPositions[0].y);this.tailPositions.forEach((t=>e.lineTo(t.x,t.y)));e.stroke()};this.tailPositions.push(e);i();setTimeout((()=>{this.tailPositions=this.tailPositions.filter((t=>t!==e));i()}),o/this.speedService.state.context.timer.speed)}hoverElements(e){var t;(t=this.iframe.contentDocument)===null||t===void 0?void 0:t.querySelectorAll(".\\:hover").forEach((e=>{e.classList.remove(":hover")}));let r=e;while(r){if(r.classList){r.classList.add(":hover")}r=r.parentElement}}isUserInteraction(e){if(e.type!==Be.IncrementalSnapshot){return false}return e.data.source>Ve.Mutation&&e.data.source<=Ve.Input}backToNormal(){this.nextUserInteractionEvent=null;if(this.speedService.state.matches("normal")){return}this.speedService.send({type:"BACK_TO_NORMAL"});this.emitter.emit(Fe.SkipEnd,{speed:this.speedService.state.context.normalSpeed})}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn(`Has error on canvas update`,t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(Pn,`Node with id '${t}' not found. `,e)}warn(...e){if(!this.config.showWarning){return}console.warn(Pn,...e)}debug(...e){if(!this.config.showDebug){return}console.log(Pn,...e)}}const{addCustomEvent:Un}=ar;const{freezePage:xn}=ar;var Bn=Uint8Array,Vn=Uint16Array,kn=Uint32Array;var Gn=new Bn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]);var Fn=new Bn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]);var Hn=new Bn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var jn=function(e,t){var r=new Vn(31);for(var n=0;n<31;++n){r[n]=t+=1<<e[n-1]}var o=new kn(r[30]);for(var n=1;n<30;++n){for(var i=r[n];i<r[n+1];++i){o[i]=i-r[n]<<5|n}}return[r,o]};var Yn=jn(Gn,2),Wn=Yn[0],Kn=Yn[1];Wn[28]=258,Kn[258]=28;var Xn=jn(Fn,0),zn=Xn[0],$n=Xn[1];var Zn=new Vn(32768);for(var qn=0;qn<32768;++qn){var Qn=(qn&43690)>>>1|(qn&21845)<<1;Qn=(Qn&52428)>>>2|(Qn&13107)<<2;Qn=(Qn&61680)>>>4|(Qn&3855)<<4;Zn[qn]=((Qn&65280)>>>8|(Qn&255)<<8)>>>1}var Jn=function(e,t,r){var n=e.length;var o=0;var i=new Vn(t);for(;o<n;++o)++i[e[o]-1];var s=new Vn(t);for(o=0;o<t;++o){s[o]=s[o-1]+i[o-1]<<1}var a;if(r){a=new Vn(1<<t);var c=15-t;for(o=0;o<n;++o){if(e[o]){var u=o<<4|e[o];var l=t-e[o];var d=s[e[o]-1]++<<l;for(var p=d|(1<<l)-1;d<=p;++d){a[Zn[d]>>>c]=u}}}}else{a=new Vn(n);for(o=0;o<n;++o)a[o]=Zn[s[e[o]-1]++]>>>15-e[o]}return a};var eo=new Bn(288);for(var qn=0;qn<144;++qn)eo[qn]=8;for(var qn=144;qn<256;++qn)eo[qn]=9;for(var qn=256;qn<280;++qn)eo[qn]=7;for(var qn=280;qn<288;++qn)eo[qn]=8;var to=new Bn(32);for(var qn=0;qn<32;++qn)to[qn]=5;var ro=Jn(eo,9,0),no=Jn(eo,9,1);var oo=Jn(to,5,0),io=Jn(to,5,1);var so=function(e){var t=e[0];for(var r=1;r<e.length;++r){if(e[r]>t)t=e[r]}return t};var ao=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(t&7)&r};var co=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)};var uo=function(e){return(e/8>>0)+(e&7&&1)};var lo=function(e,t,r){if(t==null||t<0)t=0;if(r==null||r>e.length)r=e.length;var n=new(e instanceof Vn?Vn:e instanceof kn?kn:Bn)(r-t);n.set(e.subarray(t,r));return n};var po=function(e,t,r){var n=e.length;var o=!t||r;var i=!r||r.i;if(!r)r={};if(!t)t=new Bn(n*3);var s=function(e){var r=t.length;if(e>r){var n=new Bn(Math.max(r*2,e));n.set(t);t=n}};var a=r.f||0,c=r.p||0,u=r.b||0,l=r.l,d=r.d,p=r.m,f=r.n;var m=n*8;do{if(!l){r.f=a=ao(e,c,1);var h=ao(e,c+1,3);c+=3;if(!h){var E=uo(c)+4,_=e[E-4]|e[E-3]<<8,S=E+_;if(S>n){if(i)throw"unexpected EOF";break}if(o)s(u+_);t.set(e.subarray(E,S),u);r.b=u+=_,r.p=c=S*8;continue}else if(h==1)l=no,d=io,p=9,f=5;else if(h==2){var g=ao(e,c,31)+257,T=ao(e,c+10,15)+4;var A=g+ao(e,c+5,31)+1;c+=14;var y=new Bn(A);var v=new Bn(19);for(var O=0;O<T;++O){v[Hn[O]]=ao(e,c+O*3,7)}c+=T*3;var R=so(v),N=(1<<R)-1;if(!i&&c+A*(R+7)>m)break;var b=Jn(v,R,1);for(var O=0;O<A;){var C=b[ao(e,c,N)];c+=C&15;var E=C>>>4;if(E<16){y[O++]=E}else{var I=0,M=0;if(E==16)M=3+ao(e,c,3),c+=2,I=y[O-1];else if(E==17)M=3+ao(e,c,7),c+=3;else if(E==18)M=11+ao(e,c,127),c+=7;while(M--)y[O++]=I}}var P=y.subarray(0,g),L=y.subarray(g);p=so(P);f=so(L);l=Jn(P,p,1);d=Jn(L,f,1)}else throw"invalid block type";if(c>m)throw"unexpected EOF"}if(o)s(u+131072);var D=(1<<p)-1,w=(1<<f)-1;var U=p+f+18;while(i||c+U<m){var I=l[co(e,c)&D],x=I>>>4;c+=I&15;if(c>m)throw"unexpected EOF";if(!I)throw"invalid length/literal";if(x<256)t[u++]=x;else if(x==256){l=null;break}else{var B=x-254;if(x>264){var O=x-257,V=Gn[O];B=ao(e,c,(1<<V)-1)+Wn[O];c+=V}var k=d[co(e,c)&w],G=k>>>4;if(!k)throw"invalid distance";c+=k&15;var L=zn[G];if(G>3){var V=Fn[G];L+=co(e,c)&(1<<V)-1,c+=V}if(c>m)throw"unexpected EOF";if(o)s(u+131072);var F=u+B;for(;u<F;u+=4){t[u]=t[u-L];t[u+1]=t[u+1-L];t[u+2]=t[u+2-L];t[u+3]=t[u+3-L]}u=F}}r.l=l,r.p=c,r.b=u;if(l)a=1,r.m=p,r.d=d,r.n=f}while(!a);return u==t.length?t:lo(t,0,u)};var fo=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r;e[n+1]|=r>>>8};var mo=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r;e[n+1]|=r>>>8;e[n+2]|=r>>>16};var ho=function(e,t){var r=[];for(var n=0;n<e.length;++n){if(e[n])r.push({s:n,f:e[n]})}var o=r.length;var i=r.slice();if(!o)return[new Bn(0),0];if(o==1){var s=new Bn(r[0].s+1);s[r[0].s]=1;return[s,1]}r.sort((function(e,t){return e.f-t.f}));r.push({s:-1,f:25001});var a=r[0],c=r[1],u=0,l=1,d=2;r[0]={s:-1,f:a.f+c.f,l:a,r:c};while(l!=o-1){a=r[r[u].f<r[d].f?u++:d++];c=r[u!=l&&r[u].f<r[d].f?u++:d++];r[l++]={s:-1,f:a.f+c.f,l:a,r:c}}var p=i[0].s;for(var n=1;n<o;++n){if(i[n].s>p)p=i[n].s}var f=new Vn(p+1);var m=Eo(r[l-1],f,0);if(m>t){var n=0,h=0;var E=m-t,_=1<<E;i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));for(;n<o;++n){var S=i[n].s;if(f[S]>t){h+=_-(1<<m-f[S]);f[S]=t}else break}h>>>=E;while(h>0){var g=i[n].s;if(f[g]<t)h-=1<<t-f[g]++-1;else++n}for(;n>=0&&h;--n){var T=i[n].s;if(f[T]==t){--f[T];++h}}m=t}return[new Bn(f),m]};var Eo=function(e,t,r){return e.s==-1?Math.max(Eo(e.l,t,r+1),Eo(e.r,t,r+1)):t[e.s]=r};var _o=function(e){var t=e.length;while(t&&!e[--t]);var r=new Vn(++t);var n=0,o=e[0],i=1;var s=function(e){r[n++]=e};for(var a=1;a<=t;++a){if(e[a]==o&&a!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)s(32754);if(i>2){s(i>10?i-11<<5|28690:i-3<<5|12305);i=0}}else if(i>3){s(o),--i;for(;i>6;i-=6)s(8304);if(i>2)s(i-3<<5|8208),i=0}while(i--)s(o);i=1;o=e[a]}}return[r.subarray(0,n),t]};var So=function(e,t){var r=0;for(var n=0;n<t.length;++n)r+=e[n]*t[n];return r};var go=function(e,t,r){var n=r.length;var o=uo(t+2);e[o]=n&255;e[o+1]=n>>>8;e[o+2]=e[o]^255;e[o+3]=e[o+1]^255;for(var i=0;i<n;++i)e[o+i+4]=r[i];return(o+4+n)*8};var To=function(e,t,r,n,o,i,s,a,c,u,l){fo(t,l++,r);++o[256];var d=ho(o,15),p=d[0],f=d[1];var m=ho(i,15),h=m[0],E=m[1];var _=_o(p),S=_[0],g=_[1];var T=_o(h),A=T[0],y=T[1];var v=new Vn(19);for(var O=0;O<S.length;++O)v[S[O]&31]++;for(var O=0;O<A.length;++O)v[A[O]&31]++;var R=ho(v,7),N=R[0],b=R[1];var C=19;for(;C>4&&!N[Hn[C-1]];--C);var I=u+5<<3;var M=So(o,eo)+So(i,to)+s;var P=So(o,p)+So(i,h)+s+14+3*C+So(v,N)+(2*v[16]+3*v[17]+7*v[18]);if(I<=M&&I<=P)return go(t,l,e.subarray(c,c+u));var L,D,w,U;fo(t,l,1+(P<M)),l+=2;if(P<M){L=Jn(p,f,0),D=p,w=Jn(h,E,0),U=h;var x=Jn(N,b,0);fo(t,l,g-257);fo(t,l+5,y-1);fo(t,l+10,C-4);l+=14;for(var O=0;O<C;++O)fo(t,l+3*O,N[Hn[O]]);l+=3*C;var B=[S,A];for(var V=0;V<2;++V){var k=B[V];for(var O=0;O<k.length;++O){var G=k[O]&31;fo(t,l,x[G]),l+=N[G];if(G>15)fo(t,l,k[O]>>>5&127),l+=k[O]>>>12}}}else{L=ro,D=eo,w=oo,U=to}for(var O=0;O<a;++O){if(n[O]>255){var G=n[O]>>>18&31;mo(t,l,L[G+257]),l+=D[G+257];if(G>7)fo(t,l,n[O]>>>23&31),l+=Gn[G];var F=n[O]&31;mo(t,l,w[F]),l+=U[F];if(F>3)mo(t,l,n[O]>>>5&8191),l+=Fn[F]}else{mo(t,l,L[n[O]]),l+=D[n[O]]}}mo(t,l,L[256]);return l+D[256]};var Ao=new kn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]);var yo=new Bn(0);var vo=function(e,t,r,n,o,i){var s=e.length;var a=new Bn(n+s+5*(1+Math.floor(s/7e3))+o);var c=a.subarray(n,a.length-o);var u=0;if(!t||s<8){for(var l=0;l<=s;l+=65535){var d=l+65535;if(d<s){u=go(c,u,e.subarray(l,d))}else{c[l]=i;u=go(c,u,e.subarray(l,s))}}}else{var p=Ao[t-1];var f=p>>>13,m=p&8191;var h=(1<<r)-1;var E=new Vn(32768),_=new Vn(h+1);var S=Math.ceil(r/3),g=2*S;var T=function(t){return(e[t]^e[t+1]<<S^e[t+2]<<g)&h};var A=new kn(25e3);var y=new Vn(288),v=new Vn(32);var O=0,R=0,l=0,N=0,b=0,C=0;for(;l<s;++l){var I=T(l);var M=l&32767;var P=_[I];E[M]=P;_[I]=M;if(b<=l){var L=s-l;if((O>7e3||N>24576)&&L>423){u=To(e,c,0,A,y,v,R,N,C,l-C,u);N=O=R=0,C=l;for(var D=0;D<286;++D)y[D]=0;for(var D=0;D<30;++D)v[D]=0}var w=2,U=0,x=m,B=M-P&32767;if(L>2&&I==T(l-B)){var V=Math.min(f,L)-1;var k=Math.min(32767,l);var G=Math.min(258,L);while(B<=k&&--x&&M!=P){if(e[l+w]==e[l+w-B]){var F=0;for(;F<G&&e[l+F]==e[l+F-B];++F);if(F>w){w=F,U=B;if(F>V)break;var H=Math.min(B,F-2);var j=0;for(var D=0;D<H;++D){var Y=l-B+D+32768&32767;var W=E[Y];var K=Y-W+32768&32767;if(K>j)j=K,P=Y}}}M=P,P=E[M];B+=M-P+32768&32767}}if(U){A[N++]=268435456|Kn[w]<<18|$n[U];var X=Kn[w]&31,z=$n[U]&31;R+=Gn[X]+Fn[z];++y[257+X];++v[z];b=l+w;++O}else{A[N++]=e[l];++y[e[l]]}}}u=To(e,c,i,A,y,v,R,N,C,l-C,u);if(!i)u=go(c,u,yo)}return lo(a,0,n+uo(u)+o)};var Oo=function(){var e=1,t=0;return{p:function(r){var n=e,o=t;var i=r.length;for(var s=0;s!=i;){var a=Math.min(s+5552,i);for(;s<a;++s)n+=r[s],o+=n;n%=65521,o%=65521}e=n,t=o},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}};var Ro=function(e,t,r,n,o){return vo(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!o)};var No=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};var bo=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};var Co=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Io(e,t){if(t===void 0){t={}}var r=Oo();r.p(e);var n=Ro(e,t,2,4);return bo(n,t),No(n,n.length-4,r.d()),n}function Mo(e,t){return po((Co(e),e.subarray(2,-4)),t)}function Po(e,t){var r=e.length;if(!t&&typeof TextEncoder!="undefined")return(new TextEncoder).encode(e);var n=new Bn(e.length+(e.length>>>1));var o=0;var i=function(e){n[o++]=e};for(var s=0;s<r;++s){if(o+5>n.length){var a=new Bn(o+8+(r-s<<1));a.set(n);n=a}var c=e.charCodeAt(s);if(c<128||t)i(c);else if(c<2048)i(192|c>>>6),i(128|c&63);else if(c>55295&&c<57344)c=65536+(c&1023<<10)|e.charCodeAt(++s)&1023,i(240|c>>>18),i(128|c>>>12&63),i(128|c>>>6&63),i(128|c&63);else i(224|c>>>12),i(128|c>>>6&63),i(128|c&63)}return lo(n,0,o)}function Lo(e,t){var r="";if(!t&&typeof TextDecoder!="undefined")return(new TextDecoder).decode(e);for(var n=0;n<e.length;){var o=e[n++];if(o<128||t)r+=String.fromCharCode(o);else if(o<224)r+=String.fromCharCode((o&31)<<6|e[n++]&63);else if(o<240)r+=String.fromCharCode((o&15)<<12|(e[n++]&63)<<6|e[n++]&63);else o=((o&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,r+=String.fromCharCode(55296|o>>10,56320|o&1023)}return r}const Do="v1";const wo=e=>{const t=Object.assign(Object.assign({},e),{v:Do});return Lo(Io(Po(JSON.stringify(t))),true)};const Uo=e=>{if(typeof e!=="string"){return e}try{const t=JSON.parse(e);if(t.timestamp){return t}}catch(e){}try{const t=JSON.parse(Lo(Mo(Po(e,true))));if(t.v===Do){return t}throw new Error(`These events were packed with packer ${t.v} which is incompatible with current packer ${Do}.`)}catch(e){console.error(e);throw new Error("Unknown data format.")}};class xo{constructor(e){this.fileName=e.fileName||"";this.functionName=e.functionName||"";this.lineNumber=e.lineNumber;this.columnNumber=e.columnNumber}toString(){const e=this.lineNumber||"";const t=this.columnNumber||"";if(this.functionName)return`${this.functionName} (${this.fileName}:${e}:${t})`;return`${this.fileName}:${e}:${t}`}}const Bo=/(^|@)\S+:\d+/;const Vo=/^\s*at .*(\S+:\d+|\(native\))/m;const ko=/^(eval@)?(\[native code])?$/;const Go={parse:function(e){if(!e){return[]}if(typeof e.stacktrace!=="undefined"||typeof e["opera#sourceloc"]!=="undefined"){return this.parseOpera(e)}else if(e.stack&&e.stack.match(Vo)){return this.parseV8OrIE(e)}else if(e.stack){return this.parseFFOrSafari(e)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function(e){if(e.indexOf(":")===-1){return[e]}const t=/(.+?)(?::(\d+))?(?::(\d+))?$/;const r=t.exec(e.replace(/[()]/g,""));if(!r)throw new Error(`Cannot parse given url: ${e}`);return[r[1],r[2]||undefined,r[3]||undefined]},parseV8OrIE:function(e){const t=e.stack.split("\n").filter((function(e){return!!e.match(Vo)}),this);return t.map((function(e){if(e.indexOf("(eval ")>-1){e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,"")}let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");const r=t.match(/ (\((.+):(\d+):(\d+)\)$)/);t=r?t.replace(r[0],""):t;const n=t.split(/\s+/).slice(1);const o=this.extractLocation(r?r[1]:n.pop());const i=n.join(" ")||undefined;const s=["eval","<anonymous>"].indexOf(o[0])>-1?undefined:o[0];return new xo({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2]})}),this)},parseFFOrSafari:function(e){const t=e.stack.split("\n").filter((function(e){return!e.match(ko)}),this);return t.map((function(e){if(e.indexOf(" > eval")>-1){e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")}if(e.indexOf("@")===-1&&e.indexOf(":")===-1){return new xo({functionName:e})}else{const t=/((.*".+"[^@]*)?[^@]*)(?:@)/;const r=e.match(t);const n=r&&r[1]?r[1]:undefined;const o=this.extractLocation(e.replace(t,""));return new xo({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})}}),this)},parseOpera:function(e){if(!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return this.parseOpera9(e)}else if(!e.stack){return this.parseOpera10(e)}else{return this.parseOpera11(e)}},parseOpera9:function(e){const t=/Line (\d+).*script (?:in )?(\S+)/i;const r=e.message.split("\n");const n=[];for(let e=2,o=r.length;e<o;e+=2){const o=t.exec(r[e]);if(o){n.push(new xo({fileName:o[2],lineNumber:parseFloat(o[1])}))}}return n},parseOpera10:function(e){const t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;const r=e.stacktrace.split("\n");const n=[];for(let e=0,o=r.length;e<o;e+=2){const o=t.exec(r[e]);if(o){n.push(new xo({functionName:o[3]||undefined,fileName:o[2],lineNumber:parseFloat(o[1])}))}}return n},parseOpera11:function(e){const t=e.stack.split("\n").filter((function(e){return!!e.match(Bo)&&!e.match(/^Error created at/)}),this);return t.map((function(e){const t=e.split("@");const r=this.extractLocation(t.pop());const n=t.shift()||"";const o=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;return new xo({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)}};function Fo(e){if(!e||!e.outerHTML){return""}let t="";while(e.parentElement){let r=e.localName;if(!r){break}r=r.toLowerCase();const n=e.parentElement;const o=[];if(n.children&&n.children.length>0){for(let e=0;e<n.children.length;e++){const t=n.children[e];if(t.localName&&t.localName.toLowerCase){if(t.localName.toLowerCase()===r){o.push(t)}}}}if(o.length>1){r+=`:eq(${o.indexOf(e)})`}t=r+(t?">"+t:"");e=n}return t}function Ho(e){return Object.prototype.toString.call(e)==="[object Object]"}function jo(e,t){if(t===0){return true}const r=Object.keys(e);for(const n of r){if(Ho(e[n])&&jo(e[n],t-1)){return true}}return false}function Yo(e,t){const r={numOfKeysLimit:50,depthOfLimit:4};Object.assign(r,t);const n=[];const o=[];return JSON.stringify(e,(function(e,t){if(n.length>0){const r=n.indexOf(this);~r?n.splice(r+1):n.push(this);~r?o.splice(r,Infinity,e):o.push(e);if(~n.indexOf(t)){if(n[0]===t){t="[Circular ~]"}else{t="[Circular ~."+o.slice(0,n.indexOf(t)).join(".")+"]"}}}else{n.push(t)}if(t===null)return t;if(t===undefined)return"undefined";if(i(t)){return s(t)}if(t instanceof Event){const e={};for(const r in t){const n=t[r];if(Array.isArray(n)){e[r]=Fo(n.length?n[0]:null)}else{e[r]=n}}return e}else if(t instanceof Node){if(t instanceof HTMLElement){return t?t.outerHTML:""}return t.nodeName}else if(t instanceof Error){return t.stack?t.stack+"\nEnd of stack for Error object":t.name+": "+t.message}return t}));function i(e){if(Ho(e)&&Object.keys(e).length>r.numOfKeysLimit){return true}if(typeof e==="function"){return true}if(Ho(e)&&jo(e,r.depthOfLimit)){return true}return false}function s(e){let t=e.toString();if(r.stringLengthLimit&&t.length>r.stringLengthLimit){t=`${t.slice(0,r.stringLengthLimit)}...`}return t}}const Wo={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function Ko(e,t,r){const n=r?Object.assign({},Wo,r):Wo;const o=n.logger;if(!o){return()=>{}}let i;if(typeof o==="string"){i=t[o]}else{i=o}let s=0;const a=[];if(n.level.includes("error")){if(window){const t=t=>{const r=t.message,o=t.error;const i=Go.parse(o).map((e=>e.toString()));const s=[Yo(r,n.stringifyOptions)];e({level:"error",trace:i,payload:s})};window.addEventListener("error",t);a.push((()=>{if(window)window.removeEventListener("error",t)}))}}for(const e of n.level){a.push(c(i,e))}return()=>{a.forEach((e=>e()))};function c(t,r){if(!t[r]){return()=>{}}return _e(t,r,(t=>(...o)=>{t.apply(this,o);try{const t=Go.parse(new Error).map((e=>e.toString())).splice(1);const i=o.map((e=>Yo(e,n.stringifyOptions)));s++;if(s<n.lengthThreshold){e({level:r,trace:t,payload:i})}else if(s===n.lengthThreshold){e({level:"warn",trace:[],payload:[Yo("The number of log records reached the threshold.")]})}}catch(e){t("rrweb logger error:",e,...o)}}))}}const Xo="rrweb/console@1";const zo=e=>({name:Xo,observer:Ko,options:e});const $o="__rrweb_original__";const Zo={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],replayLogger:undefined};class qo{constructor(e){this.config=Object.assign(Zo,e)}getConsoleLogger(){const e={};for(const t of this.config.level){if(t==="trace"){e[t]=e=>{const t=console.log[$o]?console.log[$o]:console.log;t(...e.payload.map((e=>JSON.parse(e))),this.formatMessage(e))}}else{e[t]=e=>{const r=console[t][$o]?console[t][$o]:console[t];r(...e.payload.map((e=>JSON.parse(e))),this.formatMessage(e))}}}return e}formatMessage(e){if(e.trace.length===0){return""}const t="\n\tat ";let r=t;r+=e.trace.join(t);return r}}const Qo=e=>{const t=(e===null||e===void 0?void 0:e.replayLogger)||new qo(e).getConsoleLogger();return{handler(e,r,n){let o=null;if(e.type===Be.IncrementalSnapshot&&e.data.source===Ve.Log){o=e.data}else if(e.type===Be.Plugin&&e.data.plugin===Xo){o=e.data.payload}if(o){try{if(typeof t[o.level]==="function"){t[o.level](o)}}catch(e){if(n.replayer.config.showWarning){console.warn(e)}}}}}};r.EventType=Be;r.IncrementalSource=Ve;r.MouseInteractions=ke;r.PLUGIN_NAME=Xo;r.Replayer=wn;r.ReplayerEvents=Fe;r.addCustomEvent=Un;r.freezePage=xn;r.getRecordConsolePlugin=zo;r.getReplayConsolePlugin=Qo;r.pack=wo;r.record=ar;r.unpack=Uo;r.utils=xe}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:447,buffer:444,worker_threads:471}],449:[function(e,t,r){"use strict";function n(e){return typeof e==="function"}var o=console.error.bind(console);function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:true,enumerable:n,writable:true,value:r})}function s(e){if(e&&e.logger){if(!n(e.logger))o("new logger isn't a function, not replacing");else o=e.logger}}function a(e,t,r){if(!e||!e[t]){o("no original function "+t+" to wrap");return}if(!r){o("no wrapper function");o((new Error).stack);return}if(!n(e[t])||!n(r)){o("original object and wrapper must be functions");return}var s=e[t];var a=r(s,t);i(a,"__original",s);i(a,"__unwrap",(function(){if(e[t]===a)i(e,t,s)}));i(a,"__wrapped",true);i(e,t,a);return a}function c(e,t,r){if(!e){o("must provide one or more modules to patch");o((new Error).stack);return}else if(!Array.isArray(e)){e=[e]}if(!(t&&Array.isArray(t))){o("must provide one or more functions to wrap on modules");return}e.forEach((function(e){t.forEach((function(t){a(e,t,r)}))}))}function u(e,t){if(!e||!e[t]){o("no function to unwrap.");o((new Error).stack);return}if(!e[t].__unwrap){o("no original to unwrap to -- has "+t+" already been unwrapped?")}else{return e[t].__unwrap()}}function l(e,t){if(!e){o("must provide one or more modules to patch");o((new Error).stack);return}else if(!Array.isArray(e)){e=[e]}if(!(t&&Array.isArray(t))){o("must provide one or more functions to unwrap on modules");return}e.forEach((function(e){t.forEach((function(t){u(e,t)}))}))}s.wrap=a;s.massWrap=c;s.unwrap=u;s.massUnwrap=l;t.exports=s},{}],450:[function(e,t,r){(function(t,n){(function(){var o=e("process/browser.js").nextTick;var i=Function.prototype.apply;var s=Array.prototype.slice;var a={};var c=0;r.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)};r.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)};r.clearTimeout=r.clearInterval=function(e){e.close()};function u(e,t){this._id=e;this._clearFn=t}u.prototype.unref=u.prototype.ref=function(){};u.prototype.close=function(){this._clearFn.call(window,this._id)};r.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};r.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout((function t(){if(e._onTimeout)e._onTimeout()}),t)}};r.setImmediate=typeof t==="function"?t:function(e){var t=c++;var n=arguments.length<2?false:s.call(arguments,1);a[t]=true;o((function o(){if(a[t]){if(n){e.apply(null,n)}else{e.call(null)}r.clearImmediate(t)}}));return t};r.clearImmediate=typeof n==="function"?n:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":447,timers:450}],451:[function(e,t,r){!function(e,n){"object"==typeof r&&"undefined"!=typeof t?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).webVitals={})}(this,(function(e){"use strict";var t,r,n,o,i,s=-1,a=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},c=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},u=function(){var e=c();return e&&e.activationStart||0},l=function(e,t){var r=c(),n="navigate";s>=0?n="back-forward-cache":r&&(document.prerendering||u()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},d=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},p=function(e,t,r,n){var o,i;return function(s){t.value>=0&&(s||n)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},f=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},m=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},h=function(e){var t=!1;return function(){t||(e(),t=!0)}},E=-1,_=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},S=function(e){"hidden"===document.visibilityState&&E>-1&&(E="visibilitychange"===e.type?e.timeStamp:0,T())},g=function(){addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0)},T=function(){removeEventListener("visibilitychange",S,!0),removeEventListener("prerenderingchange",S,!0)},A=function(){return E<0&&(E=_(),g(),a((function(){setTimeout((function(){E=_(),g()}),0)}))),{get firstHiddenTime(){return E}}},y=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},v=[1800,3e3],O=function(e,t){t=t||{},y((function(){var r,n=A(),o=l("FCP"),i=d("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-u(),0),o.entries.push(e),r(!0)))}))}));i&&(r=p(e,o,v,t.reportAllChanges),a((function(n){o=l("FCP"),r=p(e,o,v,t.reportAllChanges),f((function(){o.value=performance.now()-n.timeStamp,r(!0)}))})))}))},R=[.1,.25],N=0,b=1/0,C=0,I=function(e){e.forEach((function(e){e.interactionId&&(b=Math.min(b,e.interactionId),C=Math.max(C,e.interactionId),N=C?(C-b)/7+1:0)}))},M=function(){"interactionCount"in performance||t||(t=d("event",I,{type:"event",buffered:!0,durationThreshold:0}))},P=[],L=new Map,D=0,w=function(){return(t?N:performance.interactionCount||0)-D},U=[],x=function(e){if(U.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=P[P.length-1],r=L.get(e.interactionId);if(r||P.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};L.set(n.id,n),P.push(n)}P.sort((function(e,t){return t.latency-e.latency})),P.length>10&&P.splice(10).forEach((function(e){return L.delete(e.id)}))}}},B=[200,500],V=[2500,4e3],k={},G=[800,1800],F=function e(t){document.prerendering?y((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},H={passive:!0,capture:!0},j=new Date,Y=function(e,t){r||(r=t,n=e,o=new Date,X(removeEventListener),W())},W=function(){if(n>=0&&n<o-j){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+n};i.forEach((function(t){t(e)})),i=[]}},K=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Y(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,H),removeEventListener("pointercancel",n,H)};addEventListener("pointerup",r,H),addEventListener("pointercancel",n,H)}(t,e):Y(t,e)}},X=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,K,H)}))},z=[100,300];e.CLSThresholds=R,e.FCPThresholds=v,e.FIDThresholds=z,e.INPThresholds=B,e.LCPThresholds=V,e.TTFBThresholds=G,e.onCLS=function(e,t){t=t||{},O(h((function(){var r,n=l("CLS",0),o=0,i=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>n.value&&(n.value=o,n.entries=i,r())},c=d("layout-shift",s);c&&(r=p(e,n,R,t.reportAllChanges),m((function(){s(c.takeRecords()),r(!0)})),a((function(){o=0,n=l("CLS",0),r=p(e,n,R,t.reportAllChanges),f((function(){return r()}))})),setTimeout(r,0))})))},e.onFCP=O,e.onFID=function(e,t){t=t||{},y((function(){var o,s=A(),c=l("FID"),u=function(e){e.startTime<s.firstHiddenTime&&(c.value=e.processingStart-e.startTime,c.entries.push(e),o(!0))},f=function(e){e.forEach(u)},E=d("first-input",f);o=p(e,c,z,t.reportAllChanges),E&&(m(h((function(){f(E.takeRecords()),E.disconnect()}))),a((function(){var s;c=l("FID"),o=p(e,c,z,t.reportAllChanges),i=[],n=-1,r=null,X(addEventListener),s=u,i.push(s),W()})))}))},e.onINP=function(e,t){t=t||{},y((function(){var r;M();var n,o=l("INP"),i=function(e){e.forEach(x);var t,r=(t=Math.min(P.length-1,Math.floor(w()/50)),P[t]);r&&r.latency!==o.value&&(o.value=r.latency,o.entries=r.entries,n())},s=d("event",i,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=p(e,o,B,t.reportAllChanges),s&&("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),m((function(){i(s.takeRecords()),n(!0)})),a((function(){D=0,P.length=0,L.clear(),o=l("INP"),n=p(e,o,B,t.reportAllChanges)})))}))},e.onLCP=function(e,t){t=t||{},y((function(){var r,n=A(),o=l("LCP"),i=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-u(),0),o.entries=[e],r())}))},s=d("largest-contentful-paint",i);if(s){r=p(e,o,V,t.reportAllChanges);var c=h((function(){k[o.id]||(i(s.takeRecords()),s.disconnect(),k[o.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return e=c,t=self.requestIdleCallback||self.setTimeout,r=-1,e=h(e),"hidden"===document.visibilityState?e():(r=t(e),m(e)),r;var e,t,r}),!0)})),m(c),a((function(n){o=l("LCP"),r=p(e,o,V,t.reportAllChanges),f((function(){o.value=performance.now()-n.timeStamp,k[o.id]=!0,r(!0)}))}))}}))},e.onTTFB=function(e,t){t=t||{};var r=l("TTFB"),n=p(e,r,G,t.reportAllChanges);F((function(){var o=c();o&&(r.value=Math.max(o.responseStart-u(),0),r.entries=[o],n(!0),a((function(){r=l("TTFB",0),(n=p(e,r,G,t.reportAllChanges))(!0)})))}))}}))},{}],452:[function(e,t,r){t.exports={name:"@middleware.io/browser",version:"0.0.5",description:"",main:"index.js",scripts:{browserify:"./node_modules/.bin/browserify index.js > script/middleware-rum.js",minify:"./node_modules/.bin/terser --mangle -- script/middleware-rum.js > script/middleware-rum.min.js",test:'echo "Error: no test specified" && exit 1'},author:"@middleware.io",license:"ISC",dependencies:{"@opentelemetry/api":"^1.7.0","@opentelemetry/api-metrics":"^0.33.0","@opentelemetry/core":"^1.19.0","@opentelemetry/exporter-collector":"^0.25.0","@opentelemetry/exporter-metrics-otlp-http":"^0.46.0","@opentelemetry/exporter-prometheus":"^0.46.0","@opentelemetry/exporter-trace-otlp-http":"^0.46.0","@opentelemetry/instrumentation":"^0.46.0","@opentelemetry/instrumentation-document-load":"^0.38.0","@opentelemetry/instrumentation-fetch":"^0.46.0","@opentelemetry/instrumentation-long-task":"^0.38.0","@opentelemetry/instrumentation-user-interaction":"^0.36.0","@opentelemetry/instrumentation-xml-http-request":"^0.49.1","@opentelemetry/propagator-b3":"^1.19.0","@opentelemetry/resources":"^1.19.0","@opentelemetry/sdk-metrics":"^1.19.0","@opentelemetry/sdk-node":"^0.46.0","@opentelemetry/sdk-trace-base":"^1.19.0","@opentelemetry/sdk-trace-web":"^1.19.0","@opentelemetry/semantic-conventions":"^1.19.0","auto-instrumentations-web":"^0.0.2",rrweb:"^2.0.0-alpha.4","web-vitals":"^4.0.1"},devDependencies:{browserify:"^17.0.0",terser:"^5.26.0"}}},{}],453:[function(e,t,r){const{FetchInstrumentation:n}=e("@opentelemetry/instrumentation-fetch");const o=e("@opentelemetry/sdk-trace-web");const i=e("@opentelemetry/core");class s extends n{constructor(e={}){super(e);const t=this._endSpan.bind(this);this._endSpan=(e,r,n)=>{let s=r.entries;if(!s.length){s=performance.getEntriesByType("resource")}const a=i.millisToHrTime(Date.now());const c=o.getResource(r.spanUrl,r.startTime,a,s,this._usedResources,"fetch");if(c.mainRequest){const t=c.mainRequest;if(t){e.setAttribute("resource.size",t.decodedBodySize);e.setAttribute("resource.transfer_size",t.transferSize);e.setAttribute("resource.duration",t.responseEnd-t.requestStart);e.setAttribute("resource.nextHopProtocol",t.nextHopProtocol);e.setAttribute("resource.connect.duration",t.connectEnd-t.connectStart);e.setAttribute("resource.ssl.duration",t.connectEnd-t.secureConnectionStart);e.setAttribute("resource.dns.duration",t.domainLookupEnd-t.domainLookupStart);e.setAttribute("resource.redirect.duration",t.redirectEnd-t.redirectStart);e.setAttribute("resource.first_byte.duration",t.responseStart-t.requestStart);e.setAttribute("resource.download.duration",t.responseEnd-t.responseStart)}}e.setAttribute("resource.type","fetch");t(e,r,n)}}}t.exports=s},{"@opentelemetry/core":58,"@opentelemetry/instrumentation-fetch":136,"@opentelemetry/sdk-trace-web":435}],454:[function(e,t,r){const{DocumentLoadInstrumentation:n}=e("@opentelemetry/instrumentation-document-load");const{isUrlIgnored:o}=e("@opentelemetry/core");const{SemanticAttributes:i}=e("@opentelemetry/semantic-conventions");const s=["beacon","fetch","xmlhttprequest"];class a extends n{config={};constructor(e={}){super(e);this.config=e}_endSpan(e,t,r){const n=e;if(e&&!n.name.includes("documentLoad")){if(n.name.includes("documentFetch")&&!r.serverTiming){const t=performance.getEntriesByType("navigation");if(t[0]?.serverTiming){r.serverTiming=t[0].serverTiming}for(const[t,n]of Object.entries(r)){const r=`navigation.${t}`;e.setAttribute(r,n)}}}if(e&&n.name.includes("documentLoad")){this._addExtraDocLoadTags(e)}return super._endSpan(e,t,r)}_initResourceSpan(e,t){if(s.indexOf(e.initiatorType)!==-1||o(e.name,this.config.ignoreUrls)){return}return super._initResourceSpan(e,t)}_addExtraDocLoadTags(e){if(document.referrer&&document.referrer!==""){e.setAttribute("document.referrer",document.referrer)}if(window.screen){e.setAttribute("screen.xy",window.screen.width+"x"+window.screen.height)}}}t.exports=a},{"@opentelemetry/core":58,"@opentelemetry/instrumentation-document-load":99,"@opentelemetry/semantic-conventions":438}],455:[function(e,t,r){const{XMLHttpRequestInstrumentation:n}=e("@opentelemetry/instrumentation-xml-http-request");class o extends n{config={};constructor(e={}){super(e);this.config=e}_addFinalSpanAttributes(e,t,r){if(t&&t.createdResources&&t.createdResources.entries&&t.createdResources.entries.length>0){const r=t.createdResources.entries[0];if(r){e.setAttribute("resource.size",r.decodedBodySize);e.setAttribute("resource.transfer_size",r.transferSize);e.setAttribute("resource.duration",r.responseEnd-r.requestStart);e.setAttribute("resource.nextHopProtocol",r.nextHopProtocol);e.setAttribute("resource.connect.duration",r.connectEnd-r.connectStart);e.setAttribute("resource.ssl.duration",r.connectEnd-r.secureConnectionStart);e.setAttribute("resource.dns.duration",r.domainLookupEnd-r.domainLookupStart);e.setAttribute("resource.redirect.duration",r.redirectEnd-r.redirectStart);e.setAttribute("resource.first_byte.duration",r.responseStart-r.requestStart);e.setAttribute("resource.download.duration",r.responseEnd-r.responseStart)}}e.setAttribute("resource.type","xhr");return super._addFinalSpanAttributes(e,t,r)}}t.exports=o},{"@opentelemetry/instrumentation-xml-http-request":168}],456:[function(e,t,r){class n{provider=undefined;constructor(e){this.provider=e}constructMetricData=e=>{if(this.provider===undefined){return}const t={attributes:[{key:"origin",value:{stringValue:this.provider.resource.attributes["origin"]}},{key:"mw.client_origin",value:{stringValue:this.provider.resource.attributes["rum_origin"]}},{key:"mw.account_key",value:{stringValue:this.provider.resource.attributes["mw.account_key"]}},{key:"rum_origin",value:{stringValue:this.provider.resource.attributes["rum_origin"]}},{key:"session_id",value:{stringValue:this.provider.resource.attributes["session.id"]}}],droppedAttributesCount:0};const r={};r["scope"]={};const n=[];e.forEach((e=>{const t={name:"rum_event",gauge:{dataPoints:[{attributes:[{key:"type",value:{stringValue:String(e.type)}},{key:"timestamp",value:{stringValue:String(e.timestamp)}},{key:"data",value:{stringValue:JSON.stringify(e.data)}}],timeUnixNano:String(e.timestamp*1e6),asDouble:0}]}};n.push(t)}));r["metrics"]=n;const o={resourceMetrics:[{resource:t,scopeMetrics:[r]}]};const i=JSON.stringify(o);return i};export(e){const t=this.constructMetricData(e);fetch(`${this.provider.resource.attributes["target"]}/v1/metrics`,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((e=>{if(!e.ok){e.json().then((t=>{if(e.status===500){if(t&&t.message){console.error("Middleware:",t.message)}}}))}})).catch((()=>{}))}}t.exports=n},{}],457:[function(e,t,r){class n{events=[];scheduledDelayMillis=0;exporter=undefined;timeout=undefined;constructor(e,t={}){this.scheduledDelayMillis=t.scheduledDelayMillis||5e3;this.exporter=e;window.addEventListener("unload",(()=>{this._flushAll()}))}onMetric(e){this.events.push(e);if(this.timeout===undefined){this.timeout=setTimeout((()=>{this.timeout=undefined;this._flushAll()}),this.scheduledDelayMillis)}}_flushAll(){const e=this.events.splice(0,this.events.length);this.exporter.export(e)}}t.exports=n},{}],458:[function(e,t,r){const{diag:n,DiagConsoleLogger:o,DiagLogLevel:i}=e("@opentelemetry/api");const s=e("./tracing");const a={accountKey:"",env:"prod",target:"",DEBUG:i.NONE,projectName:window.location.host,serviceName:"web-app",recording:"1",defaultAttributes:{},ignoreUrls:[],tracePropagationTargets:[],tracePropagationFormat:"b3"};t.exports.init=(e={})=>{Object.keys(a).forEach((t=>{a[t]=e[t]?e[t]:a[t]}));if(a.target){a.target=new URL(a.target).origin}n.setLogger(new o,a["DEBUG"]?i.DEBUG:i.NONE);s.init(a);return a};t.exports.setAttributes=(e={})=>{s.setAttributes(e)};t.exports.info=e=>{s.recordLog("info",e)};t.exports.warn=e=>{s.recordLog("warn",e)};t.exports.debug=e=>{s.recordLog("debug",e)};t.exports.error=e=>{s.recordLog("error",e)}},{"./tracing":467,"@opentelemetry/api":19}],459:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DEFAULT_SERVICE_NAME=r.HTTP_ACTION_TYPE=r.XHR_IS_ROOT_SPAN=r.ROOT_SPAN_HTTP_URL=r.ROOT_SPAN_OPERATION=r.INSTRUMENTED_EVENT_NAMES=r.DEFAULT_USER_INTERACTION_ELEMENT_NAME_LIMIT=r.BUFFER_TIMEOUT=r.MAX_EXPORT_BATCH_SIZE=r.BUFFER_MAX_SPANS=r.UNKNOWN_SERVICE_NAME=void 0;r.UNKNOWN_SERVICE_NAME="unknown";r.BUFFER_MAX_SPANS=2048;r.MAX_EXPORT_BATCH_SIZE=50;r.BUFFER_TIMEOUT=2e3;r.DEFAULT_USER_INTERACTION_ELEMENT_NAME_LIMIT=20;r.INSTRUMENTED_EVENT_NAMES=["click","dblclick","submit","reset","pause","play","dragstart","dragend","drop"];r.ROOT_SPAN_OPERATION="root_span.operation";r.ROOT_SPAN_HTTP_URL="root_span.http.url";r.XHR_IS_ROOT_SPAN="xhr.is_root_span";r.HTTP_ACTION_TYPE="http.action_type";r.DEFAULT_SERVICE_NAME="default.service.name"},{}],460:[function(e,t,r){const n=e=>{const t='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]), '+"textarea, "+"select, "+"[contenteditable], "+"[contenteditable] *, "+"canvas, "+"a[href], "+"a[href] *";if(!e.target.matches(t)){return true}return false};const o=e=>{const t=n(e);if(t){return"dead_click"}return undefined};t.exports={deadClick:o}},{}],461:[function(e,t,r){function n(t={}){if(!t.accountKey){return"accountKey is required"}else if(!t.target){return"target is required"}else{e("./config").init(t)}}t.exports.track=n;function o(t={}){if(typeof t==="object"&&Object.keys(t).length>0){e("./config").setAttributes(t)}else{console.error("Invalid attributes format. Please provide a non-empty object.")}}t.exports.setAttributes=o;var i={};i.track=n;i.setAttributes=o;i.info=(t="")=>{e("./config").info(t)};i.warn=(t="")=>{e("./config").warn(t)};i.debug=(t="")=>{e("./config").debug(t)};i.error=(t="")=>{e("./config").error(t)};if(typeof window!=="undefined"){window.Middleware=i}},{"./config":458}],462:[function(e,t,r){"use strict";const n=e("./recording");var o=this&&this.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++){if(i||!(n in t)){if(!i)i=Array.prototype.slice.call(t,0,n);i[n]=t[n]}}return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(r,"__esModule",{value:true});r.LogsExporter=void 0;var i=e("@opentelemetry/resources").Resource;var s=e("../package.json"),a=s.name,c=s.version;var u=e("@opentelemetry/core"),l=u.hrTime,d=u.hrTimeToNanoseconds;var p=e("@opentelemetry/api"),f=p,m=p.Attributes;var h=function(e){switch(typeof e){case"number":if(Number.isInteger(e)){return{intValue:e}}return{doubleValue:e};case"boolean":return{boolValue:e};case"object":if(Array.isArray(e)){return{arrayValue:{values:e.map((function(e){return h(e)}))}}}if(e!=null){return{kvlistValue:{values:Object.entries(e).map((function(e){var t=e[0],r=e[1];return _(t,r)}))}}}default:return{stringValue:String(e)}}};var E=function(e,t){var r=new Blob([t],{type:"application/json"});fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).catch((()=>{}))};var _=function(e,t){return{key:e,value:h(t)}};var S=function(e={}){return Object.entries(e).map((function(e){var t=e[0],r=e[1];return _(t,r)}))};var g=function(){function e(e){var t=e.resource,r=e.collectorUrl,n=e.attributes,o=e.maxQueueSize,i=e.scheduledDelayMillis,s=e.serviceName,a=e.projectName;this.resource=t;this.collectorUrl=r;this.defaultAttributes=n;this.maxQueueSize=o;this.scheduledDelayMillis=i;this.logs=[];this.projectName=a;this.serviceName=s}e.prototype.recordLog=function(e){let t=p.trace.getTracer("error-trace");let r=t.startSpan(e.message);var i=this;var s=o(o([],S(this.defaultAttributes),true),[_("type",e.type),_("http.url",location.href),_("project.name",this.projectName),_("service.name",this.serviceName),_("browser.trace",true)],false);r.setAttribute("type",e.type);r.setAttribute("http.url",location.href);r.setAttribute("project.name",this.projectName);r.setAttribute("service.name",this.serviceName);r.setAttribute("browser.trace",true);if(e.element){s.push(_("element.xpath",e.element.xpath));r.setAttribute("element.xpath",e.element.xpath)}if(e.error){r.setAttribute("level","error");r.setAttribute("event.type","error");r.setStatus({code:f.SpanStatusCode.ERROR,message:String(e.message)});r.recordException(e.message);s.push(_("level","error"));s.push(_("error.name",e.error.name));s.push(_("error.message",e.error.message));r.setAttribute("error.name",e.error.name);r.setAttribute("error.message",e.error.message);if(e.error.stack){s.push(_("error.stack",e.error.stack));r.setAttribute("error.stack",e.error.stack)}n.setCustomEvent(`error`)}if(e.arguments){s.push(_("arguments",e.arguments));r.setAttribute("arguments",e.arguments)}if(e.attributes){Object.entries(e.attributes).forEach((function(e){let t=e[0],n=e[1];s.push(_(t,n));r.setAttribute(t,n)}))}this.logs.push({observedTimeUnixNano:d(l()),body:{stringValue:e.message},attributes:s,droppedAttributesCount:0,traceId:r===null||r===void 0?"":r.spanContext().traceId,spanId:r===null||r===void 0?"":r.spanContext().spanId});if(this.logs.length>=this.maxQueueSize){this.export()}else if(this.timer===undefined){this.timer=Number(setTimeout((function(){return i.export()}),this.scheduledDelayMillis))}r.end()};e.prototype.export=function(){clearTimeout(this.timer);this.timer=undefined;var e=this.logs;if(!e.length)return;this.logs=[];var t=JSON.stringify({resourceLogs:[{resource:{attributes:S(this.resource.attributes)},scopeLogs:[{instrumentationLibrary:{name:a,version:c},logRecords:e}],schemaUrl:"https://opentelemetry.io/schemas/1.6.1"}]});E(this.collectorUrl,t)};return e}();r.LogsExporter=g},{"../package.json":452,"./recording":465,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/resources":346}],463:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LogsInstrumentation=void 0;var n=e("@opentelemetry/sdk-trace-web").getElementXPath;var o=e("../packages/logs-exporter"),i=o.LogRecord,s=o.LogsExporter;var a=500;var c=5e3;var u=function(e,t){return e.length>t?"".concat(e.slice(0,t),"..."):e};var l=function(e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack?u(e.stack,c):undefined}:undefined};var d=function(e,t){if(t===void 0){t=0}if(typeof e==="string"){var r=u(e,a);return t>0?'"'.concat(r,'"'):r}if(Array.isArray(e)){if(t>0){return"..."}return"[".concat(e.map((function(e){return d(e,t+1)})).join(", "),"]")}if(e instanceof Error){return d({name:e.name,message:e.message},t)}if(e!=null&&typeof e==="object"){if(t>0){return"..."}return"{ ".concat(Object.getOwnPropertyNames(e).map((function(r){return"".concat(r,": ").concat(d(e[r],t+1))})).join(", ")," }")}return String(e)};var p=function(e,t){if(t===void 0){t=new Set}var r=!t.has(e);t.add(e);if(Array.isArray(e)){return e.map((function(e){return p(e,t)}))}if(e!=null&&typeof e==="object"){var n={};Object.getOwnPropertyNames(e).forEach((function(o){var i=e[o];n[o]=t.has(i)&&(i!==e||r)?"[Circular]":p(i)}));return n}return e};var f=function(){function e(e){var t=this;var r=e.exporter;this.isEnabled=false;this.onError=function(e){t.exporter.recordLog({type:"uncaughtException",message:e.message,error:l(e.error)})};this.onUnhandledRejection=function(e){var r=e.reason;if(!r)return;var n=l(r);t.exporter.recordLog({type:"unhandledRejection",message:n?"Unhandled rejection ".concat(r):String(r),error:n})};this.onDocumentError=function(e){var r=e.target;if(!r)return;var o=n(r);if(!o)return;t.exporter.recordLog({type:"documentError",message:"Uncaught error in element ".concat(r.currentSrc?r.currentSrc:o),element:{xpath:o}})};this.onConsoleError=function(e){var r=e.find(l);var n=e.length>3||e.find((function(e){return e!=null&&typeof e==="object"&&!(e instanceof Error)}))?e.map((function(e){return p(e)})):undefined;t.exporter.recordLog({type:"consoleError",message:e.map((function(e){return d(e)})).join(" "),arguments:n,error:r})};this.exporter=r;var o=console.error;console.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(t.isEnabled){t.onConsoleError(e)}o.apply(console,e)}}e.prototype.enable=function(){this.disable();window.addEventListener("error",this.onError);window.addEventListener("unhandledrejection",this.onUnhandledRejection);document.documentElement.addEventListener("error",this.onDocumentError,{capture:true});this.isEnabled=true};e.prototype.disable=function(){window.removeEventListener("error",this.onError);window.removeEventListener("unhandledrejection",this.onUnhandledRejection);document.documentElement.removeEventListener("error",this.onDocumentError,{capture:true});this.isEnabled=false};return e}();r.LogsInstrumentation=f;r.maybeErrorToObject=l},{"../packages/logs-exporter":462,"@opentelemetry/sdk-trace-web":435}],464:[function(e,t,r){(()=>{const e=3;const t=10;const r=500;const n=new WeakMap;let o={};for(const e of window.document.querySelectorAll("*")){o.delta=0;o.last_click_timestamp_=0;o.last_click_position_=0;o.current_click_input_burst_=0;o.position={x:0,y:0};o.max_click_input_burst_=0;n.set(e,o)}window.rageClickListener=function(o,i){let s=n.get(o.target);if(s===undefined){s={};s.delta=0;s.last_click_timestamp_=0;s.last_click_position_=0;s.current_click_input_burst_=0;s.position={x:0,y:0};s.max_click_input_burst_=0;n.set(o.target,s)}const a=o.clientX;const c=o.clientY;const u=o.target;const l=o.timeStamp;s.delta=l-s.last_click_timestamp_;s.position={x:a,y:c};if(s.last_click_timestamp_!==undefined){s.delta=l-s.last_click_timestamp_;if(s.delta<r&&Math.abs(s.position.x-s.last_click_position_.x)<t&&Math.abs(s.position.y-s.last_click_position_.y)<t){s.current_click_input_burst_++;s.max_click_input_burst_=Math.max(s.max_click_input_burst_,s.current_click_input_burst_)}else{s.current_click_input_burst_=1}}else{s.current_click_input_burst_=1}s.last_click_timestamp_=l;s.last_click_position_=s.position;if(s.max_click_input_burst_>=e){i(u);s.position={x:0,y:0};s.max_click_input_burst_=0;s.current_click_input_burst_=0;s.last_click_position_=0;s.last_click_timestamp_=0;s.delta=0}}})()},{}],465:[function(e,t,r){"use strict";const n=e("rrweb");const o=e("./RRWebExporter");const i=e("./RRWebProcessor");const{SESSION_ID_ATTRIBUTE:s}=e("./tracing");const a=4*60*60*1e3;let c;let u=0;let l;const d={get inited(){return Boolean(l)},init(e){c=e.resource.attributes["session.id"];u=Date.now();const t=new o(e);const r=new i(t,{});l=n.record({maskInputOptions:{password:true},maskTextClass:"mw-mask",blockClass:"mw-block",emit(t){if(e.resource.attributes["session.id"]!==c){if(document.hidden){return}c=e.resource.attributes["session.id"];u=Date.now();n.record.takeFullSnapshot()}if(t.timestamp>u+a){return}r.onMetric(t)},sampling:{scroll:150,media:800,input:"last"}})},setCustomEvent(e,t){if(!l){return}n.record.addCustomEvent(e,t)},deinit(){if(!l){return}l();l=false}};t.exports=d},{"./RRWebExporter":456,"./RRWebProcessor":457,"./tracing":467,rrweb:448}],466:[function(e,t,r){const{RandomIdGenerator:n}=e("@opentelemetry/sdk-trace-web");const{findCookieValue:o,isIframe:i}=e("./util");const s=4*60*60*1e3;const a=15*60;const c=60;const u="_mwRumSessionId_0_3";let l;let d=false;let p;const f=()=>{d=true};const m=e=>{const t=Date.now();return e>t||t>e+s};const h=()=>{const e=o(u);if(!e){return undefined}const t=decodeURIComponent(e);if(!t){return undefined}let r=undefined;try{r=JSON.parse(t)}catch(e){return undefined}if(!r||typeof r!=="object"){return undefined}if(!r.id||typeof r.id!=="string"){return undefined}if(!r.startTime||typeof r.startTime!=="number"||m(r.startTime)){return undefined}return r};const E=()=>({id:(new n).generateTraceId(),startTime:Date.now()});const _=e=>{if(m(e.startTime)){return}const t=encodeURIComponent(JSON.stringify(e));const r=p?`domain=${p};`:"";let n=u+"="+t+"; path=/;"+r+"max-age="+a;if(i()){n+=";SameSite=None; Secure"}else{n+=";SameSite=Strict"}document.cookie=n};const S=e=>{let t=h();if(!t){t=E();l=t.id;d=true;e()}l=t.id;if(d){_(t)}d=false};const g=()=>typeof window!=="undefined"&&window["MiddlewareNative"]&&window["MiddlewareNative"].getNativeSessionId;const T=()=>{if(g()){return}const e=E();_(e);return e};r.sessionInit=T;const A=(e,t)=>{if(g()){return}if(t){p=t}d=true;S(e);const r=setInterval((()=>S(e)),c*1e3);["click","scroll","mousedown","keydown","touchend","visibilitychange"].forEach((e=>document.addEventListener(e,f,{capture:true,passive:true})));return{deinit:()=>{clearInterval(r)}}};r.initSessionTracking=A;const y=()=>{if(g()){return window["MiddlewareNative"].getNativeSessionId()}return l};r.getRumSessionId=y},{"./util":468,"@opentelemetry/sdk-trace-web":435}],467:[function(e,t,r){class n{constructor(e,t){this.attributeName=e;this.attributeValue=t}onStart(e){}onEnd(e){const t=e.attributes;t[this.attributeName]=this.attributeValue;e.setAttributes(t)}shutdown(){}}const{maybeErrorToObject:o}=e("../packages/logs-instrumentation");const{B3Propagator:i,B3InjectEncoding:s}=e("@opentelemetry/propagator-b3");const{CompositePropagator:a,W3CTraceContextPropagator:c}=e("@opentelemetry/core");const{initSessionTracking:u,getRumSessionId:l,sessionInit:d}=e("./session");const{computeResourceKind:p,computeResourceProviderType:f}=e("./utils/httpUtils");const{LongTaskInstrumentation:m}=e("@opentelemetry/instrumentation-long-task");const{initWebVitals:h}=e("./webvitals");const E=e("./recording");const _="session.id";r.SESSION_ID_ATTRIBUTE=_;let S={};function g(){let e=window.navigator.userAgent,t=window.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],o=["iPhone","iPad","iPod"],i=null;if(r.indexOf(t)!==-1){i="Mac OS"}else if(o.indexOf(t)!==-1){i="iOS"}else if(n.indexOf(t)!==-1){i="Windows"}else if(/Android/.test(e)){i="Android"}else if(!i&&/Linux/.test(t)){i="Linux"}return i}function T(){let e=navigator.userAgent;let t;if(e.match(/chrome|chromium|crios/i)){t="Chrome"}else if(e.match(/firefox|fxios/i)){t="Firefox"}else if(e.match(/safari/i)){t="Safari"}else if(e.match(/opr\//i)){t="Opera"}else if(e.match(/edg/i)){t="Edge"}else{t="No browser detection"}return t}let A;let y;let v;let O;t.exports.init=t=>{oldConfig=t;const r=e("@opentelemetry/api");const{trace:o,context:N,propagation:b}=e("@opentelemetry/api");const{WebTracerProvider:C}=e("@opentelemetry/sdk-trace-web");const{BatchSpanProcessor:I}=e("@opentelemetry/sdk-trace-base");const{OTLPTraceExporter:M}=e("@opentelemetry/exporter-trace-otlp-http");const{registerInstrumentations:P}=e("@opentelemetry/instrumentation");const{Resource:L}=e("@opentelemetry/resources");const{SemanticResourceAttributes:D}=e("@opentelemetry/semantic-conventions");const{LogsExporter:w}=e("../packages/logs-exporter");const{LogsInstrumentation:U}=e("../packages/logs-instrumentation");const x=e("./MiddlewareLoadInstrumentation");const B=e("./MiddlewareXHRInstrumentation");const V=e("./MiddlewareFetchInstrumentation");const{MeterProvider:k,PeriodicExportingMetricReader:G}=e("@opentelemetry/sdk-metrics");const{OTLPMetricExporter:F}=e("@opentelemetry/exporter-metrics-otlp-http");const{DEFAULT_USER_INTERACTION_ELEMENT_NAME_LIMIT:H}=e("./constants");const{getUserInteractionSpanName:j}=e("./util");const{deadClick:Y}=e("./deadClick");const W=e("./rageClick");const K=2e3;const X=2048;const z=d();v=u(R);S={...S,...t.defaultAttributes};let $=new L({[D.SERVICE_NAME]:t.serviceName,["mw_agent"]:true,["project.name"]:t.projectName,["mw.account_key"]:t.accountKey,["env"]:t.env,["browser.trace"]:true,["type"]:"rum",["target"]:t.target,["origin"]:window.location.origin,["rum_origin"]:window.location.origin,[_]:l(),...S});A=new C({resource:$});Object.defineProperty(A.resource.attributes,_,{get(){return l()},configurable:true,enumerable:true});o.setGlobalTracerProvider(A);if(t.tracePropagationFormat==="w3c"){A.register({propagator:new c})}else if(t.tracePropagationFormat==="b3"){A.register({propagator:new a({propagators:[new i,new i({injectEncoding:s.MULTI_HEADER})]})})}else{A.register({propagator:new a({propagators:[new c,new i,new i({injectEncoding:s.MULTI_HEADER})]})})}const Z={};b.inject(N.active(),Z);const q=g();const Q=T();A.addSpanProcessor(new I(new M({url:`${t.target}/v1/traces`,headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"*"},concurrencyLimit:10,exportTimeoutMillis:1e4})));A.addSpanProcessor(new n(_,l()));A.addSpanProcessor(new n("os",q));A.addSpanProcessor(new n("browser.name",Q));A.addSpanProcessor(new n("navigator.userAgent",navigator.userAgent.toString()));A.addSpanProcessor(new n("env",t.env));A.addSpanProcessor(new n("root.url",window.location.pathname));A.addSpanProcessor(new n("recording.available",t.recording=="1"?"true":"false"));y=new w({resource:$,collectorUrl:`${t.target}/v1/logs`,maxQueueSize:X,scheduledDelayMillis:K,projectName:t.projectName,serviceName:t.serviceName});const J=new U({exporter:y});J.enable();document.addEventListener("click",(e=>{const t=new Set(["click"]);const n=e.target;if(!(n instanceof HTMLElement)){return undefined}if(!n.getAttribute){return undefined}if(n.hasAttribute("disabled")){return undefined}if(!t.has(e.type)){return undefined}let o=r.trace.getTracer("user-interaction");const i=j(e.type,n,H);let s=o.startSpan(i);e.target.dataset.spanId=s.spanContext().spanId;let a=false;window.rageClickListener(e,(t=>{a=true;s.setAttribute("frustration.type","rage_click");E.setCustomEvent("rage_click",{type:e.type,component:"user-interaction"})}));if(!a){const t=Y(e);if(t){s.setAttribute("frustration.type",t);E.setCustomEvent(t,{type:e.type,component:"user-interaction"})}else{E.setCustomEvent("click",{type:e.type,component:"user-interaction"})}}s.setAttribute("event.type",e.type);s.setAttribute("component","user-interaction");s.setAttribute("target_element",n.tagName);s.setAttribute("target_xpath","xpath");s.setAttribute("http.url",window.location.href);s.setAttribute("http.user_agent",navigator.userAgent);s.end()}));const ee=[`${t.target}/v1/metrics`,`${t.target}/v1/traces`,`${t.target}/v1/logs`,...t.ignoreUrls];P({instrumentations:[new m({enabled:true,observerCallback:(e,t)=>{e.setAttribute("event.type","longtask");e.updateName(`${e.name} ${window.location.pathname}`);const r=t.longtaskEntry.attribution;if(Array.isArray(r)){r.forEach(((t,r)=>{const n=t>1?`longtask.attribution[${r}]`:"longtask.attribution";e.setAttribute(`${n}.name`,t.name);e.setAttribute(`${n}.entry_type`,t.entryType);e.setAttribute(`${n}.start_time`,t.startTime);e.setAttribute(`${n}.duration`,t.duration);e.setAttribute(`${n}.container_type`,t.containerType);e.setAttribute(`${n}.container_src`,t.containerSrc);e.setAttribute(`${n}.container_id`,t.containerId);e.setAttribute(`${n}.container_name`,t.containerName)}))}e.setAttribute("page.path",window.location.pathname)}}),new x({applyCustomAttributesOnSpan:{documentLoad:e=>{e.setAttribute("event.type","load");e.updateName(`${e.name} ${ne["root.url"]}`)},resourceFetch:(e,t)=>{e.setAttribute("resource.status_code",t.responseStatus);e.setAttribute("resource.size",t.decodedBodySize);e.setAttribute("resource.transfer_size",t.transferSize);e.setAttribute("resource.duration",t.responseEnd-t.requestStart);e.setAttribute("resource.nextHopProtocol",t.nextHopProtocol);e.setAttribute("resource.connect.duration",t.connectEnd-t.connectStart);e.setAttribute("resource.ssl.duration",t.connectEnd-t.secureConnectionStart);e.setAttribute("resource.dns.duration",t.domainLookupEnd-t.domainLookupStart);e.setAttribute("resource.redirect.duration",t.redirectEnd-t.redirectStart);e.setAttribute("resource.first_byte.duration",t.responseStart-t.requestStart);e.setAttribute("resource.download.duration",t.responseEnd-t.responseStart);const r=p(t);e.setAttribute("resource.type",r.type);e.setAttribute("resource.url_path",r.path);e.setAttribute("resource.url",r.url.toString());e.setAttribute("resource.url_host",r.url.host);e.setAttribute("resource.url_scheme",r.url.protocol);e.setAttribute("resource.provider.type",f(t));e.updateName(`${e.name} ${r.path}`)}}}),new B({ignoreUrls:ee,propagateTraceHeaderCorsUrls:t.tracePropagationTargets,applyCustomAttributesOnSpan:(e,t)=>{e.updateName(`${e.name} ${t.responseURL}`);e.setAttribute("event.type","xhr")}}),new V({ignoreUrls:ee,propagateTraceHeaderCorsUrls:t.tracePropagationTargets,clearTimingResources:true,applyCustomAttributesOnSpan:(e,t,r)=>{e.updateName(`${e.name} ${r.url}`);e.setAttribute("event.type","fetch")}})]});const te={url:`${t.target}/v1/metrics`,headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"*"},concurrencyLimit:1};const re=new F(te);O=new k({resource:new L({[D.SERVICE_NAME]:t.serviceName,["mw_agent"]:true,["project.name"]:t.projectName,["mw.account_key"]:t.accountKey,["env"]:t.env,["browser.trace"]:true,["type"]:"rum",["target"]:t.target,["origin"]:window.location.origin,["rum_origin"]:window.location.origin,...S})});O.addMetricReader(new G({exporter:re,exportIntervalMillis:2e4}));const ne=A.resource.attributes||{};ne["os"]=q;ne["browser.name"]=Q;ne["navigator.userAgent"]=navigator.userAgent.toString();ne["root.url"]=window.location.pathname;h(O,ne);let oe=O.getMeter("mw-counter").createCounter("user.status",{description:"User Status ",unit:"",valueType:1});oe.add(1,ne);if(t.recording=="1"){E.init(A)}};const R=()=>{if(v){const e=l();if(A){A.resource.attributes["session.id"]=e}if(y){y.resource.attributes["session.id"]=e}E.deinit();E.init(A)}};t.exports.setAttributes=(e={})=>{S={...S,...e};for(const e in S){if(A){A.resource.attributes[e]=S[e]}if(y){y.resource.attributes[e]=S[e]}}};t.exports.recordLog=(e,t)=>{y.recordLog({type:e,message:t instanceof Error?t.message:String(t),error:t instanceof Error?o(t):e==="error"?o(new Error(String(t))):undefined})}},{"../packages/logs-exporter":462,"../packages/logs-instrumentation":463,"./MiddlewareFetchInstrumentation":453,"./MiddlewareLoadInstrumentation":454,"./MiddlewareXHRInstrumentation":455,"./constants":459,"./deadClick":460,"./rageClick":464,"./recording":465,"./session":466,"./util":468,"./utils/httpUtils":469,"./webvitals":470,"@opentelemetry/api":19,"@opentelemetry/core":58,"@opentelemetry/exporter-metrics-otlp-http":91,"@opentelemetry/exporter-trace-otlp-http":94,"@opentelemetry/instrumentation":299,"@opentelemetry/instrumentation-long-task":138,"@opentelemetry/propagator-b3":333,"@opentelemetry/resources":346,"@opentelemetry/sdk-metrics":383,"@opentelemetry/sdk-trace-base":422,"@opentelemetry/sdk-trace-web":435,"@opentelemetry/semantic-conventions":438}],468:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getCollectionSourceUrl=r.tryNumber=r.getUserInteractionSpanName=void 0;var n=e("./constants");var o=function(e,t,r){var n;var o="";var i=t;while(i&&!o){o=i.getAttribute("aria-label")||i.id||i.textContent||i.value||"";o=o.trim();i=i.parentElement}if(o){return"".concat(e," on '").concat(o,"'")}};r.getUserInteractionSpanName=o;var i=function(e){if(typeof e==="number"){return e}return e!=null&&Number.isFinite(+e)?+e:undefined};r.tryNumber=i;var s=function(e){var t=new URL(e);t.pathname=t.pathname.replace(/\/v1\/(traces|metrics|logs)\/?$/,"");if(!t.pathname.endsWith("/")){t.pathname+="/"}return t.href};r.getCollectionSourceUrl=s;const a=e=>{const t=decodeURIComponent(document.cookie);const r=t.split(";");for(let t=0;t<r.length;t++){const n=r[t].trim();if(n.indexOf(e+"=")===0){return n.substring((e+"=").length,n.length)}}return undefined};r.findCookieValue=a;const c=()=>{try{return window.self!==window.top}catch(e){return true}};r.isIframe=c},{"./constants":459}],469:[function(e,t,r){const n={DOCUMENT:"document",XHR:"xhr",BEACON:"beacon",FETCH:"fetch",CSS:"css",JS:"js",IMAGE:"image",FONT:"font",MEDIA:"media",OTHER:"other"};const o={FETCH:n.FETCH,XHR:n.XHR};const i="initial_document";function s(e,t){return e.indexOf(t)!==-1}const a=[[n.DOCUMENT,e=>i===e],[n.XHR,e=>"xmlhttprequest"===e],[n.FETCH,e=>"fetch"===e],[n.BEACON,e=>"beacon"===e],[n.CSS,(e,t)=>/\.css$/i.test(t)],[n.JS,(e,t)=>/\.js$/i.test(t)],[n.IMAGE,(e,t)=>s(["image","img","icon"],e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null],[n.FONT,(e,t)=>/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null],[n.MEDIA,(e,t)=>s(["audio","video"],e)||/\.(mp3|mp4)$/i.exec(t)!==null]];const c=e=>{const t=e.trim().split(/[\r\n]+/);const r={};t.forEach((e=>{const t=e.split(": ");const n=t.shift();const o=t.join(": ");r[n]=o}));return r};function u(e){try{return!!d(e)}catch{return false}}function l(e){const t=d(e).pathname;return t[0]==="/"?t:`/${t}`}function d(e,t){const r=m();if(r){try{return t!==undefined?new r(e,t):new r(e)}catch(r){throw new Error(`Failed to construct URL: ${String(r)} ${JSON.stringify({url:e,base:t})}`)}}if(t===undefined&&!/:/.test(e)){throw new Error(`Invalid URL: '${e}'`)}let n=document;const o=n.createElement("a");if(t!==undefined){n=document.implementation.createHTMLDocument("");const e=n.createElement("base");e.href=t;n.head.appendChild(e);n.body.appendChild(o)}o.href=e;return o}const p=URL;let f;function m(){if(f===undefined){try{const e=new p("http://test/path");f=e.href==="http://test/path"}catch{f=false}}return f?p:undefined}const h=e=>{const t=e.name;if(!u(t)){return{type:n.OTHER,path:t,url:new URL(t)}}const r=l(t);for(const[n,o]of a){if(o(e.initiatorType,r)){return{type:n,path:r,url:new URL(t)}}}return{type:n.OTHER,path:r,url:new URL(t)}};const E={other:"other",firstParty:"first-party",cdn:"cdn",social:"social",analytics:"analytics"};function _(e){if(!u(e.name)){return E.other}return S(e.name)}function S(e){const t=window.location.hostname;const r=new URL(e).hostname;if(t===r){return E.firstParty}else{if(g(r)){return E.cdn}if(T(r)){return E.analytics}if(A(r)){return E.social}return E.other}}function g(e){return e.includes("cdn")}function T(e){return e.includes("analytics")}function A(e){return e.includes("social")}t.exports={getResponseHeaders:c,computeResourceKind:h,computeResourceProviderType:_}},{}],470:[function(e,t,r){const{onCLS:n,onLCP:o,onFID:i,onINP:s,onFCP:a,onTTFB:c}=e("web-vitals");const u={};const l=(e,t,r,n)=>{if(u[t]){return}u[t]=true;const o=r.value;const i=Date.now();const s=e.createCounter(t,{description:t,unit:t==="layout-shift"||t==="first-contentful-paint"?"s":"ms",valueType:1});s.add(o,n)};const d=(e,t)=>{const r=e.getMeter("mw-counter");i((e=>{l(r,"first-input-delay",e,t)}));n((e=>{l(r,"layout-shift",e,t)}));o((e=>{l(r,"largest-contentful-paint",e,t)}));s((e=>{l(r,"interaction-next-paint",e,t)}));a((e=>{l(r,"first-contentful-paint",e,t)}));c((e=>{l(r,"ttfb",e,t)}))};t.exports={initWebVitals:d}},{"web-vitals":451}],471:[function(e,t,r){},{}]},{},[1]);
